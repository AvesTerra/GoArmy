

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Session operations &mdash; AvesTerra 2.5.3 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Registry operations" href="registry.html" />
    <link rel="prev" title="AvesTerra Avial, Python edition" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> AvesTerra
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Session operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initialize">initialize</a></li>
<li class="toctree-l2"><a class="reference internal" href="#finalize">finalize</a></li>
<li class="toctree-l2"><a class="reference internal" href="#local-server">local_server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#entity-operations">Entity operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-entity">create_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delete-entity">delete_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#save-entity">save_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#restore-entity">restore_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-entity">erase_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#redirect-entity">redirect_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reference-entity">reference_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dereference-entity">dereference_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#invoke-entity">invoke_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inquire-entity">inquire_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#change-entity">change_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-extinct">entity_extinct</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-available">entity_available</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-ready">entity_ready</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-name">entity_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-class">entity_class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-subclass">entity_subclass</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-server">entity_server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-references">entity_references</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-timestamp">entity_timestamp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#comprehensive-operations">Comprehensive operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#store-entity">store_entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieve-entity">retrieve_entity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#value-operations">Value operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-value">get_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-value">set_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clear-value">clear_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#insert-value">insert_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#remove-value">remove_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#replace-value">replace_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-value">erase_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find-value">find_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieve-value">retrieve_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#value-count">value_count</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#label-operations">Label operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-label">get_label</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-label">set_label</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clear-label">clear_label</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-label">erase_label</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find-label">find_label</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#attribute-operations">Attribute operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-attribute">get_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-attribute">set_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clear-attribute">clear_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-attribute">erase_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find-attribute">find_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieve-attribute">retrieve_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attribute-item">attribute_item</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attribute-count">attribute_count</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#property-operations">Property operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-property">get_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-property">set_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clear-property">clear_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-property">erase_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find-property">find_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#retrieve-property">retrieve_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#insert-property">insert_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#remove-property">remove_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#replace-property">replace_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#update-property">update_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lookup-property">lookup_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#sort-property">sort_property</a></li>
<li class="toctree-l2"><a class="reference internal" href="#property-name">property_name</a></li>
<li class="toctree-l2"><a class="reference internal" href="#property-key">property_key</a></li>
<li class="toctree-l2"><a class="reference internal" href="#property-value">property_value</a></li>
<li class="toctree-l2"><a class="reference internal" href="#property-count">property_count</a></li>
<li class="toctree-l2"><a class="reference internal" href="#property-member">property_member</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#annotation-operations">Annotation operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#get-annotation">get_annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#set-annotation">set_annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clear-annotation">clear_annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-annotation">erase_annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#find-annotation">find_annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#annotation-count">annotation_count</a></li>
<li class="toctree-l2"><a class="reference internal" href="#annotation-item">annotation_item</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#connection-operations">Connection operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#connection-count">connection_count</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#attachment-operations">Attachment operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#attachment-count">attachment_count</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attach-attribute">attach_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#detach-attribute">detach_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attribute-attached">attribute_attached</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attachment-attribute">attachment_attribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attachment-precedence">attachment_precedence</a></li>
<li class="toctree-l2"><a class="reference internal" href="#attachment-outlet">attachment_outlet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#event-operations">Event operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#publish-event">publish_event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subscribe-event">subscribe_event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cancel-event">cancel_event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#flush-event">flush_event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#wait-event">wait_event</a></li>
<li class="toctree-l2"><a class="reference internal" href="#event-count">event_count</a></li>
<li class="toctree-l2"><a class="reference internal" href="#subscription-count">subscription_count</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#outlet-operations">Outlet operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-outlet">create_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delete-outlet">delete_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#activate-outlet">activate_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#deactivate-outlet">deactivate_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-activated">entity_activated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adapt-outlet">adapt_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#reset-outlet">reset_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lock-outlet">lock_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#unlock-outlet">unlock_outlet</a></li>
<li class="toctree-l2"><a class="reference internal" href="#entity-locked">entity_locked</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#data-operations">Data operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#read-data">read_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#write-data">write_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#erase-data">erase_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-count">data_count</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#classes">Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="registry.html">Registry operations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AvesTerra</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Session operations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/avial.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-avesterra.avial"></span><div class="section" id="session-operations">
<h1>Session operations<a class="headerlink" href="#session-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="initialize">
<h2>initialize<a class="headerlink" href="#initialize" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">server='&lt;0|0|0&gt;'</em>, <em class="sig-param">auth_code=0</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Start an AvesTerra session.</p>
<p>Start an AvesTerra session, initializing communication with the
AvesTerra server, downloading and initializing the taxonomy, and loading the
store format schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>server</strong> (<em>str</em><em> or </em><em>Entity</em><em>, </em><em>optional</em>) – the server or the UUID of the server to which the session is made. If
not provided, the session is connected to a server running on the local
host.</p></li>
<li><p><strong>auth_code</strong> (<em>int</em><em>, </em><em>optional</em>) – numeric code to authorize the server. If not provided, zero is assumed,
and will work if the server requires no authorization code.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Authorization object, to be supplied to other operations in the
session</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Authorization</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – If <code class="docutils literal notranslate"><span class="pre">server</span></code> is neither a UUID nor an AvesTerra server entity</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.finalize" title="avesterra.avial.finalize"><code class="xref py py-func docutils literal notranslate"><span class="pre">finalize()</span></code></a></dt><dd><p>end the AvesTerra session</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
</pre></div>
</div>
<p>Start an AvesTerra session, returning an authorization token for
subsequent use.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a new entity. (See <a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a> for details.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ths</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;The Hold Steady&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">&#39;&lt;2906857743|167772516|804228&gt;&#39;</span>
</pre></div>
</div>
<p>End the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="finalize">
<h2>finalize<a class="headerlink" href="#finalize" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>End the AvesTerra session.</p>
<p>End the AvesTerra session. If no session has been started or the session is
already ended, does nothing.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.initialize" title="avesterra.avial.initialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">initialize()</span></code></a></dt><dd><p>start an AvesTerra session</p>
</dd>
</dl>
</div>
</dd></dl>

</div>
<div class="section" id="local-server">
<h2>local_server<a class="headerlink" href="#local-server" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.local_server">
<code class="sig-name descname">local_server</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.local_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the local server.</p>
<p>Return the entity representing the local server, the server on which new
entities are to be created.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the entity of the local server</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Entity</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.initialize" title="avesterra.avial.initialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">initialize()</span></code></a></dt><dd><p>start an AvesTerra session</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_server" title="avesterra.avial.entity_server"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_server()</span></code></a></dt><dd><p>return the server that manages an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Find the local server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">local_server</span><span class="p">()</span>
<span class="go">Entity(2906857743, 167772516, 0)</span>
</pre></div>
</div>
<p>Find the UUID of the local server</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">local_server</span><span class="p">())</span>
<span class="go">&#39;&lt;2906857743|167772516|0&gt;&#39;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="entity-operations">
<h1>Entity operations<a class="headerlink" href="#entity-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="create-entity">
<h2>create_entity<a class="headerlink" href="#create-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.create_entity">
<code class="sig-name descname">create_entity</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">klass</em>, <em class="sig-param">subklass</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">outlet=None</em>, <em class="sig-param">autosave=True</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.create_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a new entity.</p>
<p>Create an entity and connect it to an outlet. Indicate whether changes
to the entity should be saved automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – the name of the entity to be created, as a string. Subsequent calls to
<a class="reference internal" href="#avesterra.avial.entity_name" title="avesterra.avial.entity_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_name()</span></code></a> will return this string.</p></li>
<li><p><strong>klass</strong> (<a class="reference internal" href="#avesterra.avial.Class" title="avesterra.avial.Class"><em>Class</em></a>) – the AvesTerra class (not Python class) of the entity to be created.
Subsequent calls to <a class="reference internal" href="#avesterra.avial.entity_class" title="avesterra.avial.entity_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_class()</span></code></a> will return this class.</p></li>
<li><p><strong>subklass</strong> (<a class="reference internal" href="#avesterra.avial.Subclass" title="avesterra.avial.Subclass"><em>Subclass</em></a>) – the AvesTerra subclass of the entity to be created. Subsequent calls
to <a class="reference internal" href="#avesterra.avial.entity_subclass" title="avesterra.avial.entity_subclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_subclass()</span></code></a> will return this subclass.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the creation of the entity.</p></li>
<li><p><strong>outlet</strong> (<em>Entity</em><em>, </em><em>optional</em>) – the outlet that is responsible for maintaining this entity. The outlet
is often the object outlet, provided by a call to
<code class="xref py py-func docutils literal notranslate"><span class="pre">object_outlet()</span></code>. If not provided, no outlet is connected to
the entity. See <code class="xref py py-func docutils literal notranslate"><span class="pre">connect_method()</span></code> for more on connections.</p></li>
<li><p><strong>autosave</strong> (<em>bool</em><em>, </em><em>optional</em>) – should every change to the class be automatically saved by the outlet?
Or should changes only be saved on an explicit call to
<a class="reference internal" href="#avesterra.avial.save_entity" title="avesterra.avial.save_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_entity()</span></code></a>?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The newly created AvesTerra entity.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>at.Entity</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – If <code class="docutils literal notranslate"><span class="pre">name</span></code> is not a string, <code class="docutils literal notranslate"><span class="pre">klass</span></code> is not an AvesTerra class,
    <code class="docutils literal notranslate"><span class="pre">subklass</span></code> is not an AvesTerra class, <code class="docutils literal notranslate"><span class="pre">outlet</span></code> is not an outlet,
    <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize the creation.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.delete_entity" title="avesterra.avial.delete_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_entity()</span></code></a></dt><dd><p>delete an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_name" title="avesterra.avial.entity_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_name()</span></code></a></dt><dd><p>return the name of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_class" title="avesterra.avial.entity_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_class()</span></code></a></dt><dd><p>return the AvesTerra class of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_subclass" title="avesterra.avial.entity_subclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_subclass()</span></code></a></dt><dd><p>return the AvesTerra subclass of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a new entity, with class ORGANIZATION and subclass GROUP. Connect
it to the object outlet. Set autosave, so all changes to the entity are
automatically persisted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ths</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;The Hold Steady&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>What is the name of the newly created entity?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_name</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">&#39;The Hold Steady&#39;</span>
</pre></div>
</div>
<p>What is the class?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_class</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">&lt;Class.ORGANIZATION: 5&gt;</span>
</pre></div>
</div>
<p>What is the subclass?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_subclass</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">&lt;Subclass.GROUP: 76&gt;</span>
</pre></div>
</div>
<p>Clean up the example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="delete-entity">
<h2>delete_entity<a class="headerlink" href="#delete-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.delete_entity">
<code class="sig-name descname">delete_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">ignore_references=False</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.delete_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the entity. If there are references to the entity (if the reference
count is greater than zero), the entity can only be deleted by specifying
a <code class="docutils literal notranslate"><span class="pre">True</span></code> value for <code class="docutils literal notranslate"><span class="pre">ignore_references</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be deleted.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the deletion of the entity.</p></li>
<li><p><strong>ignore_references</strong> (<em>bool</em><em>, </em><em>optional</em>) – if the entity has a reference count greater than zero, should it be
deleted anyway? The default is <code class="docutils literal notranslate"><span class="pre">False</span></code>: raise an exception
on an attempt to delete an entity with a reference
count greater than zero.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">entity</span></code> has a non-zero
    reference count and <code class="docutils literal notranslate"><span class="pre">ignore_references</span></code> is <code class="docutils literal notranslate"><span class="pre">False</span></code>, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does
    not authorize the deletion.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_extinct" title="avesterra.avial.entity_extinct"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_extinct()</span></code></a></dt><dd><p>has entity been deleted already?</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ths</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;The Hold Steady&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that this entity has not yet been deleted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_extinct</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Delete the newly created entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify that the entity is deleted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_extinct</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Create another entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gb</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Gogol Bordello&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Increment the reference count of the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">reference_entity</span><span class="p">(</span><span class="n">gb</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">gb</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Attempt to delete the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">gb</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="go">AvialError: Attempt to delete entity with non-zero reference count</span>
</pre></div>
</div>
<p>Delete the entity, ignoring the reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">gb</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">ignore_references</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify that the entity is deleted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_extinct</span><span class="p">(</span><span class="n">gb</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="save-entity">
<h2>save_entity<a class="headerlink" href="#save-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.save_entity">
<code class="sig-name descname">save_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.save_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Persist any non-persisted changes.</p>
<p>Persist any non-persisted changes.
Has no effect if the entity is connected to an adapter with autosave.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be saved.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the saving of the entity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or if <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize the saving.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.restore_entity" title="avesterra.avial.restore_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">restore_entity()</span></code></a></dt><dd><p>restore entity to its persisted state</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity with autosave False.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ths</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;The Hold Steady&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the age 16.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>Check that age is in fact set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">16</span>
</pre></div>
</div>
<p>Persist the change.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">save_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Change the age to 17.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>The age is in fact 17.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">17</span>
</pre></div>
</div>
<p>Restore the persisted state.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">restore_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>The age is 16, the last persisted age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">16</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="restore-entity">
<h2>restore_entity<a class="headerlink" href="#restore-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.restore_entity">
<code class="sig-name descname">restore_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.restore_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert the entity to the persisted state.</p>
<p>Revert the entity to the persisted state, discarding any changes that have
not been saved. Has no effect if the entity is connected to an adapter with
autosave.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be restored.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the restoration of the entity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or if <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize the restore.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.save_entity" title="avesterra.avial.save_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_entity()</span></code></a></dt><dd><p>save any non-persisted changes of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity with autosave False.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ths</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;The Hold Steady&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the age 16.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>Check that age is in fact set.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">16</span>
</pre></div>
</div>
<p>Persist the change.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">save_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Change the age to 17.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>The age is in fact 17.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">17</span>
</pre></div>
</div>
<p>Restore the persisted state.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">restore_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>The age is 16, the last persisted age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">16</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="erase-entity">
<h2>erase_entity<a class="headerlink" href="#erase-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_entity">
<code class="sig-name descname">erase_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase the entity.</p>
<p>Erase the entity, removing all attributes, properties, and values. After
an erase, it is as if the entity had just been created.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified, only a single attribute is erased, instead of
the whole entity. If both <code class="docutils literal notranslate"><span class="pre">attribute</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> are specified, only
a single attribute instance is erased. See examples below.</p>
<p>If the entity is connected to an adapter with autosave, erasing the entity
affects its persisted state. If connected to an adapter without autosave,
only the transient state is affected, at least until <a class="reference internal" href="#avesterra.avial.save_entity" title="avesterra.avial.save_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_entity()</span></code></a>
is called.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be erased.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the erasure of the entity.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – if provided, erase only the one attribute on the entity, leaving the
other attributes, the properties, and the entity values unchanged. The
default is None: erase everything.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – if provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, erase only a single
instance attribute. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code>
and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 3, the third child instance is erased. The default
is None: erase all the instances.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid
    authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not an attribute, or an instance
    is specified but no attribute</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>put a new name/key/value property on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a></dt><dd><p>return all attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">auth_code</span><span class="o">=</span><span class="mi">20165</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for the band The Hold Steady.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ths</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;The Hold Steady&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the age of the band.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>Set one of the members of the band: Craig Finn. Craig sings and plays
rhythm guitar. (In practice all the people should be entities
themselves. This is just an example illustrating <a class="reference internal" href="#avesterra.avial.erase_entity" title="avesterra.avial.erase_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_entity()</span></code></a>, so
we can keep it simple.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="s1">&#39;Craig Finn&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;lead vocals&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;rhythm guitar&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>So where are we?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}],</span>
<span class="go">    &#39;MEMBER_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead vocals&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;rhythm guitar&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Craig Finn&#39;}]</span>
<span class="go">        } ]</span>
<span class="go">    },</span>
<span class="go">&#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>What happens if we erase the entity?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">)</span>
<span class="go">{&#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>Let’s return to where we were.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="s1">&#39;Craig Finn&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;lead vocals&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;rhythm guitar&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Add another member of the band: Tad Kubler. Tad plays lead guitar and
sings backing vocals.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="s1">&#39;Tad Kubler&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;lead guitar&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;backing vocals&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}],</span>
<span class="go">    &#39;MEMBER_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead vocals&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;rhythm guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Craig Finn&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead guitar&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Tad Kubler&#39;}]</span>
<span class="go">        }]},</span>
<span class="go">    &#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>That’s not right. Tad sings backing vocals, not Craig. Let’s erase the
MEMBER attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}]},</span>
<span class="go">    &#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>Adding property values one at a time is prone to errors. Let’s write a
little function that does this, that sets the value
of the MEMBER attribute to the name of the band member, and then sets
what he plays from a list, one property value at a time</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add_member</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">plays_list</span><span class="p">,</span> <span class="n">instance</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">ths</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">plays</span> <span class="ow">in</span> <span class="n">plays_list</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">instance</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;plays&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">plays</span><span class="p">)</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Now we can add all five band members.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span><span class="s1">&#39;Craig Finn&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;lead vocals&#39;</span><span class="p">,</span> <span class="s1">&#39;rhythm guitar&#39;</span><span class="p">],</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span><span class="s1">&#39;Tad Kubler&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;lead guitar&#39;</span><span class="p">,</span> <span class="s1">&#39;backing vocals&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span><span class="s1">&#39;Galen Polivka&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;bass guitar&#39;</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Franz Nicolay&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;piano&#39;</span><span class="p">,</span> <span class="s1">&#39;keyboards&#39;</span><span class="p">,</span> <span class="s1">&#39;accordion&#39;</span><span class="p">,</span> <span class="s1">&#39;harmonica&#39;</span><span class="p">,</span> <span class="s1">&#39;backing vocals&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span><span class="s1">&#39;Bobby Drake&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;drums&#39;</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}],</span>
<span class="go">    &#39;MEMBER_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead vocals&#39;}], [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;rhythm guitar&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Craig Finn&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Tad Kubler&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;bass guitar&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Galen Polivka&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;piano&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;keyboards&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;accordion&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;harmonica&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Franz Nicolay&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;drums&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Bobby Drake&#39;}]</span>
<span class="go">        }]},</span>
<span class="go">&#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>Hmm. Franz left the band in 2010.  We erase just him.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">MEMBER</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}],</span>
<span class="go">    &#39;MEMBER_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead vocals&#39;}], [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;rhythm guitar&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Craig Finn&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Tad Kubler&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;bass guitar&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Galen Polivka&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;drums&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Bobby Drake&#39;}]</span>
<span class="go">        }]},</span>
<span class="go">&#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>Later in 2010, Steve Selvidge was added, another guitar player.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span><span class="s1">&#39;Steve Selvidge&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;guitar&#39;</span><span class="p">,</span> <span class="s1">&#39;backing vocals&#39;</span><span class="p">],</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}],</span>
<span class="go">    &#39;MEMBER_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead vocals&#39;}], [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;rhythm guitar&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Craig Finn&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Tad Kubler&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;bass guitar&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Galen Polivka&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;drums&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Bobby Drake&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Steve Selvidge&#39;}]</span>
<span class="go">        }]},</span>
<span class="go">&#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>Then in 2016, Franz returns. The Hold Steady is now a six piece band.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">add_member</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Franz Nicolay&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="p">[</span><span class="s1">&#39;piano&#39;</span><span class="p">,</span> <span class="s1">&#39;keyboards&#39;</span><span class="p">,</span> <span class="s1">&#39;accordion&#39;</span><span class="p">,</span> <span class="s1">&#39;harmonica&#39;</span><span class="p">,</span> <span class="s1">&#39;backing vocals&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">))</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;16&#39;}]}],</span>
<span class="go">    &#39;MEMBER_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead vocals&#39;}], [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;rhythm guitar&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Craig Finn&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;lead guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Tad Kubler&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;bass guitar&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Galen Polivka&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [[&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;drums&#39;}]],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Bobby Drake&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;guitar&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Steve Selvidge&#39;}]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;piano&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;keyboards&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;accordion&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;harmonica&#39;}],</span>
<span class="go">                [&#39;plays&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;backing vocals&#39;}]</span>
<span class="go">                ],</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Franz Nicolay&#39;}]</span>
<span class="go">        }]},</span>
<span class="go">&#39;Label&#39;: &#39;The Hold Steady&#39;}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ths</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="redirect-entity">
<h2>redirect_entity<a class="headerlink" href="#redirect-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.redirect_entity">
<code class="sig-name descname">redirect_entity</code><span class="sig-paren">(</span><em class="sig-param">simple_UUID</em>, <em class="sig-param">complex_UUID</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.redirect_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Make one UUID an abbreviation for another.</p>
<p>When an entity is created by a server, it is assigned a UUID. This
newly-assigned UUID is not easy to remember, e.g.
&lt;2906857743|167772516|108621&gt;. Sometimes it is useful to have a UUID that
is easy to remember, e.g. &lt;0|0|9999&gt;. The operation <a class="reference internal" href="#avesterra.avial.redirect_entity" title="avesterra.avial.redirect_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">redirect_entity()</span></code></a>
makes a simple UUID (e.g. &lt;0|0|9999&gt;) a nickname for the difficult one
(e.g. &lt;2906857743|167772516|108621&gt;). This redirection allows other
operations to reference the entity with the simple UUID instead of the
complex UUID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simple_UUID</strong> (<em>str</em>) – the UUID that is intended as a nickname. Must have the UUID format:
&lt;public_host|local_host|unique_ID&gt;, where public_host, local_host,
and unique_ID are all non-negative integers. public_host and
local_host must be less than 4,294,967,296 and unique_ID must be
less than 18,446,744,073,709,551,616</p></li>
<li><p><strong>complex_UUID</strong> (<em>str</em>) – the UUID that the nickname refers to. Must be the UUID of an existing
entity. Must have the UUID format:
&lt;public_host|local_host|unique_ID&gt;, where public_host, local_host,
and unique_ID are all non-negative integers. public_host and
local_host must be less than 4,294,967,296 and unique_ID must be
less than 18,446,744,073,709,551,616.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the redirection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">simple_UUID</span></code> is not a valid UUID, or <code class="docutils literal notranslate"><span class="pre">complex_UUID</span></code> is not
    a valid UUID, or <code class="docutils literal notranslate"><span class="pre">complex_UUID</span></code> is not the UUID of an existing entity,
    or <code class="docutils literal notranslate"><span class="pre">simple_UUID</span></code> and <code class="docutils literal notranslate"><span class="pre">complex_UUID</span></code> are the same,  or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does
    not authorize the redirection.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a new person entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Entity(2906857743, 167772516, 108627)</span>
</pre></div>
</div>
<p>Jack has the UUID &lt;2906857743|167772516|108627&gt;. Set his age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|108627&gt;&#39;</span><span class="p">),</span> <span class="mi">82</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>Check that his age has been set correctly.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|108627&gt;&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">82</span>
</pre></div>
</div>
<p>&lt;2906857743|167772516|108627&gt; is awkward. Let’s use &lt;0|0|555&gt; instead.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">redirect_entity</span><span class="p">(</span><span class="s1">&#39;&lt;0|0|555&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;2906857743|167772516|108627&gt;&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Check Jack’s age using the UUID nickname.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;0|0|555&gt;&#39;</span><span class="p">),</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">82</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;0|0|555&gt;&#39;</span><span class="p">),</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="reference-entity">
<h2>reference_entity<a class="headerlink" href="#reference-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.reference_entity">
<code class="sig-name descname">reference_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.reference_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Increment the reference count of the entity.</p>
<p>Every entity maintains a
<a class="reference external" href="https://en.wikipedia.org/wiki/Reference_counting">reference count</a>,
a count of references to the entity from other entities. When the reference
count reaches zero, the entity is subject to automatic deletion, e.g. if
it is placed in the trash registry. As long as the reference count is
greater than zero, <a class="reference internal" href="#avesterra.avial.delete_entity" title="avesterra.avial.delete_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_entity()</span></code></a> will raise an exception.</p>
<p>This function increments the reference count, adding one to its prior value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose reference count is to be incremented</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the increment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize the
    reference count increment.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.dereference_entity" title="avesterra.avial.dereference_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">dereference_entity()</span></code></a></dt><dd><p>decrement the reference count of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_references" title="avesterra.avial.entity_references"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_references()</span></code></a></dt><dd><p>return the current reference count of the entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>There are no references to the newly created entity, from other entities.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Increment the reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">reference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>The reference count is now 1.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Attempt to delete the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="go">AvialError: Attempt to delete entity with non-zero reference count</span>
</pre></div>
</div>
<p>Increment the reference count again.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">reference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Decrement the reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Decrement the reference count again.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Now the entity can be deleted.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="dereference-entity">
<h2>dereference_entity<a class="headerlink" href="#dereference-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.dereference_entity">
<code class="sig-name descname">dereference_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.dereference_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Decrement the reference count of the entity.</p>
<p>Every entity maintains a
<a class="reference external" href="https://en.wikipedia.org/wiki/Reference_counting">reference count</a>,
a count of references to the entity from other entities. When the reference
count reaches zero, the entity is subject to automatic deletion, e.g. if
it is placed in the trash registry. As long as the reference count is
greater than zero, <a class="reference internal" href="#avesterra.avial.delete_entity" title="avesterra.avial.delete_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_entity()</span></code></a> will raise an exception.</p>
<p>This function decrements the reference count, subtracting one from its prior
value. If the prior value was zero, dereferencing has no effect: the
reference count stays zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose reference count is to be decremented</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the decrement</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize the
    reference count decrement.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.reference_entity" title="avesterra.avial.reference_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">reference_entity()</span></code></a></dt><dd><p>increment the reference count of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_references" title="avesterra.avial.entity_references"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_references()</span></code></a></dt><dd><p>return the current reference count of the entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity. The newly created entity has a reference count of zero.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Increment the entity’s reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">reference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Decrement the entity’s reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Decrement the reference count again. Note that the reference count remains
zero.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="invoke-entity">
<h2>invoke_entity<a class="headerlink" href="#invoke-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.invoke_entity">
<code class="sig-name descname">invoke_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">method</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">name=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">options=None</em>, <em class="sig-param">parameter=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">count=None</em>, <em class="sig-param">mode=None</em>, <em class="sig-param">precedence=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">auxiliary=None</em>, <em class="sig-param">authorization=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.invoke_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Invoke a method on the entity.</p>
<p>Invoke a method on the entity, and
return the result, if any. The semantics of the arguments depend on the
method invoked. See examples below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity on which <code class="docutils literal notranslate"><span class="pre">method</span></code> is invoked.</p></li>
<li><p><strong>method</strong> (<a class="reference internal" href="#avesterra.avial.Method" title="avesterra.avial.Method"><em>Method</em></a>) – the method to be invoked on <code class="docutils literal notranslate"><span class="pre">entity</span></code>. The method is an instance
of the enum <a class="reference internal" href="#avesterra.avial.Method" title="avesterra.avial.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a>, e.g. <code class="docutils literal notranslate"><span class="pre">Method.CREATE</span></code> or <code class="docutils literal notranslate"><span class="pre">Method.SAVE</span></code>.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Which attribute is to be affected by the invocation?
Some invoked methods make use of an attribute. For example, an attribute
can be provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.SET</span></code>, allowing a value
to be set for some
attribute of an entity. When an attribute is supplied, it must be an
instance of the enum <a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a>.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Which instance of the attribute is to be affected by the invocation?
Some invoked methods make use of an instance. For example, an instance
can be provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.SET</span></code>, allowing a value
to be set on some
particular instance of an attribute, indexed by the instance number.</p></li>
<li><p><strong>name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Some invoked methods make use of a name. For example, a name can be
provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.INSERT</span></code>, allowing the newly
inserted property to be  named.</p></li>
<li><p><strong>key</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Some invoked methods make use of a key. For example, a key can be
provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.INSERT</span></code>, allowing the newly
inserted property to indexed by a unique key.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em> or </em><a class="reference internal" href="#avesterra.avial.Value" title="avesterra.avial.Value"><em>Value</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Some invoked methods make use of a value. For example, a value
can be provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.INSERT</span></code>, allowing the
newly inserted property to include a value. If a list or dict is
supplied as a value, it must be a valid interchange object. For example,
if the value is a list, the list cannot contain Python tuples or Python
callables or other Python objects that are unknown to Avesterra.</p></li>
<li><p><strong>options</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An invoked method could make use of an options string. The optinos
string is envisioned as a way to pass arbitrary options to an outlet,
much like how options codes are passed with a Unix command.</p></li>
<li><p><strong>parameter</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Some invoked methods make use of a parameter. For example, after an
entity is connected to an adapter, <code class="docutils literal notranslate"><span class="pre">Method.CREATE</span></code> is called to
create the entity within the adapter. That invocation can include a
<code class="docutils literal notranslate"><span class="pre">parameter</span></code> of 1 if the adapter is to automatically save any changes
to the entity.</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Some invoked methods make use of an index. For example, an index
can be provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.SET</span></code>, allowing a value
to be set on some particular index of an attribute instance, indexed by
the index number.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Some invoked methods make use of an index. For example, a count
can be provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.RETRIEVE</span></code>, to
specify the maximum number of properties that are to be retrieved, e.g.
no more than 100 for this invocation.</p></li>
<li><p><strong>mode</strong> (<em>Mode</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – A few invoked methods make use of a mode. For example, a mode can be
provided with an invocation of <code class="docutils literal notranslate"><span class="pre">Method.STORE</span></code>, to specify how the
new content is to be combined with any existing content. See
<a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a>—which uses the same <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameter—for
more details.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – How long (in seconds) should the invocation of the method be allowed
to run, before it is interrupted?  A few invoked methods make use of a
timeout duration. For example, a timeout can be provided with an
invocation of <code class="docutils literal notranslate"><span class="pre">Method.SORT</span></code> so sorts that take too long are
interrupted.</p></li>
<li><p><strong>auxiliary</strong> (<em>Entity</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An invoked method can make use an auxiliary parameter. The auxiliary
is an entity passed to the invoked method. An auxiliary is useful for
an invoked method that may require many minutes to execute, or even
longer. Rather than waiting for the results, the invoker can provide an
auxiliary entity as a destination of the results, and then proceed
asynchronously with other work, and pick up the results from the
entity at some later date.</p></li>
<li><p><strong>authorization</strong> (<em>Authorization</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The invocation of some methods requires an authorization token. For
example, valid authorization must be provided with an invocation of
<code class="docutils literal notranslate"><span class="pre">Method.STORE</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The returned object entirely depends on the method. For
example, an invocation of <code class="docutils literal notranslate"><span class="pre">Method.RETRIEVE</span></code> will return a dict of
the entity’s attributes, properties, and values, in comprehensive
format. An invocation of <code class="docutils literal notranslate"><span class="pre">Method.SET</span></code> will return ‘’, the empty
string.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or float or bool or str or Entity or list or dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">method</span></code> is not a method.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.inquire_entity" title="avesterra.avial.inquire_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">inquire_entity()</span></code></a></dt><dd><p>retrieve an attribute value from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a></dt><dd><p>return all attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for the actor Jack Nicholson. (See <a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a>
for details.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the attributes and properties for Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;80&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span>
<span class="gp">... </span>                        <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="s2">&quot;open question 2&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;not established&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1992&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;The Shining&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Invoke the Jack entity with <code class="docutils literal notranslate"><span class="pre">Method.SET</span></code> to add another name to
the third child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">SET</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Honey Hollman&#39;</span><span class="p">,</span> <span class="n">authorization</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="go">b&#39;&#39;</span>
</pre></div>
</div>
<p>Look at the updated child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1963&#39;}],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, {&#39;ASCII&#39;: &#39;Sandra Knight&#39;}]],</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">                          [   &#39;Paternity&#39;, &#39;open question 2&#39;,</span>
<span class="go">                              {&#39;UTF-8&#39;: &#39;not established&#39;}],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]],</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honey Hollman&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;youngest&#39;, {&#39;INTEGER&#39;: &#39;1992&#39;}],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Rebecca Broussard&#39;}]],</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]</span>
</pre></div>
</div>
<p>Invoke the Jack entity with <code class="docutils literal notranslate"><span class="pre">Method.INSERT</span></code> to add another property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">INSERT</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;fan of&#39;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">key</span><span class="o">=</span><span class="s1">&#39;boyhood team&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;New York Yankees&#39;</span><span class="p">,</span> <span class="n">authorization</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
<span class="go">b&#39;&#39;</span>
</pre></div>
</div>
<p>Look at the updated properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, {&#39;UTF-8&#39;: &#39;The Shining&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;famous fan&#39;, &#39;Los Angeles Lakers&#39;], [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;also known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;boyhood team&#39;, {&#39;UTF-8&#39;: &#39;New York Yankees&#39;}]]</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="inquire-entity">
<h2>inquire_entity<a class="headerlink" href="#inquire-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.inquire_entity">
<code class="sig-name descname">inquire_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">name=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">options=None</em>, <em class="sig-param">parameter=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">count=None</em>, <em class="sig-param">mode=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">auxiliary=None</em>, <em class="sig-param">authorization=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.inquire_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Inquire about an entity.</p>
<p>Inquire about an entity, perhaps about one of its attributes, and
return any result. The semantics of inquiry depend upon what outlet is
attached to the entity, and the adapter that is running on that outlet.
<a class="reference internal" href="#avesterra.avial.inquire_entity" title="avesterra.avial.inquire_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">inquire_entity()</span></code></a> is much like <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, except that no
method is supplied to an inquiry, and except that an attached outlet
implements an inquiry while a connected outlet implements a invocation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity that is the subject of the inquiry</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – Which attribute is the subject of the inquiry?</p></li>
<li><p><strong>instance</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Which instance is the subject of the inquiry? Typically the instance
is interpreted as identifying the instance of the specified attribute.</p></li>
<li><p><strong>name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – What name is the subject of the inquiry? Typically <code class="docutils literal notranslate"><span class="pre">name</span></code> refers to
the name of a property, perhaps a property of <code class="docutils literal notranslate"><span class="pre">entity</span></code>.</p></li>
<li><p><strong>key</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – What key is the subject of the inquiry? Typically <code class="docutils literal notranslate"><span class="pre">name</span></code> identifies
a property by its unique key, perhaps a property of <code class="docutils literal notranslate"><span class="pre">entity</span></code>.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em> or </em><a class="reference internal" href="#avesterra.avial.Value" title="avesterra.avial.Value"><em>Value</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may make use of a value.  If a list or dict is
supplied as a value, it must be a valid interchange object. For example,
if the value is a list, the list cannot contain Python tuples or Python
callables or other Python objects that are unknown to Avesterra.</p></li>
<li><p><strong>options</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – A string specifying some options defined by the outlet.</p></li>
<li><p><strong>parameter</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may make use of an integer parameter.</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may make use of an integer index.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may make use of an integer count.</p></li>
<li><p><strong>mode</strong> (<em>Mode</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may make use of a node.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – How long (in seconds) should the inquiry be allowed
to run, before it is interrupted?</p></li>
<li><p><strong>auxiliary</strong> (<em>Entity</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may make use of another entity, e.g. as a place to put the
results if they are too big to return.</p></li>
<li><p><strong>authorization</strong> (<em>Authorization</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – An inquiry may require an authorization token.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The returned object entirely depends on the implementation of the
inquiry.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or float or bool or str or Entity or list or dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">method</span></code> is not a method.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a></dt><dd><p>invoke a method on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attach_attribute" title="avesterra.avial.attach_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">attach_attribute()</span></code></a></dt><dd><p>attach an outlet to an entity, to handle attribute inquiries</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>An example for <a class="reference internal" href="#avesterra.avial.inquire_entity" title="avesterra.avial.inquire_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">inquire_entity()</span></code></a> requires code in two different
processes, one process for the calls to <a class="reference internal" href="#avesterra.avial.inquire_entity" title="avesterra.avial.inquire_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">inquire_entity()</span></code></a>, and
the other process for the code to handle the inquiries. <em>Start by setting
up process 1.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an outlet. Note the UUID of the outlet, for use in the other
process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inquiry_outlet</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Inquiry outlet&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">AVESTERRA</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">OUTLET</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">auth</span><span class="p">,</span> <span class="n">self_connect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">inquiry_outlet</span><span class="p">)</span>
<span class="go">&#39;&lt;2906857743|167772516|112554&gt;&#39;</span>
</pre></div>
</div>
<p>Define an adapter function. In response to no method, the function returns
an age, a gender, or a height, depending on what attribute it hears. For
other attributes, it returns <code class="docutils literal notranslate"><span class="pre">None</span></code>. In response to a <code class="docutils literal notranslate"><span class="pre">STOP</span></code> method, the
function changes a global flag, signaling a finish.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">still_active</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">purple_inquiry_responder</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">outlet</span><span class="p">,</span> <span class="n">entity</span><span class="p">,</span> <span class="n">auxiliary</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">authorization</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">global</span> <span class="n">still_active</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">outlet</span> <span class="o">==</span> <span class="n">entity</span><span class="p">:</span>
<span class="gp">... </span>        <span class="c1"># so the outlet will not run forever</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">STOP</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">still_active</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">... </span>    <span class="k">elif</span> <span class="n">method</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="p">{</span>
<span class="gp">... </span>                <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">:</span> <span class="mi">57</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">GENDER</span><span class="p">:</span> <span class="s1">&#39;male&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">:</span> <span class="mi">157</span>
<span class="gp">... </span>            <span class="p">}[</span><span class="n">attribute</span><span class="p">]</span>
<span class="gp">... </span>        <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span>
<span class="gp">...</span>
</pre></div>
</div>
<p>Listen to the outlet forever, or at least until the global flag is changed
to false. Call the function every time something is heard on the outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">still_active</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">av</span><span class="o">.</span><span class="n">adapt_outlet</span><span class="p">(</span><span class="n">inquiry_outlet</span><span class="p">,</span> <span class="n">purple_inquiry_responder</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Now switch to process 2.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for the late, great musician
<a class="reference external" href="https://en.wikipedia.org/wiki/Prince_(musician)">Prince</a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prince</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Prince&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">())</span>
</pre></div>
</div>
<p>Attach the Prince entity to the outlet defined in the other process.
The attachment is done across all
attributes. For more on attachment, see <a class="reference internal" href="#avesterra.avial.attach_attribute" title="avesterra.avial.attach_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">attach_attribute()</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">inquiry_outlet</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|112554&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attach_attribute</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">inquiry_outlet</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Inquire about Prince’s age. The result is provided by the function
<code class="docutils literal notranslate"><span class="pre">purple_inquiry_responder</span></code>, defined in the other process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">inquire_entity</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">57</span>
</pre></div>
</div>
<p>Inquire about Prince’s gender and his height.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">inquire_entity</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">GENDER</span><span class="p">)</span>
<span class="go">&#39;male&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">inquire_entity</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">)</span>
<span class="go">157</span>
</pre></div>
</div>
<p>Inquire about Prince’s location. Note that location is not one of the
attributes defined in <code class="docutils literal notranslate"><span class="pre">purple_inquiry_responder</span></code>. Instead None is
returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">inquire_entity</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
</pre></div>
</div>
<p>Invoke the method <code class="docutils literal notranslate"><span class="pre">STOP</span></code> on the inquiry outlet. Note that this method is
handled by the same <code class="docutils literal notranslate"><span class="pre">purple_inquiry_responder</span></code>, as the inquiry outlet is
connected to itself.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span><span class="n">inquiry_outlet</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">STOP</span><span class="p">)</span>
</pre></div>
</div>
<p>Detach the outlet from the Prince entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">detach_attribute</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Clean up process 2.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">prince</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
<p><em>Switch to process 1.</em> Note that the while loop has finished. Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">inquiry_outlet</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="change-entity">
<h2>change_entity<a class="headerlink" href="#change-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.change_entity">
<code class="sig-name descname">change_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">klass=None</em>, <em class="sig-param">subklass=None</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.change_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the name, class, or subclass of an existing entity.</p>
<p>The name, class, and subclass of an entity are established when the entity
is created (via <a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a>). But they can be changed later,
using this function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose name, class, or subclass is to be changed</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the change</p></li>
<li><p><strong>name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the new name for the entity. Subsequent calls to
<a class="reference internal" href="#avesterra.avial.entity_name" title="avesterra.avial.entity_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_name()</span></code></a> will return this string. The default is None: do
not change the name of the entity.</p></li>
<li><p><strong>klass</strong> (<a class="reference internal" href="#avesterra.avial.Class" title="avesterra.avial.Class"><em>Class</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – the AvesTerra class (not Python class) that the entity will assume.
Subsequent calls to <a class="reference internal" href="#avesterra.avial.entity_class" title="avesterra.avial.entity_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_class()</span></code></a> will return this class. The
default is None: do not change the class of the entity.</p></li>
<li><p><strong>subklass</strong> (<a class="reference internal" href="#avesterra.avial.Subclass" title="avesterra.avial.Subclass"><em>Subclass</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – the AvesTerra subclass that the entity will assume. Subsequent calls
to <a class="reference internal" href="#avesterra.avial.entity_subclass" title="avesterra.avial.entity_subclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_subclass()</span></code></a> will return this subclass. The
default is None: do not change the subclass of the entity.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">entity</span></code> is extinct, or <code class="docutils literal notranslate"><span class="pre">name</span></code>
    is not a string, or <code class="docutils literal notranslate"><span class="pre">klass</span></code> is not an AvesTerra class, or <code class="docutils literal notranslate"><span class="pre">subklass</span></code>
    is not an AvesTerra subclass, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize the change.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_name" title="avesterra.avial.entity_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_name()</span></code></a></dt><dd><p>return the name of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_class" title="avesterra.avial.entity_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_class()</span></code></a></dt><dd><p>return the AvesTerra class of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_subclass" title="avesterra.avial.entity_subclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_subclass()</span></code></a></dt><dd><p>return the AvesTerra subclass of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a new entity, Publius.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">publius</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Publius&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Publius is a person</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_class</span><span class="p">(</span><span class="n">publius</span><span class="p">)</span>
<span class="go">&lt;Class.PERSON: 2&gt;</span>
</pre></div>
</div>
<p>Change Publius to an organization.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">change_entity</span><span class="p">(</span><span class="n">publius</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">klass</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_class</span><span class="p">(</span><span class="n">publius</span><span class="p">)</span>
<span class="go">&lt;Class.ORGANIZATION: 5&gt;</span>
</pre></div>
</div>
<p>The subclass of Publius is still <code class="docutils literal notranslate"><span class="pre">PERSON</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_subclass</span><span class="p">(</span><span class="n">publius</span><span class="p">)</span>
<span class="go">&lt;Subclass.PERSON: 78&gt;</span>
</pre></div>
</div>
<p>Change the subclass of Publius to <code class="docutils literal notranslate"><span class="pre">GROUP</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">change_entity</span><span class="p">(</span><span class="n">publius</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">subklass</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">GROUP</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_subclass</span><span class="p">(</span><span class="n">publius</span><span class="p">)</span>
<span class="go">&lt;Subclass.GROUP: 76&gt;</span>
</pre></div>
</div>
<p>Change the name of Publius to “Madison, Hamilton, and Jay”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_name</span><span class="p">(</span><span class="n">publius</span><span class="p">)</span>
<span class="go">&#39;Publius&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">change_entity</span><span class="p">(</span><span class="n">publius</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Madison, Hamilton, and Jay&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_name</span><span class="p">(</span><span class="n">publius</span><span class="p">)</span>
<span class="go">&#39;Madison, Hamilton, and Jay&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">publius</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-extinct">
<h2>entity_extinct<a class="headerlink" href="#entity-extinct" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_extinct">
<code class="sig-name descname">entity_extinct</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_extinct" title="Permalink to this definition">¶</a></dt>
<dd><p>Has the entity been deleted?</p>
<p>Extinct entities are those that were once created and available, but were
then later deleted. Once deleted, an entity is extinct forever.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity to be tested for extinction</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether <code class="docutils literal notranslate"><span class="pre">entity</span></code> is extinct</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_available" title="avesterra.avial.entity_available"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_available()</span></code></a></dt><dd><p>is the entity alive?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_ready" title="avesterra.avial.entity_ready"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_ready()</span></code></a></dt><dd><p>is the entity ready to be invoked?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.delete_entity" title="avesterra.avial.delete_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_entity()</span></code></a></dt><dd><p>delete an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Jack is not extinct.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_extinct</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Delete the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Jack is extinct now.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_extinct</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-available">
<h2>entity_available<a class="headerlink" href="#entity-available" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_available">
<code class="sig-name descname">entity_available</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_available" title="Permalink to this definition">¶</a></dt>
<dd><p>Is entity available?</p>
<p>An available entity is one that has been created and not yet deleted, and
that is reachable over the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – The entity to be tested for availability</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether <code class="docutils literal notranslate"><span class="pre">entity</span></code> is currently available.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_extinct" title="avesterra.avial.entity_extinct"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_extinct()</span></code></a></dt><dd><p>has the entity been deleted?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_ready" title="avesterra.avial.entity_ready"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_ready()</span></code></a></dt><dd><p>is the entity ready to be invoked?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.delete_entity" title="avesterra.avial.delete_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_entity()</span></code></a></dt><dd><p>delete an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an Entity object that is not actually an entity on any AvesTerra
server.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">not_jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|7700000&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">not_jack</span><span class="p">)</span>
<span class="go">avesterra.base.Entity</span>
</pre></div>
</div>
<p>That entity is not available.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_available</span><span class="p">(</span><span class="n">not_jack</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Create an entity with <a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">avesterra.base.Entity</span>
</pre></div>
</div>
<p>That entity is available, even though it is not connected to any adapter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_available</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Delete that entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>That entity is no longer available.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_available</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>End the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-ready">
<h2>entity_ready<a class="headerlink" href="#entity-ready" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_ready">
<code class="sig-name descname">entity_ready</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the entity ready to be invoked?</p>
<p>An entity can be available and yet not able to respond to any invocations.
This function tests whether it is able to so respond.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity to be tested for readiness</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether <code class="docutils literal notranslate"><span class="pre">entity</span></code> is ready to be invoked</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_extinct" title="avesterra.avial.entity_extinct"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_extinct()</span></code></a></dt><dd><p>has entity been deleted already?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_available" title="avesterra.avial.entity_available"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_available()</span></code></a></dt><dd><p>is the entity alive?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, without connecting it to an outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Jack is not ready.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_available</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_ready</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Connect Jack to an outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">connect_method</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Jack is now ready.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_available</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_ready</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-name">
<h2>entity_name<a class="headerlink" href="#entity-name" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_name">
<code class="sig-name descname">entity_name</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the entity, as a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity whose name is to be found.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the name of <code class="docutils literal notranslate"><span class="pre">entity</span></code>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_class" title="avesterra.avial.entity_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_class()</span></code></a></dt><dd><p>the AvesTerra class of <code class="docutils literal notranslate"><span class="pre">entity</span></code></p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_subclass" title="avesterra.avial.entity_subclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_subclass()</span></code></a></dt><dd><p>the AvesTerra subclass of <code class="docutils literal notranslate"><span class="pre">entity</span></code></p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the name of the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_name</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;Jack Nicholson&#39;</span>
</pre></div>
</div>
<p>Clean up the example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-class">
<h2>entity_class<a class="headerlink" href="#entity-class" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_class">
<code class="sig-name descname">entity_class</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (AvesTerra) class of the entity.</p>
<p>Return the AvesTerra class of the entity. The AvesTerra class is not a
Python class. Instead it is an instance of <a class="reference internal" href="#avesterra.avial.Class" title="avesterra.avial.Class"><code class="xref py py-class docutils literal notranslate"><span class="pre">Class</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity whose class is to be determined.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the class of <code class="docutils literal notranslate"><span class="pre">entity</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#avesterra.avial.Class" title="avesterra.avial.Class">Class</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_subclass" title="avesterra.avial.entity_subclass"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_subclass()</span></code></a></dt><dd><p>return the AvesTerra subclass of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_name" title="avesterra.avial.entity_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_name()</span></code></a></dt><dd><p>return the name of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">brooklyn</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Brooklyn&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PLACE</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">CITY</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the class of the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_class</span><span class="p">(</span><span class="n">brooklyn</span><span class="p">)</span>
<span class="go">&lt;Class.PLACE: 3&gt;</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">brooklyn</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-subclass">
<h2>entity_subclass<a class="headerlink" href="#entity-subclass" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_subclass">
<code class="sig-name descname">entity_subclass</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_subclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the (AvesTerra) subclass of the entity.</p>
<p>Return the AvesTerra subclass of the entity. The AvesTerra class is not a
Python class. Instead it’s an instance of <a class="reference internal" href="#avesterra.avial.Subclass" title="avesterra.avial.Subclass"><code class="xref py py-class docutils literal notranslate"><span class="pre">Subclass</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity whose subclass is to be determined.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the subclass of <code class="docutils literal notranslate"><span class="pre">entity</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#avesterra.avial.Subclass" title="avesterra.avial.Subclass">Subclass</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_class" title="avesterra.avial.entity_class"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_class()</span></code></a></dt><dd><p>return the AvesTerra class of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_name" title="avesterra.avial.entity_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_name()</span></code></a></dt><dd><p>return the name of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">brooklyn</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span><span class="s1">&#39;Brooklyn&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PLACE</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">CITY</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the subclass of the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_subclass</span><span class="p">(</span><span class="n">brooklyn</span><span class="p">)</span>
<span class="go">&lt;Subclass.CITY: 30&gt;</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">brooklyn</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-server">
<h2>entity_server<a class="headerlink" href="#entity-server" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_server">
<code class="sig-name descname">entity_server</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the server that manages the entity.</p>
<p>Every entity is managed by a server. Return the server that manages a
particular entity. Note that the server returned is itself an entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity whose server is to be found</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the server that manages the entity, as an entity</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Entity</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, of if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is extinct.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.local_server" title="avesterra.avial.local_server"><code class="xref py py-func docutils literal notranslate"><span class="pre">local_server()</span></code></a></dt><dd><p>return the local server</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">craig</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Craig Finn&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the server for this newly created entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">entity_server</span><span class="p">(</span><span class="n">craig</span><span class="p">))</span>
<span class="go">&#39;&lt;2906857743|167772516|0&gt;&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">craig</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-references">
<h2>entity_references<a class="headerlink" href="#entity-references" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_references">
<code class="sig-name descname">entity_references</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_references" title="Permalink to this definition">¶</a></dt>
<dd><p>What is the reference count of the entity?</p>
<p>Every entity maintains a
<a class="reference external" href="https://en.wikipedia.org/wiki/Reference_counting">reference count</a>,
a count of references to the entity from other entities. When the reference
count reaches zero, the entity is subject to automatic deletion, e.g. if
it is placed in the trash registry. As long as the reference count is
greater than zero, an attempt to delete the entity will raise an exception.</p>
<p>This function returns the current reference count of the entity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity whose reference count we wish to learn</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the reference count of the entity, i.e. how many times does the entity
appear in the values, attributes, and properties of other
entities?</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.reference_entity" title="avesterra.avial.reference_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">reference_entity()</span></code></a></dt><dd><p>increment the reference count of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.dereference_entity" title="avesterra.avial.dereference_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">dereference_entity()</span></code></a></dt><dd><p>decrement the reference count of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>A newly created entity has a reference count of zero.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Increment the reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">reference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Increment the reference count again.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">reference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Decrement the reference count.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Decrement the reference count again.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Decrement the reference count one more time. Note that the reference count
stays at zero.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">dereference_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_references</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="entity-timestamp">
<h2>entity_timestamp<a class="headerlink" href="#entity-timestamp" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_timestamp">
<code class="sig-name descname">entity_timestamp</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the time that the entity was created, as an epoch integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – the entity whose timestamp is returned</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the time the entity was created, as an epoch integer: the number of
integer seconds since 00:00:00 UTC on 1 January 1970.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">entity</span></code> is extinct.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the entity’s timestamp</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_timestamp</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">1585345058</span>
</pre></div>
</div>
<p>Create another entity, 20 seconds after the first. Find its timestamp.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack2</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Torrance&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="go">1585345058</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_timestamp</span><span class="p">(</span><span class="n">jack2</span><span class="p">)</span>
<span class="go">1585345078</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack2</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="comprehensive-operations">
<h1>Comprehensive operations<a class="headerlink" href="#comprehensive-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="store-entity">
<h2>store_entity<a class="headerlink" href="#store-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.store_entity">
<code class="sig-name descname">store_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">value</em>, <em class="sig-param">authorization</em>, <em class="sig-param">*</em>, <em class="sig-param">mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.store_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Store the content on the entity, after checking for errors.</p>
</dd></dl>

</div>
<div class="section" id="retrieve-entity">
<h2>retrieve_entity<a class="headerlink" href="#retrieve-entity" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.retrieve_entity">
<code class="sig-name descname">retrieve_entity</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.retrieve_entity" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the contents of entity, as a Python dict.</p>
<p>Retrieve and return the contents of entity, as a Python dict. The dict
has as many as
four keys: ‘Label’, ‘Values’, ‘Attributes’, and ‘Properties’.</p>
<p>The value of the ‘Label’ key is the label of the entity, if the entity has
a label. The label is a string. For example:</p>
<blockquote>
<div><p>{‘Label’: ‘Jack Nicholson’}</p>
</div></blockquote>
<p>If the entity has no label, no ‘Label’ key is returned in the dict.</p>
<p>The value of the ‘Values’ key is a list of values of the entity, if the
entity has at least one value. Each of the values in the list is expressed
as a typed dict, with its type as the key and its string representation
as the value. For example</p>
<blockquote>
<div><p>{‘Values’: [{‘UTF-8’: ‘actor’}, {‘UTF-8’: ‘player’}, {‘UTF-8’: ‘filmmaker’}</p>
</div></blockquote>
<p>The supported types are ‘UTF-8’ (for a string in UTF-8 format), ‘ASCII’
(for a string in ASCII format), ‘INTEGER’, ‘FLOAT’, ‘BOOLEAN’, ‘CHARACTER’
(for a string of length 1), ‘ENTITY’ (formatted as a UUID), TIME (formatted
as the string of an epoch integer), ‘INTERCHANGE’ (a stringified
representation of json), ‘DATA’ (a byte stream, corresponding to a Python
bytes type), ‘ERROR’, ‘OPERATOR’, and ‘FUNCTION’.</p>
<p>The value of the ‘Attributes’ key is a dict. Each element of the dict has
a key that is the name of some Avial attribute, and a value that is a list
of instances. For example:</p>
<blockquote>
<div><p>{‘Attributes’: {‘AGE_ATTRIBUTE’: [&lt;age-instance&gt;], ‘HEIGHT_ATTRIBUTE’ :[&lt;height-instance&gt;]}}</p>
</div></blockquote>
<p>There are many attributes in the AvesTerra taxonomy, 403 as of April 2020.
Each attribute has a string name, with a the distinct part of the name
first, and then ‘_ATTRIBUTE’ appended at the end. The current list of all
attributes can be retrieved with a call to <a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a>, as
shown in the examples below.</p>
<p>Each element of the attribute dict has a value that is a list of instances.
Each instance is</p>
<blockquote>
<div><p>{‘Values’: [{‘INTEGER’: ‘82’}]}], ‘HEIGHT_ATTRIBUTE’: [{‘Values’: [{‘FLOAT’: ‘177.5’}]}]}}</p>
</div></blockquote>
</dd></dl>

</div>
</div>
<div class="section" id="value-operations">
<h1>Value operations<a class="headerlink" href="#value-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="get-value">
<h2>get_value<a class="headerlink" href="#get-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.get_value">
<code class="sig-name descname">get_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of an attribute.</p>
<p>Typically <a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a> is used to return the value of an attribute on
an entity, the attribute specified as <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. If no attribute is
provided, the value associated with the entity itself is returned.</p>
<p>Sometimes an attribute of an entity has more than one instance. In
that situation, <a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a> returns the last instance, as long
as <code class="docutils literal notranslate"><span class="pre">instance</span></code> is not specified. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, it specifies
the numeric index of the attribute instance to be returned. For example, if
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 2, the second attribute instance is returned.</p>
<p>Sometimes an attribute instance has multiple values. In that
situation, <a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a> will return the last of the values, as long
as <code class="docutils literal notranslate"><span class="pre">index</span></code> is not specified. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, it specifies
the numeric index of the value to be returned. For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is
1, the first value is returned.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is given, either <code class="docutils literal notranslate"><span class="pre">instance</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> can be
provided, or both. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">CHILD</span></code>, <code class="docutils literal notranslate"><span class="pre">instance</span></code>
is 3, and <code class="docutils literal notranslate"><span class="pre">index</span></code> is 2, the second value of the third CHILD attribute
instance is returned.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code> can be specified, as an entity
can have more than one value. When <code class="docutils literal notranslate"><span class="pre">index</span></code> is not specified, the last
value is returned. But when <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">instance</span></code> cannot
be provided; unlike its attributes, an entity has only a single instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose value is to be returned</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is to be returned. The default
is <code class="docutils literal notranslate"><span class="pre">None</span></code>: return the value of the entity itself rather than one of
its attributes.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be returned. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code> (or equivalently: 0): return the last attribute instance.
If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
greater than the number of instances, an <code class="xref py py-class docutils literal notranslate"><span class="pre">AvialError</span></code> exception
is raised.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – which value to return, if there are multiple values on the attribute
instance—or on the entity itself, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: return the last value. If
<code class="docutils literal notranslate"><span class="pre">index</span></code> is 0, the last value is returned. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is
greater than the number of values, an <code class="xref py py-class docutils literal notranslate"><span class="pre">AvialError</span></code> exception
is raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value of the entity’s attribute (or of the entity itself)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or float or bool or str or Entity or list or dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or no such attribute is found for the entity, or
    an instance is specified but no attribute, or the instance provided
    is greater than the number of instances, or the index provided is
    greater than the number of values.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, with some initial attributes and values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mini_jack</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>   <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;actor&#39;</span><span class="p">,</span> <span class="s1">&#39;player&#39;</span><span class="p">],</span>
<span class="gp">... </span>   <span class="s1">&#39;Attributes&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>       <span class="s1">&#39;AGE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">81</span><span class="p">]}],</span>
<span class="gp">... </span>       <span class="s1">&#39;LOCATION_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Los Angeles&#39;</span><span class="p">,</span> <span class="s1">&#39;Aspen&#39;</span><span class="p">]}],</span>
<span class="gp">... </span>       <span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>           <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Jennifer&#39;</span><span class="p">]},</span>
<span class="gp">... </span>           <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Caleb&#39;</span><span class="p">]},</span>
<span class="gp">... </span>           <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Honey&#39;</span><span class="p">,</span> <span class="s1">&#39;Honey Duffy&#39;</span><span class="p">]},</span>
<span class="gp">... </span>           <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Lorraine&#39;</span><span class="p">]},</span>
<span class="gp">... </span>           <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Raymond&#39;</span><span class="p">]}</span>
<span class="gp">... </span>       <span class="p">]</span>
<span class="gp">... </span>   <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">mini_jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Get Jack’s age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">81</span>
</pre></div>
</div>
<p>Get Jack’s location. The last location value is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">&#39;Aspen&#39;</span>
</pre></div>
</div>
<p>Get the first location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;Los Angeles&#39;</span>
</pre></div>
</div>
<p>Get Jack’s child. The value of last attribute instance is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;Raymond&#39;</span>
</pre></div>
</div>
<p>To get a different child, use <code class="docutils literal notranslate"><span class="pre">instance</span></code>. The last value of
the specified attribute instance is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;Honey Duffy&#39;</span>
</pre></div>
</div>
<p>To get a different value of the third child, use <code class="docutils literal notranslate"><span class="pre">index</span></code> as well as
<code class="docutils literal notranslate"><span class="pre">instance</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;Honey&#39;</span>
</pre></div>
</div>
<p>Get a value associated with the entity Jack, rather than an attribute
value. The last such value is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;player&#39;</span>
</pre></div>
</div>
<p>Get a different value associated with the entity, using <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;actor&#39;</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="set-value">
<h2>set_value<a class="headerlink" href="#set-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.set_value">
<code class="sig-name descname">set_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">value</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.set_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of an attribute.</p>
<p>Typically <a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a> is used to change the value of an attribute on
an entity, the attribute specified as <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. If no attribute is
provided, the value associated with the entity itself is changed.</p>
<p>Sometimes an attribute of an entity has more than one instance. In
that situation, <a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a> will change the last instance, as long
as <code class="docutils literal notranslate"><span class="pre">instance</span></code> is not specified. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, it specifies
the numeric index of the attribute instance to be changed. For example, if
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 2, the second attribute instance is changed.</p>
<p>Sometimes an attribute instance has multiple values. In that
situation, <a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a> will change the last of the values, as long
as <code class="docutils literal notranslate"><span class="pre">index</span></code> is not specified. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, it specifies
the numeric index of the value to be changed. For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is
1, the first value is changed.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is given, either <code class="docutils literal notranslate"><span class="pre">instance</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> can be
provided, or both. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">CHILD</span></code>, <code class="docutils literal notranslate"><span class="pre">instance</span></code>
is 3, and <code class="docutils literal notranslate"><span class="pre">index</span></code> is 2, the second value of the third CHILD attribute
instance is changed.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code> can be specified, as an entity
can have more than one value. When <code class="docutils literal notranslate"><span class="pre">index</span></code> is not specified, the last
value is changed. But when <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">instance</span></code> cannot
be provided; unlike its attributes, an entity has only a single instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be changed</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em> or </em><a class="reference internal" href="#avesterra.avial.Value" title="avesterra.avial.Value"><em>Value</em></a>) – the new value for <code class="docutils literal notranslate"><span class="pre">entity</span></code></p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes changing the value of <code class="docutils literal notranslate"><span class="pre">entity</span></code></p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be set to <code class="docutils literal notranslate"><span class="pre">value</span></code>. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: change the value of the entity itself rather than one of its
attributes.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be changed. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: change the last attribute instance. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is greater
than the count of instances, a new instance is added. If
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 0, the last instance is changed.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the value to change, if there are multiple values on the attribute
instance—or on the entity itself, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: change the last value. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is greater
than the count of values, a new value is added. If
<code class="docutils literal notranslate"><span class="pre">index</span></code> is 0, the last value is changed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a></dt><dd><p>return all attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set Jack’s age and location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Los Angeles&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
</pre></div>
</div>
<p>Take a look at Jack, so far.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;80&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;]}]}}</span>
</pre></div>
</div>
<p>Update Jack’s age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="mi">81</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
</pre></div>
</div>
<p>Add a second location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Aspen&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Now what for Jack?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;81&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}]}}</span>
</pre></div>
</div>
<p>Add Jack’s occupations, as values on the Jack entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;actor&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;director&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Values&#39;: [&#39;actor&#39;, &#39;director&#39;],</span>
<span class="go">    &#39;Attributes&#39;: {</span>
<span class="go">        &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;81&#39;]}],</span>
<span class="go">        &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}]</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Hmm. Maybe we should ignore
<a class="reference external" href="https://www.imdb.com/title/tt0100828/">The Two Jakes</a>, as it was
disappointing. Replace <code class="docutils literal notranslate"><span class="pre">director</span></code> with something Jack is good at.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;player&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Values&#39;: [&#39;actor&#39;, &#39;player&#39;],</span>
<span class="go">    &#39;Attributes&#39;: {</span>
<span class="go">        &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;81&#39;]}],</span>
<span class="go">        &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}]</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Jack has five children. Add his children
as attribute instances, so we can later annotate each with properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Jennifer&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Caleb&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Honey&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Lorraine&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Raymond&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Values&#39;: [&#39;actor&#39;, &#39;player&#39;],</span>
<span class="go">    &#39;Attributes&#39;: {</span>
<span class="go">        &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;81&#39;]}],</span>
<span class="go">        &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}],</span>
<span class="go">        &#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">            {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Raymond&#39;]}</span>
<span class="go">        ]</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Jack’s daughter Honey is the actress Honey Duffy. Let’s update the
third child attribute with a second value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Honey Duffy&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Values&#39;: [&#39;actor&#39;, &#39;player&#39;],</span>
<span class="go">    &#39;Attributes&#39;: {</span>
<span class="go">        &#39;AGE_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;81&#39;]}],</span>
<span class="go">        &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}],</span>
<span class="go">        &#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">            {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Honey&#39;, &#39;Honey Duffy&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">            {&#39;Values&#39;: [&#39;Raymond&#39;]}</span>
<span class="go">        ]</span>
<span class="go">    }</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="clear-value">
<h2>clear_value<a class="headerlink" href="#clear-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.clear_value">
<code class="sig-name descname">clear_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.clear_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear a value of an attribute, or a value from the entity itself.</p>
<p>The most typical and simplest situation is an attribute on an entity that
has a single instance and a single value for that instance, with no
attribute properties. In that situation, <a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a> clears the
sole value of the attribute, removing that attribute from the entity
entirely.</p>
<p>Sometimes an attribute of an entity has more than one instance. In that
situation, <a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a> clears the last instance, as long as
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is not provided. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, it specifies
the numeric index of the attribute instance to be cleared. For example, if
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 2, the second attribute instance is cleared.</p>
<p>Sometimes an attribute instance has multiple values. In that situation,
<a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a> will clear the last of the values, as long
as <code class="docutils literal notranslate"><span class="pre">index</span></code> is not provided. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, it specifies
the numeric index of the value to be cleared. For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is
1, the first value is cleared.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is given, either <code class="docutils literal notranslate"><span class="pre">instance</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> can be
provided, or both. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">CHILD</span></code>, <code class="docutils literal notranslate"><span class="pre">instance</span></code>
is 3, and <code class="docutils literal notranslate"><span class="pre">index</span></code> is 2, the second value of the third CHILD attribute
instance is cleared.</p>
<p>Clearing an attribute value will remove an attribute from an entity
entirely if three conditions are met:</p>
<ol class="arabic simple">
<li><p>there is only a single attribute instance</p></li>
<li><p>there is only a single value of that attribute instance</p></li>
<li><p>there are no properties of that attribute instance</p></li>
</ol>
<p>Similarly, clearing an attribute value will remove an attribute instance
from the entity if there is only a single value of that attribute instance
and no properties.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, an entity value is cleared. If there
are multiple entity values, the last one is cleared, as long as <code class="docutils literal notranslate"><span class="pre">index</span></code>
is not provided. If provided, <code class="docutils literal notranslate"><span class="pre">index</span></code> indicates which value is to be
cleared. For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 3, the third value is cleared, and
the fourth value (if it exists) becomes the new third value.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, <code class="docutils literal notranslate"><span class="pre">instance</span></code> cannot be provided
either; unlike its attributes, an entity has only a single instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose value is to be cleared</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes clearing a value from <code class="docutils literal notranslate"><span class="pre">entity</span></code></p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is cleared. The defualt is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: clear an entity value instead of an attribute value.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is to be cleared.
The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: clear a value from the last attribute instance.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the value to be cleared, if there are multiple values on the attribute
instance—or on the entity itself, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided.
The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: clear the last value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;actor&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">,</span> <span class="s2">&quot;director&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">,</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">]}</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Clear Jack’s age, and examine the Jack’s attributes. Note that he is now
ageless.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {   &#39;Properties&#39;: [</span>
<span class="go">                                    [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                    [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                                    [&#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Raymond&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;, &#39;Malibu&#39;]}]}</span>
</pre></div>
</div>
<p>Clear Jack’s child, and examine the result. He now has only four attribute
instances of CHILD.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {   &#39;Properties&#39;: [</span>
<span class="go">                                    [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                    [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                                    [&#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;, &#39;Malibu&#39;]}]}</span>
</pre></div>
</div>
<p>Clear the third instance of CHILD. The prior fourth instance becomes the
third</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {   &#39;Properties&#39;: [</span>
<span class="go">                                    [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                    [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                                    [&#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;, &#39;Malibu&#39;]}]}</span>
</pre></div>
</div>
<p>Clear the second instance of CHILD. Note that the properties of that instance
remain.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {&#39;Properties&#39;: [</span>
<span class="go">                                [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                                [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]</span>
<span class="go">                                ]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;, &#39;Malibu&#39;]}]}</span>
</pre></div>
</div>
<p>Clear a location. The last value of his sole attribute instance of LOCATION
is cleared.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {&#39;Properties&#39;: [</span>
<span class="go">                                [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                                [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]</span>
<span class="go">                                ]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}]}</span>
</pre></div>
</div>
<p>Clear the first location, using <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {&#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {&#39;Properties&#39;: [</span>
<span class="go">                                [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                                [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]</span>
<span class="go">                                ]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Aspen&#39;]}]}</span>
</pre></div>
</div>
<p>Take a look at the values on the Jack entity, rather than on any attribute
of Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Values&#39;</span><span class="p">]</span>
<span class="go">[&#39;actor&#39;, &#39;player&#39;, &#39;director&#39;]</span>
</pre></div>
</div>
<p>Clear the last value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Values&#39;</span><span class="p">]</span>
<span class="go">[&#39;actor&#39;, &#39;player&#39;]</span>
</pre></div>
</div>
<p>Clear the first value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Values&#39;</span><span class="p">]</span>
<span class="go">[&#39;player&#39;]</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="insert-value">
<h2>insert_value<a class="headerlink" href="#insert-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.insert_value">
<code class="sig-name descname">insert_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">value</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.insert_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert an additional value on an entity.</p>
<p>Insert an additional value, either on an attribute of the entity or on the
entity as a whole. The existing values are not changed with the insertion,
but a new value is added.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, a new value is inserted on the entity
as a whole. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, the new value is inserted at a
particular position on the list of values. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is not provided,
the new value is inserted at the end of the list.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is provided, a new value is inserted on that attribute,
either at a particular position if <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, or at the end
of the list of values if <code class="docutils literal notranslate"><span class="pre">index</span></code> is not provided.</p>
<p>Sometimes an attribute of an entity has more than one instance. In the
situation <a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a> inserts the value on the last instance,
as long as <code class="docutils literal notranslate"><span class="pre">instance</span></code> is not specified. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, it
specifies which attribute instance is to have a new value. For example,
if <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 4, the fourth attribute instance is changed.</p>
<p>See examples below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be changed</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em> or </em><a class="reference internal" href="#avesterra.avial.Value" title="avesterra.avial.Value"><em>Value</em></a>) – the new value for <code class="docutils literal notranslate"><span class="pre">entity</span></code></p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes inserting a new value</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> which is given an additional value. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: insert a value on the entity itself rather than
one of its attributes.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be changed. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: change the last attribute instance.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the position on the list of values to insert the new value. For example,
if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 2, the new value becomes the second value on the list
and the value that was formerly second is now third, the value that
was formerly third is now fourth, and so on. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>:
insert the new value at the end of the list of existing values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute,
    there is no such instance.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, with values and attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;actor&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;player&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;filmmaker&#39;</span><span class="p">}]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Get Jack’s values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;player&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;filmmaker&#39;}</span>
<span class="go">    ]}</span>
</pre></div>
</div>
<p>Insert a new value on the end of the list.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;screenwriter&#39;</span><span class="p">,</span> <span class="n">auth</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;player&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;filmmaker&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;screenwriter&#39;}</span>
<span class="go">    ]}</span>
</pre></div>
</div>
<p>Insert a new value at the second position of the list.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;basketball fan&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;basketball fan&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;player&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;filmmaker&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;screenwriter&#39;}</span>
<span class="go">    ]}</span>
</pre></div>
</div>
<p>Get Jack’s locations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Malibu&#39;}</span>
<span class="go">    ]}]}}</span>
</pre></div>
</div>
<p>Insert a new location at the end of the list.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Beverly Hills&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Malibu&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Beverly Hills&#39;}</span>
<span class="go">    ]}]}}</span>
</pre></div>
</div>
<p>Get Jack’s children.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]}}</span>
</pre></div>
</div>
<p>Add a nickname to his third child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Honning&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honning&#39;}, {&#39;UTF-8&#39;: &#39;Honey&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="remove-value">
<h2>remove_value<a class="headerlink" href="#remove-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.remove_value">
<code class="sig-name descname">remove_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.remove_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a value from an entity.</p>
<p>Remove a value, either from an attribute of the entity, or from the entity
itself.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, a value is removed from the entity
rather than from an attribute of the entity. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is also not
provided, the last value of the entity is removed. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is
provided, it specifies which value to remove. For example, an index
of 2 indicates that the second value is removed, the previous third value
becomes the second value, the previous fourth value becomes the third,
and so on.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is provided, a value is removed from that attribute,
either from a particular position if <code class="docutils literal notranslate"><span class="pre">index</span></code> is also provided, or the
last value if <code class="docutils literal notranslate"><span class="pre">index</span></code> is not provided.</p>
<p>Sometimes an attribute of an entity has more than one instance. In that
situation <a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a> removes a value from the last instance,
as long as <code class="docutils literal notranslate"><span class="pre">instance</span></code> is not specified. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, it
indicates which attribute instance is to have a value removed. For
example, if <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 12, a value is removed from the twelth
instance.</p>
<p>See examples below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be changed</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes removing a value</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> from which a value is removed. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: remove a value from the entity itself rather
than from one of its attributes.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be changed. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: remove a value from the last attribute instance.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the position on the list of values that is removed. For example,
if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 3, the third value is removed, and the value that was
formerly fourth becomes third, the formerly fifth becomes fourth, and
so on. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: remove the last value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute, or
    there is no such instance.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, with values and attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;Attributes&#39;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s1">&#39;LOCATION_ATTRIBUTE&#39;</span><span class="p">:[{</span><span class="s1">&#39;Values&#39;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Los Angeles&#39;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Aspen&#39;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Malibu&#39;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Jennifer&#39;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Caleb&#39;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Honey&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Honning&#39;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Lorraine&#39;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Raymond&#39;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Elmer&#39;</span><span class="p">}]}</span>
<span class="gp">... </span>            <span class="p">]},</span>
<span class="gp">... </span>    <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;actor&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;player&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;filmmaker&#39;</span><span class="p">},</span>
<span class="gp">... </span>        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;screenwriter&#39;</span><span class="p">}</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Get Jack’s values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;player&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;filmmaker&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;screenwriter&#39;}</span>
<span class="go">    ]}</span>
</pre></div>
</div>
<p>Remove the last value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;player&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;filmmaker&#39;}</span>
<span class="go">    ]}</span>
</pre></div>
</div>
<p>Remove the second value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;filmmaker&#39;}</span>
<span class="go">    ]}</span>
</pre></div>
</div>
<p>Get Jack’s locations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Malibu&#39;}</span>
<span class="go">    ]}]}}</span>
</pre></div>
</div>
<p>Remove the last location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;}</span>
<span class="go">    ]}]}}</span>
</pre></div>
</div>
<p>Remove the first location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Aspen&#39;}]}]}}</span>
</pre></div>
</div>
<p>Get Jack’s children. Note the fictional sixth child, Elmer. Note also
the third child has two values: her name and her Danish nickname.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Elmer&#39;}]}</span>
<span class="go">    ]}}</span>
</pre></div>
</div>
<p>Remove a value from the last child instance. Since there is only a single
value on that instance, removing the value removes the instance entirely.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]}}</span>
</pre></div>
</div>
<p>Remove a value from the third child instance. The instance remains as she
still has another value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="replace-value">
<h2>replace_value<a class="headerlink" href="#replace-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.replace_value">
<code class="sig-name descname">replace_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">value</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.replace_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the value of an attribute, or the value of an entity itself.</p>
<p>In its simplest form, <a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a> is called with no <code class="docutils literal notranslate"><span class="pre">attribute</span></code>,
<code class="docutils literal notranslate"><span class="pre">instance</span></code>, or <code class="docutils literal notranslate"><span class="pre">index</span></code>. The result of the call is that the current
value of the entity is replaced with <code class="docutils literal notranslate"><span class="pre">value</span></code>. If <code class="docutils literal notranslate"><span class="pre">entity</span></code> has multiple
values, the last one is replaced. If <code class="docutils literal notranslate"><span class="pre">entity</span></code> has no values,
<a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a> raises an exception.</p>
<p>By specifying an <code class="docutils literal notranslate"><span class="pre">index</span></code>, a particular value can be replaced, instead of
the last one. For example, calling <a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a> with an <code class="docutils literal notranslate"><span class="pre">index</span></code>
of 2 will replace the second value, leaving other values undisturbed. If the
entity has only a single value—or no values at all—an exception is
raised.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified, the value of that attribute is replaced,
instead of an entity value. As with entity values, a particular attribute
value can be replaced by specifying <code class="docutils literal notranslate"><span class="pre">index</span></code>. If no index is specified,
the last value of the attribute is replaced.</p>
<p>Sometimes an attribute will have multiple instances. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
not specified, the last instance of the attribute will get a new value. Or
an <code class="docutils literal notranslate"><span class="pre">instance</span></code> can be specified, identifying the attribute instance to
be changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose value is to be replaced</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em>) – the new value, to replace some existing value on the entity</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes replacing a value on <code class="docutils literal notranslate"><span class="pre">entity</span></code></p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is replaced. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: replace a value on the entity itself, rather than on some
attribute of the entity</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is replaced.
The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: replace a value on the last attribute instance</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the position of the value to be replaced.
The default is None: replace the last value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize replacing a value, or there is
    no value to replace, or <code class="docutils literal notranslate"><span class="pre">index</span></code> is greater than the number of values,
    or the entity does not have that <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, or an instance is
    specified but no attribute</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set some entity values and attribute values on Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;actor&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;player&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;filmmaker&#39;</span><span class="p">}]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find Jack’s last entity value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;filmmaker&#39;</span>
</pre></div>
</div>
<p>Examine all of Jack’s entity values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;actor&#39;}, {&#39;UTF-8&#39;: &#39;player&#39;}, {&#39;UTF-8&#39;: &#39;filmmaker&#39;}]}</span>
</pre></div>
</div>
<p>Replace the last of Jack’s entity values with a new one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">replace_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;screenwriter&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Look at Jack’s new last value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;screenwriter&#39;</span>
</pre></div>
</div>
<p>Look at all of Jack’s entity values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;actor&#39;}, {&#39;UTF-8&#39;: &#39;player&#39;}, {&#39;UTF-8&#39;: &#39;screenwriter&#39;}]}</span>
</pre></div>
</div>
<p>Replace the first of Jack’s entity values and examine the result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">replace_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;leading man&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;leading man&#39;}, {&#39;UTF-8&#39;: &#39;player&#39;}, {&#39;UTF-8&#39;: &#39;screenwriter&#39;}]}</span>
</pre></div>
</div>
<p>Look at Jack’s values for the location attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Malibu&#39;}]}]}}</span>
</pre></div>
</div>
<p>Replace the last location and examine the result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">replace_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Kailua&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Kailua&#39;}]}]}}</span>
</pre></div>
</div>
<p>Examine the value for the third instance of Jack’s child attribute, his
third child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}]}]}}</span>
</pre></div>
</div>
<p>Replace the value of the third instance of Jack’s children. Examine the
result.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">replace_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Honning&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honning&#39;}]}]}}</span>
</pre></div>
</div>
<p>Clean up</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="erase-value">
<h2>erase_value<a class="headerlink" href="#erase-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_value">
<code class="sig-name descname">erase_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase a value of an attribute, or all the values from the entity itself.</p>
<p>The most typical and simplest situation is an attribute on an entity that
has a single instance, with no attribute properties. In that situation,
<a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a> erases that attribute from the entity entirely.</p>
<p>Sometimes an attribute of an entity has more than one instance. In that
situation, <a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a> erases the last instance, as long as
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is not provided. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided, it specifies
the numeric index of the attribute instance to be erased. For example, if
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 2, the second attribute instance is erased.</p>
<p>Sometimes an attribute instance has multiple values. In that situation,
<a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a> erases all the values of the instance.</p>
<p>Sometimes an attribute instance has both a value (or multiple values) and
properties. In that situation, <a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a> erases the values of the
instance, but leaves the properties as they were.</p>
<p>Erasing an attribute value will remove an attribute from an entity
entirely if there is only a single attribute instance, and if there are no
properties of that attribute instance.</p>
<p>Similarly, erasing an attribute value will remove an attribute instance
from the entity if the attribute instance contains no properties.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, all the entity values are erased.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, <code class="docutils literal notranslate"><span class="pre">instance</span></code> cannot be provided
either; unlike its attributes, an entity has only a single instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose values are to be erased</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes erasing values from <code class="docutils literal notranslate"><span class="pre">entity</span></code></p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is erased. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: erase all the entity values instead of an attribute value.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is to be erased.
The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: erase a value from the last attribute instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack, with values and attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">,</span> <span class="s2">&quot;Ray&quot;</span><span class="p">]},</span>
<span class="gp">... </span>        <span class="p">]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;actor&quot;</span><span class="p">,</span> <span class="s2">&quot;filmmaker&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">))</span>
<span class="go">{   &#39;Attributes&#39;: {   &#39;CHILD_ATTRIBUTE&#39;: [   {   &#39;Properties&#39;: [   [   &#39;Born&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;1963&#39;],</span>
<span class="go">                                                                   [   &#39;Mother&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;Sandra &#39;</span>
<span class="go">                                                                       &#39;Knight&#39;]],</span>
<span class="go">                                                 &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                                             {   &#39;Properties&#39;: [   [   &#39;Born&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;1970&#39;],</span>
<span class="go">                                                                   [   &#39;Mother&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;Susan &#39;</span>
<span class="go">                                                                       &#39;Anspach&#39;],</span>
<span class="go">                                                                   [   &#39;Paternity&#39;,</span>
<span class="go">                                                                       &#39;Paternity&#39;,</span>
<span class="go">                                                                       &#39;not &#39;</span>
<span class="go">                                                                       &#39;established&#39;]],</span>
<span class="go">                                                 &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                                             {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                                             {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">                                             {&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}],</span>
<span class="go">                      &#39;HEIGHT_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;177&#39;]}],</span>
<span class="go">                      &#39;LOCATION_ATTRIBUTE&#39;: [   {   &#39;Values&#39;: [   &#39;Los Angeles&#39;,</span>
<span class="go">                                                                  &#39;Aspen&#39;]}]},</span>
<span class="go">    &#39;Values&#39;: [&#39;actor&#39;, &#39;filmmaker&#39;]}</span>
</pre></div>
</div>
<p>Erase the values for Jack. Note that both entity values are erased, both
actor and filmmaker.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">))</span>
<span class="go">{   &#39;Attributes&#39;: {   &#39;CHILD_ATTRIBUTE&#39;: [   {   &#39;Properties&#39;: [   [   &#39;Born&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;1963&#39;],</span>
<span class="go">                                                                   [   &#39;Mother&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;Sandra &#39;</span>
<span class="go">                                                                       &#39;Knight&#39;]],</span>
<span class="go">                                                 &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                                             {   &#39;Properties&#39;: [   [   &#39;Born&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;1970&#39;],</span>
<span class="go">                                                                   [   &#39;Mother&#39;,</span>
<span class="go">                                                                       &#39;&#39;,</span>
<span class="go">                                                                       &#39;Susan &#39;</span>
<span class="go">                                                                       &#39;Anspach&#39;],</span>
<span class="go">                                                                   [   &#39;Paternity&#39;,</span>
<span class="go">                                                                       &#39;Paternity&#39;,</span>
<span class="go">                                                                       &#39;not &#39;</span>
<span class="go">                                                                       &#39;established&#39;]],</span>
<span class="go">                                                 &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                                             {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                                             {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">                                             {&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}],</span>
<span class="go">                      &#39;HEIGHT_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;177&#39;]}],</span>
<span class="go">                      &#39;LOCATION_ATTRIBUTE&#39;: [   {   &#39;Values&#39;: [   &#39;Los Angeles&#39;,</span>
<span class="go">                                                                  &#39;Aspen&#39;]}]}}</span>
</pre></div>
</div>
<p>Since Jack only has attributes now, simplify the display by showing only
attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;],</span>
<span class="go">                                                 [   &#39;Mother&#39;,</span>
<span class="go">                                                     &#39;&#39;,</span>
<span class="go">                                                     &#39;Sandra Knight&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                                 [   &#39;Mother&#39;,</span>
<span class="go">                                                     &#39;&#39;,</span>
<span class="go">                                                     &#39;Susan Anspach&#39;],</span>
<span class="go">                                                 [   &#39;Paternity&#39;,</span>
<span class="go">                                                     &#39;Paternity&#39;,</span>
<span class="go">                                                     &#39;not established&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}],</span>
<span class="go">    &#39;HEIGHT_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;177&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}]}</span>
</pre></div>
</div>
<p>Erase Jack’s height.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;],</span>
<span class="go">                                                 [   &#39;Mother&#39;,</span>
<span class="go">                                                     &#39;&#39;,</span>
<span class="go">                                                     &#39;Sandra Knight&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                                 [   &#39;Mother&#39;,</span>
<span class="go">                                                     &#39;&#39;,</span>
<span class="go">                                                     &#39;Susan Anspach&#39;],</span>
<span class="go">                                                 [   &#39;Paternity&#39;,</span>
<span class="go">                                                     &#39;Paternity&#39;,</span>
<span class="go">                                                     &#39;not established&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}],</span>
<span class="go">    &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;]}]}</span>
</pre></div>
</div>
<p>Erase Jack’s location. Note that both locations are erased, since both
values are part of the same attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">])</span>
<span class="go">{   &#39;CHILD_ATTRIBUTE&#39;: [   {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;],</span>
<span class="go">                                                 [   &#39;Mother&#39;,</span>
<span class="go">                                                     &#39;&#39;,</span>
<span class="go">                                                     &#39;Sandra Knight&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">                           {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                                                 [   &#39;Mother&#39;,</span>
<span class="go">                                                     &#39;&#39;,</span>
<span class="go">                                                     &#39;Susan Anspach&#39;],</span>
<span class="go">                                                 [   &#39;Paternity&#39;,</span>
<span class="go">                                                     &#39;Paternity&#39;,</span>
<span class="go">                                                     &#39;not established&#39;]],</span>
<span class="go">                               &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">                           {&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}]}</span>
</pre></div>
</div>
<p>Jack has only child attributes, so we can further simplify the display.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Sandra Knight&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}]</span>
</pre></div>
</div>
<p>Erase Jack’s child attribute. The last instance of CHILD is erased.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Sandra Knight&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]}]</span>
</pre></div>
</div>
<p>Erase Jack’s third child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Sandra Knight&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]}]</span>
</pre></div>
</div>
<p>Erase Jack’s first child. Note that the value of the child instance is
erased, but because the instance also has properties, the instance remains.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Sandra Knight&#39;]]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]}]</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-value">
<h2>find_value<a class="headerlink" href="#find-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.find_value">
<code class="sig-name descname">find_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">value</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.find_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index corresponding to a particular value.</p>
<p>In its simplest form, <a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> is called with no <code class="docutils literal notranslate"><span class="pre">attribute</span></code>,
<code class="docutils literal notranslate"><span class="pre">instance</span></code>, or <code class="docutils literal notranslate"><span class="pre">index</span></code>, and returns the index of <code class="docutils literal notranslate"><span class="pre">value</span></code> among
the entity values. For example, if <code class="docutils literal notranslate"><span class="pre">value</span></code> is the float 173.4 and
the values of an entity are 29.1, 173.4, and 173.4, <a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a>
will return 2, as 173.4 is the second value. Note that 173.4 is also
the third value, but <a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> finds the index of the first
occurence of the value. If <code class="docutils literal notranslate"><span class="pre">value</span></code> does not appear
among the entity values, <a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> raises an exception.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified, <a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> looks for <code class="docutils literal notranslate"><span class="pre">value</span></code>
among the values of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, rather than looking among entity values.</p>
<p>Some attributes have multiple instances. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified,
<a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> will look on a particular instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
rather than on the last instance. For example is <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 3,
<a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> will look for <code class="docutils literal notranslate"><span class="pre">value</span></code> among the values on the third
instance of the attribute.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">index</span></code> is specified, <a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a> does not start its search
with the first value, but instead starts with the indexed value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose values are searched</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em>) – the value whose index is to be found</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose values are searched.
The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: look among the entity values, rather than
attribute values.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose values are searched.
The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: search on the last attribute instance.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – where to start the search for the value. The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: start
with the first value</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the index position of <code class="docutils literal notranslate"><span class="pre">value</span></code></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">value</span></code> does not appear among the values,
    or the entity does not have that <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, or an instance is
    specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson. Store some entity values and attribute
values on Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;actor&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;player&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;filmmaker&#39;</span><span class="p">}]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the index of the entity value “actor”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;actor&#39;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Find the index of the entity value “filmmaker”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;filmmaker&#39;</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Find the index of the entity value “husband”. It does not exist, so an
exception is raised.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;husband&#39;</span><span class="p">)</span>
<span class="go">avesterra.avial.AvialNotFound: Value not found</span>
</pre></div>
</div>
<p>Find the index of ‘Aspen’ among the location attribute values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Aspen&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Find the index of ‘Raymond’ among the child attribute values. Note that
there are five instances of CHILD. The last one is searched for ‘Raymond’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Raymond&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Find the index of ‘Honning’ among the third instance of the child
attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Honning&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="retrieve-value">
<h2>retrieve_value<a class="headerlink" href="#retrieve-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.retrieve_value">
<code class="sig-name descname">retrieve_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">count=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.retrieve_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve values from entity or attribute instance, in comprehensive format.</p>
<p><a class="reference external" href="http://avesterra.georgetown.edu/tech/comprehensive.html">Comprehensive format</a> is a json schema
used for communicating all of the contents of an entity, or some part of the
contents.</p>
<p>If no attribute, no index, and no count are specified, <a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a>
returns all the entity values. If no attribute is specified, but an index
or a count is specified (or both), some subset of the entity values are
returned, starting with the <code class="docutils literal notranslate"><span class="pre">index</span></code> value and of <code class="docutils literal notranslate"><span class="pre">count</span></code> values in
total. For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 2, <code class="docutils literal notranslate"><span class="pre">count</span></code> is 3, and the values of the
entity are the strings “New York”, “Los Angeles”, “Chicago”,
“San Francisco”, and “Toronto”, then the values “Los Angeles”, “Chicago”,
and “San Francisco” are returned.</p>
<p>If an attribute is specified, <a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a> returns the values of
that attribute, rather than entity values. If the attribute has multiple
values, all are returned, unless <code class="docutils literal notranslate"><span class="pre">index</span></code> or <code class="docutils literal notranslate"><span class="pre">count</span></code> are specified.
When specified with values of an attribute, <code class="docutils literal notranslate"><span class="pre">index</span></code> and <code class="docutils literal notranslate"><span class="pre">count</span></code> behave
just as they do with entity values. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.LOCATION</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code> is 3, <code class="docutils literal notranslate"><span class="pre">count</span></code> is 1, and the locations
are “New York”, “Malibu”, “Jackson Hole”, and “London”, then only a single
value is returned: “Jackson Hole”, in comprehensive format.</p>
<p>Sometimes an attribute of an entity has multiple instances.
If an attribute is specified
and no instance is specified, values of the last instance of that attribute
are returned. If both an attribute and an instance are specified,
<code class="docutils literal notranslate"><span class="pre">instance</span></code> indicates the numeric index of the instance to be returned.
For example, if <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 3, the third attribute instance is returned.</p>
<p>See examples below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose values are returned, in comprehensive format</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose values are returned. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: return entity values instead of attribute values.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose values are returned. The
default is <code class="docutils literal notranslate"><span class="pre">None</span></code> (or equivalently: 0): return the values of the last
attribute instance. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is greater than the number of
instances, an <code class="xref py py-class docutils literal notranslate"><span class="pre">AvialError</span></code> exception is raised.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – of the multiple values to be returned, where to start? The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: start with the first value. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is greater than the
number of values, an empty dict is returned.</p></li>
<li><p><strong>count</strong> (<em>int</em><em> , </em><em>optional</em>) – how many values to return? The default is <code class="docutils literal notranslate"><span class="pre">None</span></code>: return all the
values from <code class="docutils literal notranslate"><span class="pre">index</span></code> until the last value. If count is more than
the number of values until the last value, return all that exist.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>the values in <a class="reference external" href="http://avesterra.georgetown.edu/tech/comprehensive.html">comprehensive format</a>. Only values are returned: no labels or
properties or other items.</p>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or no such attribute is found for the entity, or
    an instance is specified but no attribute, or the instance provided
    is greater than the number of instances, or the index provided is
    greater than the number of values.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a></dt><dd><p>return all attributes, properties, and values of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>return attribute values and properties</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_proeprty()</span></code></dt><dd><p>return entity properties, or attribute properties</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a></dt><dd><p>return the number of values on an attribute instance</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, with some attributes and values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="go">    &quot;Attributes&quot;:{</span>
<span class="go">        &quot;HEIGHT_ATTRIBUTE&quot;:[{&quot;Values&quot;:[&quot;177&quot;]}],</span>
<span class="go">        &quot;LOCATION_ATTRIBUTE&quot;:[{&quot;Values&quot;:[&quot;Los Angeles&quot;, &quot;Aspen&quot;, &quot;Malibu&quot;]}],</span>
<span class="go">        &quot;CHILD_ATTRIBUTE&quot;:[</span>
<span class="go">            {</span>
<span class="go">                &quot;Values&quot;: [&quot;Jennifer&quot;],</span>
<span class="go">                &quot;Properties&quot;: [</span>
<span class="go">                    [&quot;Born&quot;,&quot;&quot;,&quot;1963&quot;],</span>
<span class="go">                    [&quot;Mother&quot;,&quot;&quot;,&quot;Sandra Knight&quot;]</span>
<span class="go">                ]</span>
<span class="go">            },</span>
<span class="go">            {</span>
<span class="go">                &quot;Values&quot;: [&quot;Caleb&quot;],</span>
<span class="go">                &quot;Properties&quot;: [</span>
<span class="go">                    [&quot;Born&quot;,&quot;&quot;,&quot;1970&quot;],</span>
<span class="go">                    [&quot;Mother&quot;,&quot;&quot;,&quot;Susan Anspach&quot;],</span>
<span class="go">                    [&quot;Paternity&quot;, &quot;Paternity&quot;, &quot;not established&quot;]</span>
<span class="go">                ]</span>
<span class="go">            },</span>
<span class="go">            {&quot;Values&quot;: [&quot;Honey&quot;, &quot;Honning&quot;, &#39;Honeybear&#39;]},</span>
<span class="go">            {&quot;Values&quot;: [&quot;Lorraine&quot;]},</span>
<span class="go">            {&quot;Values&quot;: [&quot;Raymond&quot;, &quot;Ray&quot;]},</span>
<span class="go">        ]},</span>
<span class="go">    &quot;Values&quot;: [&quot;actor&quot;, &quot;filmmaker&quot;, &quot;player&quot;, &quot;bad boy&quot;]</span>
<span class="go">}</span>
<span class="go">av.store_entity(jack, jacks_details, auth)</span>
</pre></div>
</div>
<p>Retrieve the values of the jack entity. Note that the values are contained
within in a larger dict, with the <code class="docutils literal notranslate"><span class="pre">Values</span></code> key, as prescribed by
the comprehensive format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [&#39;actor&#39;, &#39;filmmaker&#39;, &#39;player&#39;, &#39;bad boy&#39;]}</span>
</pre></div>
</div>
<p>Retrieve Jack’s values, starting with the third one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [&#39;player&#39;, &#39;bad boy&#39;]}</span>
</pre></div>
</div>
<p>Retrieve one of Jack’s values. Note that the first entity value is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [&#39;actor&#39;]}</span>
</pre></div>
</div>
<p>Retrieve two of Jack’s values, starting with the second one.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">{&#39;Values&#39;: [&#39;filmmaker&#39;, &#39;player&#39;]}</span>
</pre></div>
</div>
<p>Retrieve the values of Jack’s location. Note that the values are contained
within <code class="docutils literal notranslate"><span class="pre">Attributes</span></code>, then within <code class="docutils literal notranslate"><span class="pre">LOCATION_ATTRIBUTE</span></code>, then within
<code class="docutils literal notranslate"><span class="pre">Values</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Los Angeles&#39;, &#39;Aspen&#39;, &#39;Malibu&#39;]}]}}</span>
</pre></div>
</div>
<p>Retrieve the values of Jack’s child. Note that Jack has multiple children.
The value of his last child is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Raymond&#39;, &#39;Ray&#39;]}]}}</span>
</pre></div>
</div>
<p>Retrieve the values of Jack’s third child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Honey&#39;, &#39;Honning&#39;, &#39;Honeybear&#39;]}]}}</span>
</pre></div>
</div>
<p>Retrieve the second value of Jack’s third child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Values&#39;: [&#39;Honning&#39;]}]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="value-count">
<h2>value_count<a class="headerlink" href="#value-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.value_count">
<code class="sig-name descname">value_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.value_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of values on the entity or on an attribute instance.</p>
<p>Typically <a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a> is used to return the count of values on an
attribute. If no attribute is provided, the count of value on the
entity as a whole is returned instead.</p>
<p>Sometimes an attribute of an entity has more than one instance. In that
situation, <a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a> counts the values on the last instance,
as long as <code class="docutils literal notranslate"><span class="pre">instance</span></code> is not provided as an argument. If <code class="docutils literal notranslate"><span class="pre">instance</span></code>
is provided, it specifies the numeric index of the attribute instance
on which to count values. For example, if <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided as
5, <a class="reference internal" href="#avesterra.avial.value_count" title="avesterra.avial.value_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">value_count()</span></code></a> counts the values of the fifth instance.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is provided, <code class="docutils literal notranslate"><span class="pre">instance</span></code> can also be provided. But when
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> (i.e. not provided), <code class="docutils literal notranslate"><span class="pre">instance</span></code> cannot be
provided; unlike its attributes, an entity has only a single instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose values are counted</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose values are counted. The default is
<code class="docutils literal notranslate"><span class="pre">None</span></code>: count the values of the entity itself rather than of one of
its attributes.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – the attribute instance of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be value counted. The default
is <code class="docutils literal notranslate"><span class="pre">None</span></code>: count the values of the last attribute instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the number of values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or no such attribute is found for the entity, or
    an instance is specified but no attribute, or the instance provided
    is greater than the number of instances.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_value" title="avesterra.avial.insert_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_value()</span></code></a></dt><dd><p>insert an additional value on the entity or an attribute</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_value" title="avesterra.avial.remove_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_value()</span></code></a></dt><dd><p>remove a single value from an attribute or from the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.replace_value" title="avesterra.avial.replace_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">replace_value()</span></code></a></dt><dd><p>replace a value from an attribute of from the entity with another value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_value" title="avesterra.avial.find_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_value()</span></code></a></dt><dd><p>find the index or a known value</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_value" title="avesterra.avial.retrieve_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_value()</span></code></a></dt><dd><p>retrieve multiple values, in comprehensive format</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, with some initial attributes and values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;actor&quot;</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">,</span> <span class="s2">&quot;director&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">,</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">]}</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>How many values for Jack’s location?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">value_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>How many values of the second CHILD instance?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">value_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>How many values on the Jack entity itself?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">value_count</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="label-operations">
<h1>Label operations<a class="headerlink" href="#label-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="get-label">
<h2>get_label<a class="headerlink" href="#get-label" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.get_label">
<code class="sig-name descname">get_label</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.get_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="set-label">
<h2>set_label<a class="headerlink" href="#set-label" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.set_label">
<code class="sig-name descname">set_label</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">label</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.set_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="clear-label">
<h2>clear_label<a class="headerlink" href="#clear-label" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.clear_label">
<code class="sig-name descname">clear_label</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.clear_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="erase-label">
<h2>erase_label<a class="headerlink" href="#erase-label" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_label">
<code class="sig-name descname">erase_label</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="find-label">
<h2>find_label<a class="headerlink" href="#find-label" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.find_label">
<code class="sig-name descname">find_label</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">name</em>, <em class="sig-param">*</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.find_label" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="attribute-operations">
<h1>Attribute operations<a class="headerlink" href="#attribute-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="get-attribute">
<h2>get_attribute<a class="headerlink" href="#get-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.get_attribute">
<code class="sig-name descname">get_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.get_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of an attribute.</p>
<p><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a> returns the value of an attribute on an entity. It is
intended for a simple, common case: a single attribute instance and a
single value for that instance. For other, more complex situations,
<a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a> or <a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a> may be more appropriate.</p>
<p>When there is a single attribute instance and a single value for that
instance, <a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a>
returns the sole value. If the attribute has more than one instance,
the first one is used. If the attribute instance has more than one value,
the first one is returned.</p>
<p><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a> raises an exception if there is no such attribute,
or the attribute has no values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity with the attribute value</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> whose value is to be returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value of the attribute</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or float or bool or str or Entity or list or dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or no such attribute is found for the entity</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_value" title="avesterra.avial.get_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_value()</span></code></a></dt><dd><p>return the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, filling in some attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find Jack’s height.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">)</span>
<span class="go">177</span>
</pre></div>
</div>
<p>Find Jack’s location. There are three values for location;
the first is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">&#39;Los Angeles&#39;</span>
</pre></div>
</div>
<p>Find Jack’s child. There are three child instances. The value of the first
is returned.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;Jennifer&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="set-attribute">
<h2>set_attribute<a class="headerlink" href="#set-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.set_attribute">
<code class="sig-name descname">set_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">value</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.set_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of an entity’s attribute.</p>
<p><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a> sets the value of an attribute on an entity. It is
intended for a simple, common case: keeping a single value on an attribute,
rather than multiple values or multiple attribute instances. For more
complex situations, <a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a> is better.</p>
<p>If there are multiple values on the attribute, <a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a> changes
the first value. If there are multiple attribute instances,
<a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a> changes the first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose attribute is to be set</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be set</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em>) – the new value of <code class="docutils literal notranslate"><span class="pre">attribute</span></code></p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the attribute setting</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not a valid attribute, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does
    not authorize the setting.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.set_value" title="avesterra.avial.set_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_value()</span></code></a></dt><dd><p>change the value of an attribute of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity and fill it with attribute values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Set Jack’s age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">,</span> <span class="mi">82</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find Jack’s age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">82</span>
</pre></div>
</div>
<p>Examine Jack’s locations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Malibu&#39;}]}]}}</span>
</pre></div>
</div>
<p>Set Jack’s location and examine the result. Note that only the first
location is changed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="s1">&#39;Mulholland Drive&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Mulholland Drive&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Malibu&#39;}]}]}}</span>
</pre></div>
</div>
<p>Get Jack’s location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">&#39;Mulholland Drive&#39;</span>
</pre></div>
</div>
<p>Examine Jack’s children.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]}}</span>
</pre></div>
</div>
<p>Set Jack’s child, and examine the results. Note that only the first
attribute instance is changed.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="s1">&#39;Jen&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jen&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]}}</span>
</pre></div>
</div>
<p>Get Jack’s child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;Jen&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="clear-attribute">
<h2>clear_attribute<a class="headerlink" href="#clear-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.clear_attribute">
<code class="sig-name descname">clear_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.clear_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the value of an attribute on an entity.</p>
<p><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a> clears the value of an attribute on an entity. It is
intended for a simple, common case: keeping a single value on an attribute,
rather than multiple values or multiple attribute instances. For more
complex situations, <a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a> is better.</p>
<p>If there are multiple values on the attribute, <a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a>
clears the first one. If there are no values, <a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a> does
nothing.</p>
<p>If there are multiple attribute instances of a single attribute—e.g.
multiple instances of the <code class="docutils literal notranslate"><span class="pre">CHILD</span></code> attribute—<a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a>
clears a value from the first one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose attribute is to be cleared</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be cleared</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the attribute clearing</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not a valid attribute, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does
    not authorize the clearing.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.clear_value" title="avesterra.avial.clear_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_value()</span></code></a></dt><dd><p>clear the value of an attribute or of the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, and populate with attribute values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Clear Jack’s age.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Look at Jack’s age. There is nothing there.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>Clear Jack’s location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Jack now has only two locations. The first one is Aspen.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Aspen&#39;}, {&#39;UTF-8&#39;: &#39;Malibu&#39;}]}]}}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">&#39;Aspen&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">&#39;Malibu&#39;</span>
</pre></div>
</div>
<p>Examine Jack’s children. Note that Caleb, his second child, has properties
as well as values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ]</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]}}</span>
</pre></div>
</div>
<p>Clear Jack’s child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>There are four children left.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ]</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]}}</span>
</pre></div>
</div>
<p>Clear another child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>There are still four children. The call of <a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a>
cleared the (sole) value, but left the properties unchanged.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ]</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]}}</span>
</pre></div>
</div>
<p>Clear again. This time there is no effect at all.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ]</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="erase-attribute">
<h2>erase_attribute<a class="headerlink" href="#erase-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_attribute">
<code class="sig-name descname">erase_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase an attribute from an entity.</p>
<p><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a> erases an attribute from an entity. It is intended
for a simple, common case: when the entity has a single value for an
attribute, rather than multiple values or multiple instances. For more
complex situations, consider <a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a> or <a class="reference internal" href="#avesterra.avial.erase_entity" title="avesterra.avial.erase_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_entity()</span></code></a>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">entity</span></code> has multiple values for <code class="docutils literal notranslate"><span class="pre">attribute</span></code>,
<a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a> erases all of them. If <code class="docutils literal notranslate"><span class="pre">entity</span></code> has attribute
properties on <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, <a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a> erases them as well.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">entity</span></code> has multiple
attribute instances for <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, <a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a> erases
only one attribute instance—the first one—leaving the rest in place.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose attribute is to be erased</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be erased</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the attribute setting</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not a valid attribute, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does
    not authorize the erasing.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.erase_value" title="avesterra.avial.erase_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_value()</span></code></a></dt><dd><p>erase values from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_entity" title="avesterra.avial.erase_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_entity()</span></code></a></dt><dd><p>erase all attributes, properties, and values of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity. Populate with attribute values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Erase Jack’s height</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>Erase Jack’s location. Note that all the values are erased.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{}</span>
</pre></div>
</div>
<p>Examine Jack’s children.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}]},</span>
<span class="go">    {</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ]</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">]}}</span>
</pre></div>
</div>
<p>Erase the first instance of the child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ]</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">]}}</span>
</pre></div>
</div>
<p>Erase another attribute instance. Note that both values and properties
are erased, unlike the behavior of <a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-attribute">
<h2>find_attribute<a class="headerlink" href="#find-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.find_attribute">
<code class="sig-name descname">find_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">*</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.find_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the positon of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, among all the attributes of <code class="docutils literal notranslate"><span class="pre">entity</span></code>.</p>
<p><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a> returns the 1-based position of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, e.g.
if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is the first attribute, it returns 1 rather than 0.
If entity does not have that attribute, raises AvialNotFound.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, the search for <code class="docutils literal notranslate"><span class="pre">attribute</span></code> starts at the
position identified by <code class="docutils literal notranslate"><span class="pre">index</span></code>, ignoring all prior attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity on which the attribute is to be found</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the attribute to find</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – The attribute position to start the search for <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The
default is None: start at the beginning.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the position of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> among all the attributes of entity.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter,  or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not an attribute.</p></li>
<li><p><strong>AvialNotFound</strong> – if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not found</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, and fill it with attribute values.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the position of the height attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Find the position of the location attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Find the position of the child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Find the position of the (non-existant) spouse attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">find_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">SPOUSE</span><span class="p">)</span>
<span class="go">avesterra.avial.AvialNotFound: Attribute not found</span>
</pre></div>
</div>
<p>Clean up</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="retrieve-attribute">
<h2>retrieve_attribute<a class="headerlink" href="#retrieve-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.retrieve_attribute">
<code class="sig-name descname">retrieve_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.retrieve_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve everything for a single attribute, in comprehensive format.</p>
<p><a class="reference external" href="http://avesterra.georgetown.edu/tech/comprehensive.html">Comprehensive format</a> is a json schema
used for communicating all of the contents of an entity, or some part of the
contents.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified—the typical usage—everything about that
single attribute is returned, in comprehensive format. Everything includes
all attribute instances, with values, properties, and labels.</p>
<p>The result returned is a Python dict with a single key: ‘Attributes’.
The value for ‘Attributes’ is a another dict, also with a single key,
the normalized name of the attribute. For example a call to
<a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a> with an attribute of <code class="docutils literal notranslate"><span class="pre">CHILD</span></code> will return a
dict:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;Attributes&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">attribute</span><span class="o">-</span><span class="n">instances</span><span class="o">&gt;</span><span class="p">}}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">attribute-instances</span></code> is a list. Each element of the list is a dict, with
one, two, or three keys. The possible keys are ‘Values’, ‘Properties’, and
‘Label’. For example, here is an attribute instance with all three keys:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Label&#39;</span><span class="p">:</span> <span class="s1">&#39;Jen&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Jennifer&#39;</span><span class="p">}],</span>
    <span class="s1">&#39;Properties&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;Born&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
        <span class="p">[</span><span class="s1">&#39;Mother&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">Label</span></code> value (‘Jen’ in the example above) is a simple string.
The <code class="docutils literal notranslate"><span class="pre">Values</span></code> value is a list of AvesTerra values, each of which is
expressed as a dict. Each value dict has a type as a key and a
string representation as its value. For example, this is an (unlikely)
list of three values, a float, a string, and a boolean:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;FLOAT&#39;</span><span class="p">:</span> <span class="s1">&#39;34.3&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Oswalo&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;BOOLEAN&#39;</span><span class="p">:</span> <span class="s1">&#39;TRUE&#39;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The supported types are ‘UTF-8’ (for a string in UTF-8 format), ‘ASCII’
(for a string in ASCII format), ‘INTEGER’, ‘FLOAT’, ‘BOOLEAN’, ‘CHARACTER’
(for a string of length 1), ‘ENTITY’ (formatted as a UUID), TIME (formatted
as an epoch integer), ‘INTERCHANGE’ (json), ‘DATA’ (a byte stream, corresponding to a Python
bytes type), ‘ERROR’, ‘OPERATOR’, and ‘FUNCTION’.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">Properties</span></code> value is a list. Each element of the property list
is a property, represented in comprehensive format as a list of three
elements. The first element of a property is the name of the property, a
string. The second element of a property is the key of the property, also a
string. If the key is not an empty string, it must be unique in the
property list; no two properties can have the same key. The third
element of a property is the value of the property, represented in
comprehensive format as a dict of type and string representation, as
with attribute values, described above.</p>
<p>Instead of having a label, values, and properties, an attribute instance
might have just values, or a label and properties, or any combination
of the three keys. For example, all of these are legitimate
attribute instances in comprehensive format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Properties&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;Born&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
        <span class="p">[</span><span class="s1">&#39;Mother&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Label&#39;</span><span class="p">:</span> <span class="s1">&#39;Jen&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Jennifer&#39;</span><span class="p">}]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;Values&#39;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;Jennifer&#39;</span><span class="p">}],</span>
    <span class="s1">&#39;Properties&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">&#39;Born&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
        <span class="p">[</span><span class="s1">&#39;Mother&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The most common usage of <a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a> is specifying an
attribute to retrieve. But <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is optional. If no attribute
is specified, all of the attribute instances of all the entity’s
attributes are returned, in comprehensive format. The resulting dict
is similar to the dict returned from a call to <a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a>,
except that the latter also includes entity values and entity labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose attribute is retrieved</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of <code class="docutils literal notranslate"><span class="pre">entity</span></code> to be returned, in comprehensive format,
If not provided, all attributes are the entity are returned, again
in comprehensive format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>in comprehensive format</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> does not exist on <code class="docutils literal notranslate"><span class="pre">entity</span></code>.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a></dt><dd><p>return all attributes, properties, and values of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity and give it some attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[{</span><span class="s2">&quot;INTEGER&quot;</span><span class="p">:</span> <span class="s2">&quot;177&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Malibu&quot;</span><span class="p">}]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}],</span> <span class="s2">&quot;Label&quot;</span><span class="p">:</span> <span class="s2">&quot;Jen&quot;</span><span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Label&quot;</span><span class="p">:</span> <span class="s2">&quot;C&quot;</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honning&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}]}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;actor&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;player&#39;</span><span class="p">},</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s1">&#39;filmmaker&#39;</span><span class="p">}]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Retrieve Jack’s height, in comprehensive format.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">HEIGHT</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;HEIGHT_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;177&#39;}]}]}}</span>
</pre></div>
</div>
<p>Retrieve Jack’s location. Note that there are three values for location.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;:</span>
<span class="go">    [{&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">    {&#39;UTF-8&#39;: &#39;Malibu&#39;}</span>
<span class="go">]}]}}</span>
</pre></div>
</div>
<p>Retrieve Jack’s children. Note that there are five attribute instances
for child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}], &#39;Label&#39;: &#39;Jen&#39;},</span>
<span class="go">    {</span>
<span class="go">        &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">        &#39;Properties&#39;: [</span>
<span class="go">            [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">            [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">        ],</span>
<span class="go">        &#39;Label&#39;: &#39;C&#39;</span>
<span class="go">    },</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">    {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">]}}</span>
</pre></div>
</div>
<p>Retrieve all of Jack’s attributes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_attribute</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {</span>
<span class="go">    &#39;HEIGHT_ATTRIBUTE&#39;: [{&#39;Values&#39;: [{&#39;INTEGER&#39;: &#39;177&#39;}]}], &#39;LOCATION_ATTRIBUTE&#39;: [{&#39;Values&#39;: [</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Los Angeles&#39;},</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Aspen&#39;},</span>
<span class="go">        {&#39;UTF-8&#39;: &#39;Malibu&#39;}</span>
<span class="go">    ]}],</span>
<span class="go">    &#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}], &#39;Label&#39;: &#39;Jen&#39;},</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">            ],</span>
<span class="go">            &#39;Label&#39;: &#39;C&#39;</span>
<span class="go">        },</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}, {&#39;UTF-8&#39;: &#39;Honning&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]</span>
<span class="go">}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="attribute-item">
<h2>attribute_item<a class="headerlink" href="#attribute-item" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attribute_item">
<code class="sig-name descname">attribute_item</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">instance</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attribute_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Return attribute at the instance position.</p>
<p>What attribute is third, among the attributes for this entity? Which
attribute is 17th?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity on which the attribute lives</p></li>
<li><p><strong>instance</strong> (<em>int</em>) – the position of the attribute in question. An instance of 0 returns the
last attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the attribute at the <code class="docutils literal notranslate"><span class="pre">instance</span></code> position</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute">Attribute</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not connected to an
    adapter, or instance is greater than the count of attributes for this
    entity.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>return count of instances of an attribute, or count of attributes on entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_count" title="avesterra.avial.attribute_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_count()</span></code></a></dt><dd><p>how many attributes are on this entity?</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the attributes and properties for Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;No.1&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>What is Jack’s second attribute?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attribute_item</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">&lt;Attribute.AGE: 35&gt;</span>
</pre></div>
</div>
<p>What is Jack’s fifth attribute?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attribute_item</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">&lt;Attribute.CHILD: 47&gt;</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="attribute-count">
<h2>attribute_count<a class="headerlink" href="#attribute-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attribute_count">
<code class="sig-name descname">attribute_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attribute_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return count of instances of attribute, or count of attributes on entity</p>
<p>How many child attribute instances are on the entity? How many location
attribute instances? Or how many attributes on the entity?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity on which to count</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – the attribute of which to count instances. If not provided, the
number of attributes on the entity is counted instead.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>either the count of attribute instances of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> (if provided),
or the count of attributes (if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not connected to an
    adapter</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.get_attribute" title="avesterra.avial.get_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_attribute()</span></code></a></dt><dd><p>return the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.set_attribute" title="avesterra.avial.set_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_attribute()</span></code></a></dt><dd><p>set the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_attribute" title="avesterra.avial.clear_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_attribute()</span></code></a></dt><dd><p>clear the value of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_attribute" title="avesterra.avial.erase_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_attribute()</span></code></a></dt><dd><p>erase an attribute from an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_attribute" title="avesterra.avial.find_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_attribute()</span></code></a></dt><dd><p>find the position of an attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_attribute" title="avesterra.avial.retrieve_attribute"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_attribute()</span></code></a></dt><dd><p>retrieve everything for a single attribute on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.attribute_item" title="avesterra.avial.attribute_item"><code class="xref py py-func docutils literal notranslate"><span class="pre">attribute_item()</span></code></a></dt><dd><p>return the attribute at a position on the entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the attributes and properties for Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;No.1&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>How many attributes for Jack?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attribute_count</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>How many instances of location?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attribute_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">LOCATION</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>How many instances of child?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attribute_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>How many instances of the car attribute?</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">attribute_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CAR</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>
<div class="section" id="property-operations">
<h1>Property operations<a class="headerlink" href="#property-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="get-property">
<h2>get_property<a class="headerlink" href="#get-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.get_property">
<code class="sig-name descname">get_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.get_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of some property.</p>
<p>Get the value of a property on <code class="docutils literal notranslate"><span class="pre">entity</span></code>. With no arguments, returns the
value of the last entity property. If <code class="docutils literal notranslate"><span class="pre">key</span></code> is specified, returns
the value of the entity property with that key. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is
specified—and <code class="docutils literal notranslate"><span class="pre">key</span></code> is not specified—returns the value of the
property at numeric position <code class="docutils literal notranslate"><span class="pre">index</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified, <a class="reference internal" href="#avesterra.avial.get_property" title="avesterra.avial.get_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_property()</span></code></a> returns the value
of an attribute property instead of an entity property, a
property of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The property returned is identified by <code class="docutils literal notranslate"><span class="pre">key</span></code>—
if specified—or <code class="docutils literal notranslate"><span class="pre">index</span></code>—if specified and <code class="docutils literal notranslate"><span class="pre">key</span></code> is not. If neither
<code class="docutils literal notranslate"><span class="pre">key</span></code> nor <code class="docutils literal notranslate"><span class="pre">index</span></code> are specified, the value of the last property of
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> is returned.</p>
<p>Sometimes an entity has more than one instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. In that
case, the value of a property of the last instance is returned, unless
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose property value is returned</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – the key of the property whose value is returned</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optionally</em>) – the numeric position of the property whose value is returned</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, return the value of an attribute property, and in
particular return a property of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default
is None: return the value of an entity property.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, return the value
of a property on a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
3, the property value of some property on the third child instance
is returned. The default is None: return a value of a property on
the last instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value of the property</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int or float or bool or str or Entity or list or dict</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">key</span></code> is not found among the properties, or there are
    fewer than <code class="docutils literal notranslate"><span class="pre">index</span></code> properties, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not found on the
    entity, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is greater
    than the number of instances of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>,
    or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified but <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="s1">&#39;&lt;0|2906857743|0&gt;&#39;</span><span class="p">,</span> <span class="n">auth_code</span><span class="o">=</span><span class="mi">21029</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity and fill its attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span>
<span class="gp">... </span>                        <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="s2">&quot;open question&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;not established&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1992&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;The Shining&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Chinatown&quot;</span><span class="p">}]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Get the value of Jack’s last entity property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;Chinatown&#39;</span>
</pre></div>
</div>
<p>Get the value of Jack’s first entity property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;The Shining&#39;</span>
</pre></div>
</div>
<p>Get the value of the entity property with the key ‘famous fan’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;famous fan&#39;</span><span class="p">)</span>
<span class="go">&#39;Los Angeles Lakers&#39;</span>
</pre></div>
</div>
<p>Get the value of the last property of the last instance of Jack’s CHILD
attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;Rebecca Broussard&#39;</span>
</pre></div>
</div>
<p>Get the value of the last property of the first instance of Jack’s CHILD
attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;Sandra Knight&#39;</span>
</pre></div>
</div>
<p>Get the value of the property with key ‘open question’ on the second
instance of Jack’s child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">get_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;open question&#39;</span><span class="p">)</span>
<span class="go">&#39;not established&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="set-property">
<h2>set_property<a class="headerlink" href="#set-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.set_property">
<code class="sig-name descname">set_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">name=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.set_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the name or value (or both) of some property.</p>
<p><a class="reference internal" href="#avesterra.avial.set_property" title="avesterra.avial.set_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_property()</span></code></a> sets the name or value of an existing property. If
the <code class="docutils literal notranslate"><span class="pre">name</span></code> parameter is specified, the name of a property is changed. If
the <code class="docutils literal notranslate"><span class="pre">value</span></code> parameter is specified, the value of a property is changed.
If both are specified, both are changed.</p>
<p>The property to be changed is identified with the <code class="docutils literal notranslate"><span class="pre">key</span></code>,
<code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, and <code class="docutils literal notranslate"><span class="pre">instance</span></code> parameters. If <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
is not specified, an entity property is changed, instead of an attribute
property. In that case, if <code class="docutils literal notranslate"><span class="pre">key</span></code> is specified, the entity property
with that key is changed. Or if <code class="docutils literal notranslate"><span class="pre">index</span></code> is specified, the entity
property at that numeric position is changed. Or if neither <code class="docutils literal notranslate"><span class="pre">key</span></code> nor
<code class="docutils literal notranslate"><span class="pre">index</span></code> are specified, the last entity property is changed.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified, an attribute property is changed instead
of an entity property, and in particular, one of the properties of
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> is changed. <code class="docutils literal notranslate"><span class="pre">key</span></code> or <code class="docutils literal notranslate"><span class="pre">index</span></code> identify which attribute
property is changed. If neither are specified, the last property of
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> is changed.</p>
<p>Sometimes an entity will have multiple attribute instances. In that
situation, an attribute property of the last instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
changed, unless <code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified,
it identifies the numeric position of the attribute instance that contains
the property to be changed. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is CHILD and
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 1, the first child instance is changed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose property is changed</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the property change</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – the new name of the property. If not provided, the name of the property
is left unchanged</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – the new value of the property. If not provided, the value of the
property is unchanged</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – the key of the property to be changed. If not provided, the property
is identified by <code class="docutils literal notranslate"><span class="pre">index</span></code>. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is also not provided, the
last property is changed.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the position of the property to be changed. If not provided—and
<code class="docutils literal notranslate"><span class="pre">key</span></code> is also not provided—the last property is changed.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, an attribute property is changed instead of an entity
property, and in particular a property of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is changed. If
not provided, an entity property is changed.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, a particular instance
of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is changed, the one at position <code class="docutils literal notranslate"><span class="pre">instance</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
7, a property of the seventh child is changed. If not provided, the
last instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is changed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize changing a property, or
    <code class="docutils literal notranslate"><span class="pre">key</span></code> is not found among the properties, or <code class="docutils literal notranslate"><span class="pre">index</span></code> is greater
    than the number of properties, or
    <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not found on the entity, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is greater
    than the number of instances of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
    provided but <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="s1">&#39;&lt;0|2906857743|0&gt;&#39;</span><span class="p">,</span> <span class="n">auth_code</span><span class="o">=</span><span class="mi">21029</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity and fill it with attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span>
<span class="gp">... </span>                        <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="s2">&quot;open question&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;not established&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1992&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;The Shining&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Chinatown&quot;</span><span class="p">}]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Change the value and name of Jack’s last property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Mars Attacks!&#39;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;very best performance&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;known for&#39;, &#39;most popular role&#39;, {&#39;UTF-8&#39;: &#39;The Shining&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;famous fan&#39;, {&#39;UTF-8&#39;: &#39;Los Angeles Lakers&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Bob Dylan&#39;}],</span>
<span class="go">    [&#39;very best performance&#39;, &#39;best performance&#39;, {&#39;UTF-8&#39;: &#39;Mars Attacks!&#39;}]</span>
<span class="go">]}</span>
</pre></div>
</div>
<p>Change the value of Jack’s property, the one with key ‘famous fan’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Los Angeles Clippers&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;famous fan&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;known for&#39;, &#39;most popular role&#39;, {&#39;UTF-8&#39;: &#39;The Shining&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;famous fan&#39;, {&#39;UTF-8&#39;: &#39;Los Angeles Clippers&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Bob Dylan&#39;}],</span>
<span class="go">    [&#39;very best performance&#39;, &#39;best performance&#39;, {&#39;UTF-8&#39;: &#39;Mars Attacks!&#39;}]</span>
<span class="go">]}</span>
</pre></div>
</div>
<p>Change the name of Jack’s second property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;not a fan of&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;known for&#39;, &#39;most popular role&#39;, {&#39;UTF-8&#39;: &#39;The Shining&#39;}],</span>
<span class="go">    [&#39;not a fan of&#39;, &#39;famous fan&#39;, {&#39;UTF-8&#39;: &#39;Los Angeles Clippers&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Bob Dylan&#39;}],</span>
<span class="go">    [&#39;very best performance&#39;, &#39;best performance&#39;, {&#39;UTF-8&#39;: &#39;Mars Attacks!&#39;}]</span>
<span class="go">]}</span>
</pre></div>
</div>
<p>Change the value of the last property of Jack’s last child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Becca Brousard&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;Born&#39;, &#39;youngest&#39;, {&#39;INTEGER&#39;: &#39;1992&#39;}],</span>
<span class="go">    [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Becca Brousard&#39;}]</span>
<span class="go">]}]}}</span>
</pre></div>
</div>
<p>Change the value of the first property of Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">1971</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1971&#39;}],</span>
<span class="go">    [&#39;Paternity&#39;, &#39;open question&#39;, {&#39;UTF-8&#39;: &#39;not established&#39;}],</span>
<span class="go">    [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">]}]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="clear-property">
<h2>clear_property<a class="headerlink" href="#clear-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.clear_property">
<code class="sig-name descname">clear_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.clear_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the name and value of some property.</p>
<p><a class="reference internal" href="#avesterra.avial.set_property" title="avesterra.avial.set_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_property()</span></code></a> clears both the name and the value of an existing
property. Clearing a property does not remove the property from the entity;
the property remains but with empty strings for both name and value.</p>
<p>The property to be cleared is
identified with the <code class="docutils literal notranslate"><span class="pre">key</span></code>, <code class="docutils literal notranslate"><span class="pre">index</span></code>, <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, and <code class="docutils literal notranslate"><span class="pre">instance</span></code>
parameters. If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not specified, an entity property is
to be cleared, instead of an attribute
property. In that case, if <code class="docutils literal notranslate"><span class="pre">key</span></code> is specified, the entity property
with that key is cleared. Or if <code class="docutils literal notranslate"><span class="pre">index</span></code> is specified, the entity
property at that numeric position is cleared. Or if neither <code class="docutils literal notranslate"><span class="pre">key</span></code> nor
<code class="docutils literal notranslate"><span class="pre">index</span></code> are specified, the last entity property is cleared.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified, an attribute property is cleared instead
of an entity property, and in particular, one of the properties of
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> is cleared. <code class="docutils literal notranslate"><span class="pre">key</span></code> or <code class="docutils literal notranslate"><span class="pre">index</span></code> identify which attribute
property is cleared. If neither are specified, the last property of
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> is cleared.</p>
<p>Sometimes an entity will have multiple attribute instances. In that
situation, an attribute property of the last instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
cleared, unless <code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is specified,
it identifies the numeric position of the attribute instance that contains
the property to be cleared. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is CHILD and
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is 1, the first child instance is cleared.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose property is cleared</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the property clearing</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – the key of the property to be cleared. If not provided, the property
is identified by <code class="docutils literal notranslate"><span class="pre">index</span></code>. If <code class="docutils literal notranslate"><span class="pre">index</span></code> is also not provided, the
last property is cleared.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the position of the property to be cleared. If not provided—and
<code class="docutils literal notranslate"><span class="pre">key</span></code> is also not provided—the last property is cleared.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, an attribute property is cleared instead of an entity
property, and in particular a property of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is cleared. If
not provided, an entity property is cleared.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, a particular instance
of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is cleared, the one at position <code class="docutils literal notranslate"><span class="pre">instance</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
7, a property of the seventh child is cleared. If not provided, the
last instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is cleared.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize changing a property, or
    <code class="docutils literal notranslate"><span class="pre">key</span></code> is not found among the properties, or <code class="docutils literal notranslate"><span class="pre">index</span></code> is greater
    than the number of properties, or
    <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not found on the entity, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is greater
    than the number of instances of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
    provided but <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="s1">&#39;&lt;0|2906857743|0&gt;&#39;</span><span class="p">,</span> <span class="n">auth_code</span><span class="o">=</span><span class="mi">21029</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity and fill it with attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span>
<span class="gp">... </span>                        <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="s2">&quot;open question&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;not established&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1992&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;The Shining&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Chinatown&quot;</span><span class="p">}]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Clear Jack’s last property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;known for&#39;, &#39;most popular role&#39;, {&#39;UTF-8&#39;: &#39;The Shining&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;famous fan&#39;, {&#39;UTF-8&#39;: &#39;Los Angeles Lakers&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Bob Dylan&#39;}],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;&#39;]</span>
<span class="go">]}</span>
</pre></div>
</div>
<p>Clear Jack’s property, the one with key ‘famous fan’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;famous fan&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;known for&#39;, &#39;most popular role&#39;, {&#39;UTF-8&#39;: &#39;The Shining&#39;}],</span>
<span class="go">    [&#39;&#39;, &#39;famous fan&#39;, &#39;&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Bob Dylan&#39;}],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;&#39;]</span>
<span class="go">]}</span>
</pre></div>
</div>
<p>Clear Jack’s first property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;&#39;, &#39;most popular role&#39;, &#39;&#39;],</span>
<span class="go">    [&#39;&#39;, &#39;famous fan&#39;, &#39;&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Bob Dylan&#39;}],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;&#39;]</span>
<span class="go">]}</span>
</pre></div>
</div>
<p>Clear the last property of Jack’s last child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;Born&#39;, &#39;youngest&#39;, {&#39;INTEGER&#39;: &#39;1992&#39;}],</span>
<span class="go">    [&#39;&#39;, &#39;&#39;, &#39;&#39;]</span>
<span class="go">]}]}}</span>
</pre></div>
</div>
<p>Clear the first proeprty of Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">{&#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [{&#39;Properties&#39;: [</span>
<span class="go">    [&#39;&#39;, &#39;&#39;, &#39;&#39;],</span>
<span class="go">    [&#39;Paternity&#39;, &#39;open question&#39;, {&#39;UTF-8&#39;: &#39;not established&#39;}],</span>
<span class="go">    [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">]}]}}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="erase-property">
<h2>erase_property<a class="headerlink" href="#erase-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_property">
<code class="sig-name descname">erase_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase all the properties, either all the entity properties, or all the
properties of an attribute.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> are not specified, <a class="reference internal" href="#avesterra.avial.erase_property" title="avesterra.avial.erase_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_property()</span></code></a>
erases all the entity properties of <code class="docutils literal notranslate"><span class="pre">entity</span></code>, leaving no properties at
all. If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is provided, attribute properties are erased instead
of entity properties, and in particular, the properties of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
are erased.</p>
<p>Sometimes an entity has multiple instances of an attribute. In that case,
<a class="reference internal" href="#avesterra.avial.erase_property" title="avesterra.avial.erase_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_property()</span></code></a> erases the properties of the last instance, unless
<code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided to specify the numeric position of the instance
whose attributes are erased.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose properties are erased</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting property erasure</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, attribute properties are erased instead of an entity
property, and in particular the properties of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> are
erased. If not provided, entity properties are erased.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, the properties of
a particular instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> are erased, the instance at
position <code class="docutils literal notranslate"><span class="pre">instance</span></code>. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 4, the properties of the fourth
child are erased. If not provided, the properties of the last instance
of <code class="docutils literal notranslate"><span class="pre">attribute</span></code> are erased.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not authorize property erasure, or
    <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not found on the entity, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is greater
    than the number of instances of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>, or <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
    provided but <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">server</span><span class="o">=</span><span class="s1">&#39;&lt;0|2906857743|0&gt;&#39;</span><span class="p">,</span> <span class="n">auth_code</span><span class="o">=</span><span class="mi">21029</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity and add attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Jennifer&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s1">&#39;1963&#39;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ASCII&#39;</span><span class="p">:</span> <span class="s1">&#39;Sandra Knight&#39;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Caleb&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1970&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span>
<span class="gp">... </span>                        <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="s2">&quot;open question&quot;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;not established&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Susan Anspach&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Honey&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Lorraine&quot;</span><span class="p">}]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Raymond&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">:</span> <span class="s2">&quot;1992&quot;</span><span class="p">}],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">}]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;UTF-8&#39;</span><span class="p">:</span> <span class="s2">&quot;The Shining&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,{</span><span class="s2">&quot;UTF-8&quot;</span><span class="p">:</span> <span class="s2">&quot;Chinatown&quot;</span><span class="p">}]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Erase all of Jack’s properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1963&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;ASCII&#39;: &#39;Sandra Knight&#39;}]</span>
<span class="go">            ]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">                [&#39;Paternity&#39;, &#39;open question&#39;, {&#39;UTF-8&#39;: &#39;not established&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">            ]</span>
<span class="go">        },</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;youngest&#39;, {&#39;INTEGER&#39;: &#39;1992&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Rebecca Broussard&#39;}]</span>
<span class="go">            ]</span>
<span class="go">        }</span>
<span class="go">    ]},</span>
<span class="go">    &#39;Label&#39;: &#39;Jack Nicholson&#39;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Erase all the properties of Jack’s last child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1963&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;ASCII&#39;: &#39;Sandra Knight&#39;}]</span>
<span class="go">            ]</span>
<span class="go">        },</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1970&#39;}],</span>
<span class="go">                [&#39;Paternity&#39;, &#39;open question&#39;, {&#39;UTF-8&#39;: &#39;not established&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;UTF-8&#39;: &#39;Susan Anspach&#39;}]</span>
<span class="go">            ]</span>
<span class="go">        },</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]},</span>
<span class="go">    &#39;Label&#39;: &#39;Jack Nicholson&#39;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Erase all the properties of Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">{</span>
<span class="go">    &#39;Attributes&#39;: {&#39;CHILD_ATTRIBUTE&#39;: [</span>
<span class="go">        {</span>
<span class="go">            &#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Jennifer&#39;}],</span>
<span class="go">            &#39;Properties&#39;: [</span>
<span class="go">                [&#39;Born&#39;, &#39;&#39;, {&#39;INTEGER&#39;: &#39;1963&#39;}],</span>
<span class="go">                [&#39;Mother&#39;, &#39;&#39;, {&#39;ASCII&#39;: &#39;Sandra Knight&#39;}]</span>
<span class="go">            ]</span>
<span class="go">        },</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Caleb&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Honey&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Lorraine&#39;}]},</span>
<span class="go">        {&#39;Values&#39;: [{&#39;UTF-8&#39;: &#39;Raymond&#39;}]}</span>
<span class="go">    ]},</span>
<span class="go">    &#39;Label&#39;: &#39;Jack Nicholson&#39;</span>
<span class="go">}</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-property">
<h2>find_property<a class="headerlink" href="#find-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.find_property">
<code class="sig-name descname">find_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">name</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.find_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the position of a property with a particular name.</p>
<p>Return the 1-based position of the first property with name <code class="docutils literal notranslate"><span class="pre">name</span></code>.
If the name is not found, raise AvialNotFound</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – The entity whose properties are searched for <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name to search for.</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The property position to start the search for <code class="docutils literal notranslate"><span class="pre">name</span></code>. The default is
None: start at the beginning.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, attribute properties are searched instead of entity
properties, and in particular, the attribute properties of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
are searched. The default is None: search entity properties.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, search a particular
instance of the attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
given as <code class="docutils literal notranslate"><span class="pre">Attribute.POPULATION</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided as
2, the second attribute instance of the population attribute is
searched, instead of the last instance. The default is None: search the
last instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the position of <code class="docutils literal notranslate"><span class="pre">name</span></code> among the properties</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter,  or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p></li>
<li><p><strong>AvialNotFound</strong> – if the property is not found</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.lookup_property" title="avesterra.avial.lookup_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">lookup_property()</span></code></a></dt><dd><p>find the value of a property by key</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_count" title="avesterra.avial.property_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_count()</span></code></a></dt><dd><p>count the number of properties on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the position of Jack’s first <code class="docutils literal notranslate"><span class="pre">known</span> <span class="pre">for</span></code> property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;known for&#39;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Find the position of Jack’s first <code class="docutils literal notranslate"><span class="pre">fan</span> <span class="pre">of</span></code> property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;fan of&#39;</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Find the position of Jack’s first <code class="docutils literal notranslate"><span class="pre">known</span> <span class="pre">for</span></code> property, at or after 2</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Find the position of Jack’s first <code class="docutils literal notranslate"><span class="pre">Celtic</span> <span class="pre">gear</span></code> property. (Does not
exist).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Celtic gear&#39;</span><span class="p">)</span>
<span class="go">AvialNotFound: Property not found</span>
</pre></div>
</div>
<p>Find the position of the <code class="docutils literal notranslate"><span class="pre">Born</span></code> property, on Jack’s child attribute</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Born&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Find the position of the <code class="docutils literal notranslate"><span class="pre">Mother</span></code> property, on the 5th instance of
Jack’s child attribute</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Mother&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Find the position of the <code class="docutils literal notranslate"><span class="pre">Born</span></code> property, on the 5th instance of Jack’s
child attribute, at or after the second position. (Does not exist.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Born&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">AvialNotFound: Property not found</span>
</pre></div>
</div>
<p>Attempt to find a name on the (non-existent) sixth instance of Jack’s
child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Born&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">AvialError: Error Server reported APPLICATION error: Attempt to access nonexistant attribute instance: CHILD_ATTRIBUTE 6 while attempting to find name Born on entity &lt;2906857743|167772516|5080827&gt; with index 0, attribute CHILD, and instance 6</span>
</pre></div>
</div>
<p>Attempt to find a name of the second instance but without an attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">find_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Born&#39;</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">AvialError: Attempting to find instance 2 on properties of entity &lt;2906857743|167772516|5080827&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="retrieve-property">
<h2>retrieve_property<a class="headerlink" href="#retrieve-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.retrieve_property">
<code class="sig-name descname">retrieve_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">count=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.retrieve_property" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="insert-property">
<h2>insert_property<a class="headerlink" href="#insert-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.insert_property">
<code class="sig-name descname">insert_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">authorization</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">name=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.insert_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a name/key/value triple as a new property of the entity.</p>
<p>Insert a name/key/value triple, either as an entity property, or as a
property of one of the entity’s attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity that will soon have a new property</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the insertion of a new property.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – the name of the new property. Need not be unique. If not specified,
the empty string is used.</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – the key of the new property. Must be either unique or an empty string.
If not specified, the empty string is used.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em>, </em><em>optional</em>) – the value of the new property. If not specified, the empty string
is used.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, insert the new property on an attribute of the entity
instead of on the entity as a whole, and in particular insert the
new property on the attribute provided by <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default
is None: insert the new property on the entity as a whole.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, insert the new property
on a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
2, the new property is inserted on the second instance of the child
attribute. The default is None: insert the new property on the last
instance of the attribute.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – if provided, the position where the new property is to be inserted.
The default is None: insert at the end of the properties.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">key</span></code> is
    already present among the properties, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_count" title="avesterra.avial.property_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_count()</span></code></a></dt><dd><p>count the number of properties on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_property" title="avesterra.avial.find_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_property()</span></code></a></dt><dd><p>find the position of a property with some name</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.lookup_property" title="avesterra.avial.lookup_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">lookup_property()</span></code></a></dt><dd><p>find the value of a property by key</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;No.1&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Insert a new property for Jack, and examine the resultant properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;worst movie&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;The Two Jakes&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;No.1&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Chinatown&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;worst movie&#39;, &#39;The Two Jakes&#39;]]</span>
</pre></div>
</div>
<p>Attempt to insert a property with a key that already exists.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;No.1&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Prizzi&#39;s Honor&quot;</span><span class="p">)</span>
<span class="go">AvialError: Error: Server reported APPLICATION error: Key already in list: No.1 while inserting property into entity &lt;2906857743|167772516|1253605&gt;with name=&#39;known for&#39;, key=&#39;No.1&#39;, value=&quot;Prizzi&#39;s Honor&quot;</span>
</pre></div>
</div>
<p>Insert a new property at position 2.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Mars Attacks!&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;No.1&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Mars Attacks!&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Chinatown&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;worst movie&#39;, &#39;The Two Jakes&#39;]]</span>
</pre></div>
</div>
<p>Insert a new property at a position well beyond the end.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;last great role&#39;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;The Departed&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;No.1&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Mars Attacks!&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Chinatown&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;worst movie&#39;, &#39;The Two Jakes&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;last great role&#39;, &#39;The Departed&#39;]]</span>
</pre></div>
</div>
<p>Look at the last child attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="go">{   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Rebecca Broussard&#39;]],</span>
<span class="go">    &#39;Values&#39;: [&#39;Raymond&#39;]}</span>
</pre></div>
</div>
<p>Insert a new property on that last child attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;stepfather&#39;</span><span class="p">,</span>  <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Alex Kelly&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="go">{   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;],</span>
<span class="go">                      [&#39;Mother&#39;, &#39;&#39;, &#39;Rebecca Broussard&#39;],</span>
<span class="go">                      [&#39;stepfather&#39;, &#39;&#39;, &#39;Alex Kelly&#39;]],</span>
<span class="go">    &#39;Values&#39;: [&#39;Raymond&#39;]}</span>
</pre></div>
</div>
<p>Examine the fourth instance of child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span>
<span class="go">{&#39;Values&#39;: [&#39;Lorraine&#39;]}</span>
</pre></div>
</div>
<p>Insert a new property on that fourth instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">insert_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Mother&#39;</span><span class="p">,</span>  <span class="n">value</span><span class="o">=</span><span class="s1">&#39;Rebecca Broussard&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">instance</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">][</span><span class="mi">3</span><span class="p">])</span>
<span class="go">{&#39;Properties&#39;: [[&#39;Mother&#39;, &#39;&#39;, &#39;Rebecca Broussard&#39;]], &#39;Values&#39;: [&#39;Lorraine&#39;]}</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="remove-property">
<h2>remove_property<a class="headerlink" href="#remove-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.remove_property">
<code class="sig-name descname">remove_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">authorization</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.remove_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a property from the entity.</p>
<p>Remove a single property—a name/key/value triple—from the entity as a
whole, or from one of the entity’s attributes.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> is provided, the property with that key is removed. If
<code class="docutils literal notranslate"><span class="pre">key</span></code> is not provided but <code class="docutils literal notranslate"><span class="pre">index</span></code> is provided, the indexed property is
removed. For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 5, the fifth property is removed. If
neither <code class="docutils literal notranslate"><span class="pre">key</span></code> not <code class="docutils literal notranslate"><span class="pre">index</span></code> are provided, the last property is removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose property is removed.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the removal of a property.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, a property is removed from an attribute of the entity
instead of from the entity as a whole, and in particular, removed
from the  attribute <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default is None: a property is
removed from the entity as a whole.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, a property is removed
from a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
2, a property is removed from the second instance of the child
attribute. The default is None: a property is removed from the last
instance of the attribute.</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – If provided, the property with key <code class="docutils literal notranslate"><span class="pre">key</span></code> is removed. The default is
None: remove the property at position <code class="docutils literal notranslate"><span class="pre">index</span></code> or the last
property, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is not provided.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – the position of the property to remove. The default is None: remove the
last property. Note that <code class="docutils literal notranslate"><span class="pre">index</span></code> is ignored if <code class="docutils literal notranslate"><span class="pre">key</span></code> is provided.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not permit property removal, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_count" title="avesterra.avial.property_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_count()</span></code></a></dt><dd><p>count the number of properties on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.find_property" title="avesterra.avial.find_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_property()</span></code></a></dt><dd><p>find the position of a property with some name</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.lookup_property" title="avesterra.avial.lookup_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">lookup_property()</span></code></a></dt><dd><p>find the value of a property by key</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;No.1&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Examine at Jack’s properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;No.1&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Remove the last of Jack’s properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;No.1&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;]]</span>
</pre></div>
</div>
<p>Remove Jack’s second property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[[&#39;known for&#39;, &#39;No.1&#39;, &#39;The Shining&#39;], [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;]]</span>
</pre></div>
</div>
<p>Remove the property with key ‘No.1’. Afterwards, Jack has only a single
property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;No.1&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[[&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;]]</span>
</pre></div>
</div>
<p>Remove the last of Jack’s properties, by providing an index that is greater
than the property count. Afterwards, Jack has no properties at all.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Look at Jack’s child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Sandra Knight&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Rebecca Broussard&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Raymond&#39;]}]</span>
</pre></div>
</div>
<p>Remove the last property from the last attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Sandra Knight&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">    {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;]], &#39;Values&#39;: [&#39;Raymond&#39;]}]</span>
</pre></div>
</div>
<p>Remove the last property from the first attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;]], &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                          [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;],</span>
<span class="go">                          [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">    {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;]], &#39;Values&#39;: [&#39;Raymond&#39;]}]</span>
</pre></div>
</div>
<p>Remove the property with key ‘Paternity’ from the second attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;Paternity&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;]], &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {   &#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;], [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]],</span>
<span class="go">        &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">    {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;]], &#39;Values&#39;: [&#39;Raymond&#39;]}]</span>
</pre></div>
</div>
<p>Remove the first property from the second attribute instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">remove_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1963&#39;]], &#39;Values&#39;: [&#39;Jennifer&#39;]},</span>
<span class="go">    {&#39;Properties&#39;: [[&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]], &#39;Values&#39;: [&#39;Caleb&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Honey&#39;]},</span>
<span class="go">    {&#39;Values&#39;: [&#39;Lorraine&#39;]},</span>
<span class="go">    {&#39;Properties&#39;: [[&#39;Born&#39;, &#39;&#39;, &#39;1992&#39;]], &#39;Values&#39;: [&#39;Raymond&#39;]}]</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="replace-property">
<h2>replace_property<a class="headerlink" href="#replace-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.replace_property">
<code class="sig-name descname">replace_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">name</em>, <em class="sig-param">key</em>, <em class="sig-param">value</em>, <em class="sig-param">authorization</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.replace_property" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="update-property">
<h2>update_property<a class="headerlink" href="#update-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.update_property">
<code class="sig-name descname">update_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">name</em>, <em class="sig-param">value</em>, <em class="sig-param">authorization</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.update_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an existing property, or insert new one if property does not exist.</p>
<p>Update an existing property—a name/key/value triple—on an entity as a
whole, or on one of the entity’s attributes.
If the property already exists, update its name and value. If the property
does not exist, insert a new one at the end of the existing properties.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> is provided, the property with that key is updated with the
specified name and value, if such
a property exists. If no property with that key exists, a new property
is inserted, with name, key, and value as specified.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">key</span></code> is not provided, the first property with a name the same as
<code class="docutils literal notranslate"><span class="pre">name</span></code> is updated with the new value, if such a property exists.
If no property with that name exists, a new property is inserted, with
name and value as specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity that has the property to be updated</p></li>
<li><p><strong>name</strong> (<em>str</em>) – the name of the property. <code class="docutils literal notranslate"><span class="pre">name</span></code> plays two roles, either specifying
which property is to be updated, or providing the new name for an
updated property. If <code class="docutils literal notranslate"><span class="pre">key</span></code> is
not specified, the properties are searched by name. If a property
with the matching name is found, the value of that property is
changed to that specified as <code class="docutils literal notranslate"><span class="pre">value</span></code>. If no such property is found,
a new property is inserted, with name and value as specified. If <code class="docutils literal notranslate"><span class="pre">key</span></code>
is specified, and a property with that key exists, its name is replaced
with the name specified. If no such property exists, a new property is
inserted, with name, key and value as specified.</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em>) – the value of the property. If an existing property is updated (either
specified by <code class="docutils literal notranslate"><span class="pre">key</span></code> or by <code class="docutils literal notranslate"><span class="pre">name</span></code>), the property’s value is changed
to the value specified. If a new property is inserted, the new property
takes the value specified</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – authorization token permitting the updating of a property</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – the key of the property to update. If not present on the entity (or
on the attribute of the entity if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is specified), a new
property is inserted at the end.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, update a property on an attribute of the entity
instead of on the entity as a whole, and in particular update a
property on the attribute provided by <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default
is None: update a property on the entity as a whole.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, update a property
on a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
2, update one of the properties on the second instance of the child
attribute. The default is None: update a property on the last
instance of the attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization,  or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Take a look at Jack’s properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Update the best performance property, with a dubious choice.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">update_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Mars Attacks!&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s2">&quot;best performance&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;Mars Attacks!&#39;]]</span>
</pre></div>
</div>
<p>Update the (non-existing) worst performance property, resulting in a new
property inserted at the end.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">update_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;pretty bad&#39;</span><span class="p">,</span> <span class="s1">&#39;The Two Jakes&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>  <span class="n">key</span><span class="o">=</span><span class="s2">&quot;worst performance&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;Mars Attacks!&#39;],</span>
<span class="go">    [&#39;pretty bad&#39;, &#39;worst performance&#39;, &#39;The Two Jakes&#39;]]</span>
</pre></div>
</div>
<p>Update the first property with name “fan of”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">update_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;fan of, value=&#39;</span><span class="n">New</span> <span class="n">York</span> <span class="n">Yankees</span><span class="s1">&#39;, auth)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;New York Yankees&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;Mars Attacks!&#39;],</span>
<span class="go">    [&#39;pretty bad&#39;, &#39;worst performance&#39;, &#39;The Two Jakes&#39;]]</span>
</pre></div>
</div>
<p>Attempt to update the property with name “also known for”, resulting
in a new property inserted at the end.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">update_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;also known for&#39;</span><span class="p">,</span> <span class="s1">&#39;The Departed&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;New York Yankees&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;&#39;, &#39;best performance&#39;, &#39;Mars Attacks!&#39;],</span>
<span class="go">    [&#39;pretty bad&#39;, &#39;worst performance&#39;, &#39;The Two Jakes&#39;],</span>
<span class="go">    [&#39;also known for&#39;, &#39;&#39;, &#39;The Departed&#39;]]</span>
</pre></div>
</div>
<p>Take a look at the second child attribute</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<span class="go">{   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                      [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;not established&#39;],</span>
<span class="go">                      [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]],</span>
<span class="go">    &#39;Values&#39;: [&#39;Caleb&#39;]}</span>
</pre></div>
</div>
<p>Update the paternity property of the second child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">update_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Paternity&#39;</span><span class="p">,</span> <span class="s1">&#39;established&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;Paternity&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span><span class="s1">&#39;CHILD_ATTRIBUTE&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
<span class="go">{   &#39;Properties&#39;: [   [&#39;Born&#39;, &#39;&#39;, &#39;1970&#39;],</span>
<span class="go">                      [&#39;Paternity&#39;, &#39;Paternity&#39;, &#39;established&#39;],</span>
<span class="go">                      [&#39;Mother&#39;, &#39;&#39;, &#39;Susan Anspach&#39;]],</span>
<span class="go">    &#39;Values&#39;: [&#39;Caleb&#39;]}</span>
</pre></div>
</div>
<p>Clean up the example and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="lookup-property">
<h2>lookup_property<a class="headerlink" href="#lookup-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.lookup_property">
<code class="sig-name descname">lookup_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">key</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.lookup_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the value of a property identified by key.</p>
<p>Lookup a property by key, and return two values. If the property is found,
return True and the value of that property. If not found, return False
and None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – The entity whose properties are searched for <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
<li><p><strong>key</strong> (<em>str</em>) – the key by which to find the property</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, find a property on an attribute of the entity
instead of on the entity as a whole, and in particular find a property
on the attribute provided by <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default
is None: find a property on the entity as a whole.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, find a property
on a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.ADDRESS</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
3, the property is to be found on the third instance of the address
attribute. The default is None: find a property on the last
instance of the attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>key_found</strong> (<em>bool</em>) – whether a property with key <code class="docutils literal notranslate"><span class="pre">key</span></code> was found</p></li>
<li><p><strong>value</strong> (<em>int or float or bool or str or Entity or list or dict or None</em>) – the value of the property with the key <code class="docutils literal notranslate"><span class="pre">key</span></code>, or None if no such key
exists</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">key</span></code> is not a string, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.find_property" title="avesterra.avial.find_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_property()</span></code></a></dt><dd><p>find the position of a property with some name</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_count" title="avesterra.avial.property_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_count()</span></code></a></dt><dd><p>count the number of properties on an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for Jack, and give him attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Lookup the value of Jack’s best performance. Note that the result includes
both that the property is found and the value of the property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">lookup_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;best performance&#39;</span><span class="p">)</span>
<span class="go">(True, &#39;Chinatown&#39;)</span>
</pre></div>
</div>
<p>Lookup the value of Jack’s favorite NFL team.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">lookup_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;favorite NFL team&#39;</span><span class="p">)</span>
<span class="go">(False, None)</span>
</pre></div>
</div>
<p>Lookup the value of Jack’s paternity of his second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">lookup_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Paternity&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(True, &#39;not established&#39;)</span>
</pre></div>
</div>
<p>Lookup the value of Jack’s paternity of his last child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">lookup_property</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="s1">&#39;Paternity&#39;</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">(False, None)</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="sort-property">
<h2>sort_property<a class="headerlink" href="#sort-property" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.sort_property">
<code class="sig-name descname">sort_property</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">name=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">options=None</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.sort_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the order of properties.</p>
<p>Sort the order of properties of the entity, either the properties on a
particular attribute instance, or the properties for the entity as a
whole.</p>
<p>The attributes <code class="docutils literal notranslate"><span class="pre">name</span></code>, <code class="docutils literal notranslate"><span class="pre">key</span></code>, and <code class="docutils literal notranslate"><span class="pre">value</span></code> are used to indicate the
criteria by which properties are sorted, either sorting by name or sorting
by key or sorting by value. If none of these three attributes are provided,
the call to <a class="reference internal" href="#avesterra.avial.sort_property" title="avesterra.avial.sort_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">sort_property()</span></code></a> has no effect: the property order remains
the same.</p>
<p>If multiple criteria are provided—e.g. if both
<code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> are provided—the properties are sorted by multiple
criteria. When properties are sorted by multiple criteria, the first sort
criteria is value—if supplied, then key—if supplied, and then name—if
supplied. For example, if both <code class="docutils literal notranslate"><span class="pre">name</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code> are provided, the
properties are sorted by value, and in cases where multiple properties have
the same value, those properties are then sorted by name.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not provided, the properties associated with the
entity as a whole are sorted. If <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is provided, only the
properties associate with a single attribute instance are sorted, an
instance of the attribute <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. If <code class="docutils literal notranslate"><span class="pre">instance</span></code> is also provided,
the properties of the numbered instance are sorted. For example,
if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">attribute.POPULATION</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 2, the
properties of the second population instance are sorted. If <code class="docutils literal notranslate"><span class="pre">instance</span></code>
is not provided, the properties of the last instance of the attribute are
sorted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity to be sorted</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes changing the order of properties</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – if provided, sort the properties of an attribute instance, an instance
of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default is None: sort the properties on the entity
itself.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – if provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, sort this particular
attribute instance. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is <code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code>
and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is 3, the properties of the third child instance are
sorted. The default is None: sort the last instance of <code class="docutils literal notranslate"><span class="pre">attribute</span></code>.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – if provided, sort the properties by their names. If <code class="docutils literal notranslate"><span class="pre">name</span></code> is
provided, it indicates how the properties are to be sorted, either
alphanumerically—if <code class="docutils literal notranslate"><span class="pre">name</span></code> is ‘STRING’, or as integers—if <code class="docutils literal notranslate"><span class="pre">name</span></code>
is ‘INTEGER’, or as floating point values—if <code class="docutils literal notranslate"><span class="pre">name</span></code> is ‘FLOAT’, or
as booleans—if <code class="docutils literal notranslate"><span class="pre">name</span></code> is ‘BOOLEAN’, or as entities, if <code class="docutils literal notranslate"><span class="pre">name</span></code>
is ‘ENTITY’. A preceding minus indicates the properties are sorted
backwards. For example is <code class="docutils literal notranslate"><span class="pre">name</span></code> is ‘-STRING’, the properties are
sorted by name alphanumerically, backwards from Z to A. The default is
None: don’t use names as a sort criteria. See examples below.</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – if provided, sort the properties by their keys. If <code class="docutils literal notranslate"><span class="pre">key</span></code> is
provided, it indicates how the properties are to be sorted, either
alphanumerically—if <code class="docutils literal notranslate"><span class="pre">key</span></code> is ‘STRING’, or as integers—if <code class="docutils literal notranslate"><span class="pre">key</span></code>
is ‘INTEGER’, or as floating point values—if <code class="docutils literal notranslate"><span class="pre">key</span></code> is ‘FLOAT’, or
as booleans—if <code class="docutils literal notranslate"><span class="pre">key</span></code> is ‘BOOLEAN’ (although properties with
boolean keys would seem quite unlikely), or as entities, if <code class="docutils literal notranslate"><span class="pre">key</span></code>
is ‘ENTITY’. A preceding minus indicates the properties are sorted
backwards. For example is <code class="docutils literal notranslate"><span class="pre">key</span></code> is ‘-STRING’, the properties are
sorted by key alphanumerically, backwards from Z to A. The default is
None: don’t use keys as a sort criteria. See examples below.</p></li>
<li><p><strong>value</strong> (<em>str</em><em>, </em><em>optional</em>) – if provided, sort the properties by their values. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is
provided, it indicates how the properties are to be sorted, either
alphanumerically—if <code class="docutils literal notranslate"><span class="pre">value</span></code> is ‘STRING’, or as integers—if
<code class="docutils literal notranslate"><span class="pre">value</span></code> is ‘INTEGER’, or as floating point values—if <code class="docutils literal notranslate"><span class="pre">value</span></code>
is ‘FLOAT’, or as booleans—if <code class="docutils literal notranslate"><span class="pre">value</span></code> is ‘BOOLEAN’, or as entities,
if <code class="docutils literal notranslate"><span class="pre">value</span></code> is ‘ENTITY’. A preceding minus indicates the properties
are sorted backwards. For example is <code class="docutils literal notranslate"><span class="pre">key</span></code> is ‘-STRING’, the
properties are sorted by value alphanumerically, backwards from Z to A.
The default is None: don’t use values as a sort criteria. See
examples below.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – How long (in seconds) should the sort be allowed to run, before it is
interrupted? The default is None: sort with a 60 second timeout.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute, or
    the sort times out before completing.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a></dt><dd><p>create an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.store_entity" title="avesterra.avial.store_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">store_entity()</span></code></a></dt><dd><p>set attributes, properties, and values of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.retrieve_entity" title="avesterra.avial.retrieve_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">retrieve_entity()</span></code></a></dt><dd><p>return all attributes, properties, and values of an entity</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_entity" title="avesterra.avial.erase_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_entity()</span></code></a></dt><dd><p>erase all attributes, properties, and values of an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Create three entities.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">clippers</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Los Angeles Clippers&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">TEAM</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">auth</span><span class="p">,</span> <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sparks</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Los Angeles Sparks&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">ORGANIZATION</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">TEAM</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">auth</span><span class="p">,</span> <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">los_angeles</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Los Angeles&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PLACE</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">CITY</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set the attributes and properties of Los Angeles.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">la_stuff</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;Properties&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;most popular nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;city of angels&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;The Big Orange&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;La-la-land&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Tinseltown&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;basketball team&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sparks</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;basketball team&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">clippers</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span> <span class="s1">&#39;largest circulation newspaper&#39;</span><span class="p">,</span>
<span class="gp">... </span>             <span class="s1">&#39;Los Angeles Times&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;newspaper&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Variety&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">[</span><span class="s1">&#39;nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;least popular nickname&#39;</span><span class="p">,</span> <span class="s1">&#39;Shaky Town&#39;</span><span class="p">],</span>
<span class="gp">... </span>            <span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;Attributes&#39;</span><span class="p">:</span> <span class="p">{</span>
<span class="gp">... </span>                    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;Properties&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                            <span class="c1"># remove str()s on comprehensive format</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;2010 census&#39;</span><span class="p">,</span> <span class="s1">&#39;2010 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3_792_621</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;2000 census&#39;</span><span class="p">,</span> <span class="s1">&#39;2000 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3_694_820</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1950 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1950 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1_970_358</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1960 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1960 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">2_479_015</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1970 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1970 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">2_816_061</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1980 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1980 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">2_966_850</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1990 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1990 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3_485_398</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1900 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1900 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">102_500</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1910 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1910 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">319_200</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1920 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1920 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">576_700</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1930 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1930 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1_238_048</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;1940 census&#39;</span><span class="p">,</span> <span class="s1">&#39;1940 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1_504_277</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">]},</span>
<span class="gp">... </span>                        <span class="p">{</span><span class="s1">&#39;Properties&#39;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                            <span class="c1"># remove str()s on comprehensive format</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;urban area&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">12_150_996</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;metro area&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">13_131_431</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;combined statistical area&#39;</span><span class="p">,</span> <span class="s1">&#39;most inclusive&#39;</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="nb">str</span><span class="p">(</span><span class="mi">18_679_763</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;city, 2017 estimate&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3_999_759</span><span class="p">)],</span>
<span class="gp">... </span>                            <span class="p">[</span><span class="s1">&#39;city&#39;</span><span class="p">,</span> <span class="s1">&#39;city, 2010 census&#39;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="mi">3_792_621</span><span class="p">)]</span>
<span class="gp">... </span>                            <span class="p">]},</span>
<span class="gp">... </span>                    <span class="p">]</span>
<span class="gp">... </span>                <span class="p">}</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">la_stuff</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Examine the properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;nickname&#39;, &#39;most popular nickname&#39;, &#39;city of angels&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;The Big Orange&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;La-la-land&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;Tinseltown&#39;],</span>
<span class="go">    [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253602&gt;&#39;],</span>
<span class="go">    [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253601&gt;&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;largest circulation newspaper&#39;, &#39;Los Angeles Times&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;&#39;, &#39;Variety&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;least popular nickname&#39;, &#39;Shaky Town&#39;]]</span>
</pre></div>
</div>
<p>Sort the properties by name, alphabetically.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253602&gt;&#39;],</span>
<span class="go">    [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253601&gt;&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;largest circulation newspaper&#39;, &#39;Los Angeles Times&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;&#39;, &#39;Variety&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;most popular nickname&#39;, &#39;city of angels&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;The Big Orange&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;La-la-land&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;Tinseltown&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;least popular nickname&#39;, &#39;Shaky Town&#39;]]</span>
</pre></div>
</div>
<p>Sort the properties by key. All the properties without a key are
now first, before the properties with a key.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253602&gt;&#39;],</span>
<span class="go">    [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253601&gt;&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;&#39;, &#39;Variety&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;The Big Orange&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;La-la-land&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;Tinseltown&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;largest circulation newspaper&#39;, &#39;Los Angeles Times&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;least popular nickname&#39;, &#39;Shaky Town&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;most popular nickname&#39;, &#39;city of angels&#39;]]</span>
</pre></div>
</div>
<p>Sort by value. Note that “city of angels” appears after “Variety” rather
than before “La-la-land”. STRING sort arranges all lowercase characters
after all uppercase characters, so “Dog” comes before “caT”, and “caT”
comes before “camel”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253601&gt;&#39;],</span>
<span class="go">    [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253602&gt;&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;La-la-land&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;largest circulation newspaper&#39;, &#39;Los Angeles Times&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;least popular nickname&#39;, &#39;Shaky Town&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;The Big Orange&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;Tinseltown&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;&#39;, &#39;Variety&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;most popular nickname&#39;, &#39;city of angels&#39;]]</span>
</pre></div>
</div>
<p>Sort by both name and key. Key takes precedence. The properties with the
same (empty string) key are sorted by name.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253601&gt;&#39;],</span>
<span class="go">    [&#39;basketball team&#39;, &#39;&#39;, &#39;&lt;2906857743|167772516|1253602&gt;&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;&#39;, &#39;Variety&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;The Big Orange&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;Tinseltown&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;&#39;, &#39;La-la-land&#39;],</span>
<span class="go">    [&#39;newspaper&#39;, &#39;largest circulation newspaper&#39;, &#39;Los Angeles Times&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;least popular nickname&#39;, &#39;Shaky Town&#39;],</span>
<span class="go">    [&#39;nickname&#39;, &#39;most popular nickname&#39;, &#39;city of angels&#39;]]</span>
</pre></div>
</div>
<p>Before we sort the population properties, look at the order.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">])</span>
<span class="go">[   {   &#39;Properties&#39;: [   [&#39;2010 census&#39;, &#39;2010 census&#39;, &#39;3792621&#39;],</span>
<span class="go">                          [&#39;2000 census&#39;, &#39;2000 census&#39;, &#39;3694820&#39;],</span>
<span class="go">                          [&#39;1950 census&#39;, &#39;1950 census&#39;, &#39;1970358&#39;],</span>
<span class="go">                          [&#39;1960 census&#39;, &#39;1960 census&#39;, &#39;2479015&#39;],</span>
<span class="go">                          [&#39;1970 census&#39;, &#39;1970 census&#39;, &#39;2816061&#39;],</span>
<span class="go">                          [&#39;1980 census&#39;, &#39;1980 census&#39;, &#39;2966850&#39;],</span>
<span class="go">                          [&#39;1990 census&#39;, &#39;1990 census&#39;, &#39;3485398&#39;],</span>
<span class="go">                          [&#39;1900 census&#39;, &#39;1900 census&#39;, &#39;102500&#39;],</span>
<span class="go">                          [&#39;1910 census&#39;, &#39;1910 census&#39;, &#39;319200&#39;],</span>
<span class="go">                          [&#39;1920 census&#39;, &#39;1920 census&#39;, &#39;576700&#39;],</span>
<span class="go">                          [&#39;1930 census&#39;, &#39;1930 census&#39;, &#39;1238048&#39;],</span>
<span class="go">                          [&#39;1940 census&#39;, &#39;1940 census&#39;, &#39;1504277&#39;]]},</span>
<span class="go">    {   &#39;Properties&#39;: [   [&#39;urban area&#39;, &#39;&#39;, &#39;12150996&#39;],</span>
<span class="go">                          [&#39;metro area&#39;, &#39;&#39;, &#39;13131431&#39;],</span>
<span class="go">                          [   &#39;combined statistical area&#39;, &#39;most inclusive&#39;,</span>
<span class="go">                              &#39;18679763&#39;],</span>
<span class="go">                          [&#39;city&#39;, &#39;city, 2017 estimate&#39;, &#39;3999759&#39;],</span>
<span class="go">                          [&#39;city&#39;, &#39;city, 2010 census&#39;, &#39;3792621&#39;]]}]</span>
</pre></div>
</div>
<p>Look at the properties of the last instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;urban area&#39;, &#39;&#39;, &#39;12150996&#39;],</span>
<span class="go">    [&#39;metro area&#39;, &#39;&#39;, &#39;13131431&#39;],</span>
<span class="go">    [&#39;combined statistical area&#39;, &#39;most inclusive&#39;, &#39;18679763&#39;],</span>
<span class="go">    [&#39;city&#39;, &#39;city, 2017 estimate&#39;, &#39;3999759&#39;],</span>
<span class="go">    [&#39;city&#39;, &#39;city, 2010 census&#39;, &#39;3792621&#39;]]</span>
</pre></div>
</div>
<p>Sort the properties of the last population instance by name.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">POPULATION</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;city&#39;, &#39;city, 2017 estimate&#39;, &#39;3999759&#39;],</span>
<span class="go">    [&#39;city&#39;, &#39;city, 2010 census&#39;, &#39;3792621&#39;],</span>
<span class="go">    [&#39;combined statistical area&#39;, &#39;most inclusive&#39;, &#39;18679763&#39;],</span>
<span class="go">    [&#39;metro area&#39;, &#39;&#39;, &#39;13131431&#39;],</span>
<span class="go">    [&#39;urban area&#39;, &#39;&#39;, &#39;12150996&#39;]]</span>
</pre></div>
</div>
<p>Sort by value. Note that 18.7 million is sorted before 3.7 million, because
the values are interpreted as strings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">POPULATION</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;urban area&#39;, &#39;&#39;, &#39;12150996&#39;],</span>
<span class="go">    [&#39;metro area&#39;, &#39;&#39;, &#39;13131431&#39;],</span>
<span class="go">    [&#39;combined statistical area&#39;, &#39;most inclusive&#39;, &#39;18679763&#39;],</span>
<span class="go">    [&#39;city&#39;, &#39;city, 2010 census&#39;, &#39;3792621&#39;],</span>
<span class="go">    [&#39;city&#39;, &#39;city, 2017 estimate&#39;, &#39;3999759&#39;]]</span>
</pre></div>
</div>
<p>Sort by value, interpreting the values as integers instead of strings.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">POPULATION</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;INTEGER&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;city&#39;, &#39;city, 2010 census&#39;, &#39;3792621&#39;],</span>
<span class="go">    [&#39;city&#39;, &#39;city, 2017 estimate&#39;, &#39;3999759&#39;],</span>
<span class="go">    [&#39;urban area&#39;, &#39;&#39;, &#39;12150996&#39;],</span>
<span class="go">    [&#39;metro area&#39;, &#39;&#39;, &#39;13131431&#39;],</span>
<span class="go">    [&#39;combined statistical area&#39;, &#39;most inclusive&#39;, &#39;18679763&#39;]]</span>
</pre></div>
</div>
<p>Before we sort the properties of the first instance of the
population attribute, consider their haphazard initial order.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;2010 census&#39;, &#39;2010 census&#39;, &#39;3792621&#39;],</span>
<span class="go">    [&#39;2000 census&#39;, &#39;2000 census&#39;, &#39;3694820&#39;],</span>
<span class="go">    [&#39;1950 census&#39;, &#39;1950 census&#39;, &#39;1970358&#39;],</span>
<span class="go">    [&#39;1960 census&#39;, &#39;1960 census&#39;, &#39;2479015&#39;],</span>
<span class="go">    [&#39;1970 census&#39;, &#39;1970 census&#39;, &#39;2816061&#39;],</span>
<span class="go">    [&#39;1980 census&#39;, &#39;1980 census&#39;, &#39;2966850&#39;],</span>
<span class="go">    [&#39;1990 census&#39;, &#39;1990 census&#39;, &#39;3485398&#39;],</span>
<span class="go">    [&#39;1900 census&#39;, &#39;1900 census&#39;, &#39;102500&#39;],</span>
<span class="go">    [&#39;1910 census&#39;, &#39;1910 census&#39;, &#39;319200&#39;],</span>
<span class="go">    [&#39;1920 census&#39;, &#39;1920 census&#39;, &#39;576700&#39;],</span>
<span class="go">    [&#39;1930 census&#39;, &#39;1930 census&#39;, &#39;1238048&#39;],</span>
<span class="go">    [&#39;1940 census&#39;, &#39;1940 census&#39;, &#39;1504277&#39;]]</span>
</pre></div>
</div>
<p>Sort the properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">sort_property</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">POPULATION</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">instance</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;STRING&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">)[</span><span class="s1">&#39;Attributes&#39;</span><span class="p">][</span>
<span class="gp">... </span>    <span class="s1">&#39;POPULATION_ATTRIBUTE&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;1900 census&#39;, &#39;1900 census&#39;, &#39;102500&#39;],</span>
<span class="go">    [&#39;1910 census&#39;, &#39;1910 census&#39;, &#39;319200&#39;],</span>
<span class="go">    [&#39;1920 census&#39;, &#39;1920 census&#39;, &#39;576700&#39;],</span>
<span class="go">    [&#39;1930 census&#39;, &#39;1930 census&#39;, &#39;1238048&#39;],</span>
<span class="go">    [&#39;1940 census&#39;, &#39;1940 census&#39;, &#39;1504277&#39;],</span>
<span class="go">    [&#39;1950 census&#39;, &#39;1950 census&#39;, &#39;1970358&#39;],</span>
<span class="go">    [&#39;1960 census&#39;, &#39;1960 census&#39;, &#39;2479015&#39;],</span>
<span class="go">    [&#39;1970 census&#39;, &#39;1970 census&#39;, &#39;2816061&#39;],</span>
<span class="go">    [&#39;1980 census&#39;, &#39;1980 census&#39;, &#39;2966850&#39;],</span>
<span class="go">    [&#39;1990 census&#39;, &#39;1990 census&#39;, &#39;3485398&#39;],</span>
<span class="go">    [&#39;2000 census&#39;, &#39;2000 census&#39;, &#39;3694820&#39;],</span>
<span class="go">    [&#39;2010 census&#39;, &#39;2010 census&#39;, &#39;3792621&#39;]]</span>
</pre></div>
</div>
<p>Clean up the example, and end the session.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">los_angeles</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="property-name">
<h2>property_name<a class="headerlink" href="#property-name" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.property_name">
<code class="sig-name descname">property_name</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.property_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of a property.</p>
<p>Return the name of the property at position <code class="docutils literal notranslate"><span class="pre">index</span></code>, as a string.
Alternatively, return the name of the property with key <code class="docutils literal notranslate"><span class="pre">key</span></code>. If there
is no such property, raise an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose property has the name.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, return the name of an attribute property instead of an
entity property, and in particular the name of the attribute property
<code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default is None: use the entity property.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, return the name of
a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
2, the name is found in the second instance of the child attribute.
The default is None: use the last instance.</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – If provided, return the name of the property with that key.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided, find the name of the property at the <code class="docutils literal notranslate"><span class="pre">index</span></code> position.
For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 2, the name of the second property is
found.  If not provided,
and <code class="docutils literal notranslate"><span class="pre">key</span></code> is also not provided, the name of the last property is
returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the name of the property at the position, or with that key</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute, or
    no such <code class="docutils literal notranslate"><span class="pre">key</span></code> is known, or no such <code class="docutils literal notranslate"><span class="pre">index</span></code> is known.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for Jack, and give him attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;open question 2&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;No.1&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the name of Jack’s property. No index or key is provided, so the name
of the last property is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;also known for&#39;</span>
</pre></div>
</div>
<p>Find the name of Jack’s second property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;fan of&#39;</span>
</pre></div>
</div>
<p>Find the name of the property with key ‘No.1’</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;No.1&#39;</span><span class="p">)</span>
<span class="go">&#39;known for&#39;</span>
</pre></div>
</div>
<p>Find the name of the property on Jack’s child. Neither an instance nor
an index is provided, so the name of the last property of the last
instance of CHILD is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;Mother&#39;</span>
</pre></div>
</div>
<p>Find the name of the first property on Jack’s child. No instance is
provided, so the first property of the last instance of CHILD is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;Born&#39;</span>
</pre></div>
</div>
<p>Find the name of the last property on Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;Mother&#39;</span>
</pre></div>
</div>
<p>Find the name of the first property on Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;Born&#39;</span>
</pre></div>
</div>
<p>Find the name of the property on Jack’s second child that has the key
‘open question 2’</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_name</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;open question 2&#39;</span><span class="p">)</span>
<span class="go">&#39;Paternity&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="property-key">
<h2>property_key<a class="headerlink" href="#property-key" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.property_key">
<code class="sig-name descname">property_key</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.property_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the key of a property.</p>
<p>Return the key of the property at position <code class="docutils literal notranslate"><span class="pre">index</span></code>, as a string. If the
property has no key, return an empty string. If there is no such property,
raise an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity whose property has the key.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, return the key of an attribute property instead of an
entity property, and in particular the key of the attribute property
<code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default is None: use the entity property.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, return the key of
a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
2, the key is found on the second instance of the child attribute.
The default is None: use the last instance.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided, return the key at the position of <code class="docutils literal notranslate"><span class="pre">index</span></code>.
For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 3, the key of the third property is
returned. The default is None: return the key of the last property.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the key of the property at the position</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute,
    or no such <code class="docutils literal notranslate"><span class="pre">index</span></code> is known.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property</p>
</dd>
<dt><code class="xref py py-func docutils literal notranslate"><span class="pre">property_index()</span></code></dt><dd><p>find the index of a property identified by key</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for Jack, and give him attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;open question 2&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best movie&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the key of Jack’s property. No index is provided, so the key of the
last property is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_key</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;best movie&#39;</span>
</pre></div>
</div>
<p>Find the key of Jack’s first property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_key</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;most popular role&#39;</span>
</pre></div>
</div>
<p>Find the key of the property on Jack’s child. Neither an instance nor an
index is provided, so the key of the last proeprty of the last instance
of CHILD is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_key</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="go">Find the key of the first property on Jack&#39;s child. No instance is</span>
<span class="go">provided, so the first property of the last instance of CHILD is found.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_key</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;youngest&#39;</span>
</pre></div>
</div>
<p>Find the key of the last property on Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_key</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
<p>Find the key of the second property on Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_key</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;open question 2&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="property-value">
<h2>property_value<a class="headerlink" href="#property-value" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.property_value">
<code class="sig-name descname">property_value</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">index=None</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.property_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value of a property.</p>
<p>Return the value of the property at position <code class="docutils literal notranslate"><span class="pre">index</span></code>, as a string.
Alternatively, return the value of the property with key <code class="docutils literal notranslate"><span class="pre">key</span></code>.
If there is no such property, raise an error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – The entity whose property has the value.</p></li>
<li><p><strong>index</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided, find the value of the property at the <code class="docutils literal notranslate"><span class="pre">index</span></code> position.
For example, if <code class="docutils literal notranslate"><span class="pre">index</span></code> is 4, the value of the fourth property is
found.  If not provided,
and <code class="docutils literal notranslate"><span class="pre">key</span></code> is also not provided, the value of the last property is
returned.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em>, </em><em>optional</em>) – If provided, return the value of an attribute property instead of an
entity property, and in particular the value of the attribute property
<code class="docutils literal notranslate"><span class="pre">attribute</span></code>. The default is None: use the entity property.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, return the value of
a particular
instance of an attribute property. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
<code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is
2, the value is found in the second instance of the child attribute.
The default is None: use the last instance.</p></li>
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – If provided, return the value of the property with that key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the value of the property at the position, or with that key</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or an instance is specified but no attribute, or
    no such <code class="docutils literal notranslate"><span class="pre">key</span></code> is known, or no such <code class="docutils literal notranslate"><span class="pre">index</span></code> is knownn.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity for Jack, and give him attributes and properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;open question 2&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;youngest&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;famous fan&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;also known for&quot;</span><span class="p">,</span><span class="s2">&quot;best movie&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Find the value of Jack’s property. No index or key is provided, so the
value of the last property is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">&#39;Chinatown&#39;</span>
</pre></div>
</div>
<p>Find the value of Jack’s third property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">&#39;Bob Dylan&#39;</span>
</pre></div>
</div>
<p>Find the value of Jack’s property that has the key ‘most popular role’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;most popular role&#39;</span><span class="p">)</span>
<span class="go">&#39;The Shining&#39;</span>
</pre></div>
</div>
<p>Find the value of the property on Jack’s child. Neither an instance nor
an index is provided, so the value of the last property of the last
instance of CHILD is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">&#39;Rebecca Broussard&#39;</span>
</pre></div>
</div>
<p>Find the value of the first proeprty on Jack’s child. No instance is
provided, so the first property of the last instance of CHILD is found.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1992&#39;</span>
</pre></div>
</div>
<p>Find the value of the last property on Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;Susan Anspach&#39;</span>
</pre></div>
</div>
<p>Find the value of the first property on Jack’s second child.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;1970&#39;</span>
</pre></div>
</div>
<p>Find the value of the property on Jack’s second child with the key
‘open question 2’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">property_value</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;open question 2&#39;</span><span class="p">)</span>
<span class="go">&#39;not established&#39;</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="property-count">
<h2>property_count<a class="headerlink" href="#property-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.property_count">
<code class="sig-name descname">property_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.property_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the count of properties.</p>
<p>Return the count of properties, either the count of entity properties, or
the count of attribute properties of some attribute instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – The entity whose properties are to be counted.</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided, the attribute properties of
<code class="docutils literal notranslate"><span class="pre">attribute</span></code> are counted instead of entity properties.
The default is None: count entity properties.</p></li>
<li><p><strong>instance</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – If provided and <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is also provided, count properties
of a particular attribute instance. For example, if <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is
given as <code class="docutils literal notranslate"><span class="pre">Attribute.CHILD</span></code> and <code class="docutils literal notranslate"><span class="pre">instance</span></code> is provided as
2, the properties of the second CHILD attribute are counted, instead
of the last CHILD attribute. The default is None: count the last
instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the count of the properties</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code> is not an attribute, or an instance is
    specified but no attribute.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.find_property" title="avesterra.avial.find_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_property()</span></code></a></dt><dd><p>find the position of a property by name</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.lookup_property" title="avesterra.avial.lookup_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">lookup_property()</span></code></a></dt><dd><p>find the value of a property by key</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_name" title="avesterra.avial.property_name"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_name()</span></code></a></dt><dd><p>find the name of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_key" title="avesterra.avial.property_key"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_key()</span></code></a></dt><dd><p>find the key of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.property_value" title="avesterra.avial.property_value"><code class="xref py py-func docutils literal notranslate"><span class="pre">property_value()</span></code></a></dt><dd><p>find the value of a property by its index</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.insert_property" title="avesterra.avial.insert_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">insert_property()</span></code></a></dt><dd><p>insert a new property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.remove_property" title="avesterra.avial.remove_property"><code class="xref py py-func docutils literal notranslate"><span class="pre">remove_property()</span></code></a></dt><dd><p>remove an existing property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack Nicholson</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Attributes&quot;</span><span class="p">:{</span>
<span class="gp">... </span>        <span class="s2">&quot;SEX_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;M&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;AGE_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;80&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;HEIGHT_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;177&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;LOCATION_ATTRIBUTE&quot;</span><span class="p">:[{</span><span class="s2">&quot;Values&quot;</span><span class="p">:[</span><span class="s2">&quot;Los Angeles&quot;</span><span class="p">,</span> <span class="s2">&quot;Aspen&quot;</span><span class="p">]}],</span>
<span class="gp">... </span>        <span class="s2">&quot;CHILD_ATTRIBUTE&quot;</span><span class="p">:[</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Jennifer&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1963&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Sandra Knight&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Caleb&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1970&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Susan Anspach&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;Paternity&quot;</span><span class="p">,</span> <span class="s2">&quot;not established&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Honey&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Lorraine&quot;</span><span class="p">]},</span>
<span class="gp">... </span>            <span class="p">{</span>
<span class="gp">... </span>                <span class="s2">&quot;Values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raymond&quot;</span><span class="p">],</span>
<span class="gp">... </span>                <span class="s2">&quot;Properties&quot;</span><span class="p">:</span> <span class="p">[</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Born&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;1992&quot;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="p">[</span><span class="s2">&quot;Mother&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Rebecca Broussard&quot;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">]</span>
<span class="gp">... </span>            <span class="p">}]},</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;No.1&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Count the number of Jack’s properties.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>Count the number of properties of Jack’s child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Count the number of properties on the second instance of Jack’s child
attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Count the number of properties on the third instance of
Jack’s child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Attempt to count the number of properties on the (non-existent) sixth
instance of Jack’s child attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">Attribute</span><span class="o">.</span><span class="n">CHILD</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>
<span class="go">AvialError: Error Server reported APPLICATION error: Attempt to access nonexistant attribute instance: CHILD_ATTRIBUTE 6 while attempting to count properies on entity &lt;2906857743|167772516|5081984&gt; with attribute CHILD and instance 6</span>
</pre></div>
</div>
<p>Attempt to count properties of the second instance but without an attribute.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">property_count</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">AvialError: Attempting to find instance 2 on properties of entity &lt;2906857743|167772516|5081984&gt;</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="property-member">
<h2>property_member<a class="headerlink" href="#property-member" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.property_member">
<code class="sig-name descname">property_member</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">key</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.property_member" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="annotation-operations">
<h1>Annotation operations<a class="headerlink" href="#annotation-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="get-annotation">
<h2>get_annotation<a class="headerlink" href="#get-annotation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.get_annotation">
<code class="sig-name descname">get_annotation</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.get_annotation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="set-annotation">
<h2>set_annotation<a class="headerlink" href="#set-annotation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.set_annotation">
<code class="sig-name descname">set_annotation</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">value</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.set_annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the annotation of a property.</p>
<p>Set the annotation of a single property to some value. The property is
identified by either key or index. If the property already has a annotation
for that attribute, the  value is changed. If neither a key nor
an index is specified, the annotation is set on the last property of the
entity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity that gets a new annotation</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the attribute of the property that gets a new annotation</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em> or </em><a class="reference internal" href="#avesterra.avial.Value" title="avesterra.avial.Value"><em>Value</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – the new annotation value</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the annotation setting</p></li>
<li><p><strong>key</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the key of the property whose annotation is set</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the index of the property whose annotation is set</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or <code class="docutils literal notranslate"><span class="pre">key</span></code> is not present among
    the properties, or <code class="docutils literal notranslate"><span class="pre">index</span></code> is too large, or not an
    integer.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.clear_annotation" title="avesterra.avial.clear_annotation"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_annotation()</span></code></a></dt><dd><p>remove an annotation from a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_annotation" title="avesterra.avial.erase_annotation"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_annotation()</span></code></a></dt><dd><p>remove all annotations from a property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for the actor Jack Nicholson.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set some properties for Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;Properties&quot;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;most popular role&quot;</span><span class="p">,</span><span class="s2">&quot;The Shining&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="s2">&quot;Los Angeles Lakers&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;fan of&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;Bob Dylan&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s2">&quot;known for&quot;</span><span class="p">,</span><span class="s2">&quot;best performance&quot;</span><span class="p">,</span><span class="s2">&quot;Chinatown&quot;</span><span class="p">]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Set the role attribute of <em>The Shining</em> property, identified by index.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">ROLE</span><span class="p">,</span> <span class="s1">&#39;Jack Torrance&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Set the role attribute of <em>Chinatown</em>, identified by key.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">ROLE</span><span class="p">,</span> <span class="s1">&#39;J.J. Gittes&#39;</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;best performance&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J.J. Gittes&#39;}]]</span>
</pre></div>
</div>
<p>Set the year attribute of the last property, also <em>Chinatown</em>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">set_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">YEAR</span><span class="p">,</span> <span class="mi">1974</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Los Angeles Lakers&#39;],</span>
<span class="go">    [&#39;fan of&#39;, &#39;&#39;, &#39;Bob Dylan&#39;],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J.J. Gittes&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;1974&#39;}]]</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="clear-annotation">
<h2>clear_annotation<a class="headerlink" href="#clear-annotation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.clear_annotation">
<code class="sig-name descname">clear_annotation</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.clear_annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the attribute value of a single property.</p>
<p>Clear the attribute of a single property to no value. The property is
identified by either key or index. If the property has no such annotation,
the operation has no effect. If neither a key nor an index is specified,
an annotation on the last property of the entity is cleared.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity on which a property’s annotation is cleared</p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a>) – the annotation of the property that is cleared</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the attribute clearing</p></li>
<li><p><strong>key</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the key of the property whose annotation is cleared</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the index of the property whose annotation is cleared</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization, or <code class="docutils literal notranslate"><span class="pre">attribute</span></code>
    is not an attribute, or <code class="docutils literal notranslate"><span class="pre">key</span></code> is not present among
    the properties, or <code class="docutils literal notranslate"><span class="pre">index</span></code> is too large, or not an
    integer.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.set_annotation" title="avesterra.avial.set_annotation"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_annotation()</span></code></a></dt><dd><p>set the value of an annotation of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.erase_annotation" title="avesterra.avial.erase_annotation"><code class="xref py py-func docutils literal notranslate"><span class="pre">erase_annotation()</span></code></a></dt><dd><p>remove all annotations from a property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for the actor Jack Nicholson.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set some properties for Jack, including annotations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;Properties&#39;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span><span class="s1">&#39;most popular role&#39;</span><span class="p">,</span><span class="s1">&#39;The Shining&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;Jack Torrance&#39;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;The Departed&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;Frank Costello&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="s1">&#39;YEAR_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;2006&#39;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Wolf&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;Will Randall&#39;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span><span class="s1">&#39;best performance&#39;</span><span class="p">,</span><span class="s1">&#39;Chinatown&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;J.J. Gittes&#39;</span><span class="p">,</span> <span class="s1">&#39;YEAR_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;1974&#39;</span><span class="p">}]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;&#39;,</span>
<span class="go">        &#39;The Departed&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Frank Costello&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;2006&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;, {&#39;ROLE_ATTRIBUTE&#39;: &#39;Will Randall&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J. J. Gittes&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;1974&#39;}]]</span>
</pre></div>
</div>
<p>Clear the year annotation of the last property. The last property is
cleared because no index or key is provided.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;&#39;,</span>
<span class="go">        &#39;The Departed&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Frank Costello&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;2006&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;, {&#39;ROLE_ATTRIBUTE&#39;: &#39;Will Randall&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J. J. Gittes&#39;}]]</span>
</pre></div>
</div>
<p>Clear the role annotation of the third property. That property ends up with
no annotations at all.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">ROLE</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;&#39;,</span>
<span class="go">        &#39;The Departed&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Frank Costello&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;2006&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J. J. Gittes&#39;}]]</span>
</pre></div>
</div>
<p>Clear the role property of the property with the key ‘most popular role’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">clear_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">ROLE</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;most popular role&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;&#39;,</span>
<span class="go">        &#39;The Departed&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Frank Costello&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;2006&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J. J. Gittes&#39;}]]</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="erase-annotation">
<h2>erase_annotation<a class="headerlink" href="#erase-annotation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_annotation">
<code class="sig-name descname">erase_annotation</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_annotation" title="Permalink to this definition">¶</a></dt>
<dd><p>Erase all annotations of a single property.</p>
<p>Erase all the annotations of a single property, leaving it with no
annotations at all. The property to be erased is identified by either key or
index. If neither a key nor an index is specified, the annotations of the
last property are erased.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the entity on which to erase annotations</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the erase</p></li>
<li><p><strong>key</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the key of the property whose annotations are erased</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the index of the property whose annotations are erased</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or is an entity but connected to no
    adapter, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> is not a valid  authorization,
    or <code class="docutils literal notranslate"><span class="pre">key</span></code> is not present among
    the properties, or <code class="docutils literal notranslate"><span class="pre">index</span></code> is too large, or not an
    integer.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.set_annotation" title="avesterra.avial.set_annotation"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_annotation()</span></code></a></dt><dd><p>set the value of an annotation of a property</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.clear_annotation" title="avesterra.avial.clear_annotation"><code class="xref py py-func docutils literal notranslate"><span class="pre">clear_annotation()</span></code></a></dt><dd><p>remove an annotation from a property</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span> <span class="o">=</span> <span class="n">pprint</span><span class="o">.</span><span class="n">PrettyPrinter</span><span class="p">(</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an entity for Jack.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s2">&quot;Jack Nicholson&quot;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Set some properties for Jack, including annotations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jacks_details</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;Properties&#39;</span><span class="p">:[</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span><span class="s1">&#39;most popular role&#39;</span><span class="p">,</span><span class="s1">&#39;The Shining&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;Jack Torrance&#39;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;The Departed&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;Frank Costello&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="s1">&#39;YEAR_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;2006&#39;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;Wolf&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;Will Randall&#39;</span><span class="p">}],</span>
<span class="gp">... </span>        <span class="p">[</span><span class="s1">&#39;known for&#39;</span><span class="p">,</span><span class="s1">&#39;best performance&#39;</span><span class="p">,</span><span class="s1">&#39;Chinatown&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="p">{</span><span class="s1">&#39;ROLE_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;J.J. Gittes&#39;</span><span class="p">,</span> <span class="s1">&#39;YEAR_ATTRIBUTE&#39;</span><span class="p">:</span> <span class="s1">&#39;1974&#39;</span><span class="p">}]</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">store_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">jacks_details</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;&#39;,</span>
<span class="go">        &#39;The Departed&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Frank Costello&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;2006&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;, {&#39;ROLE_ATTRIBUTE&#39;: &#39;Will Randall&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;best performance&#39;,</span>
<span class="go">        &#39;Chinatown&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;J. J. Gittes&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;1974&#39;}]]</span>
</pre></div>
</div>
<p>Erase the annotations of the last property. The last property is erased
because no key or index is provided.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span>  <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [   &#39;known for&#39;,</span>
<span class="go">        &#39;&#39;,</span>
<span class="go">        &#39;The Departed&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Frank Costello&#39;, &#39;YEAR_ATTRIBUTE&#39;: &#39;2006&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;, {&#39;ROLE_ATTRIBUTE&#39;: &#39;Will Randall&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Erase the annotations of the second property.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [   &#39;known for&#39;,</span>
<span class="go">        &#39;most popular role&#39;,</span>
<span class="go">        &#39;The Shining&#39;,</span>
<span class="go">        {&#39;ROLE_ATTRIBUTE&#39;: &#39;Jack Torrance&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;The Departed&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;, {&#39;ROLE_ATTRIBUTE&#39;: &#39;Will Randall&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Erase the annotations of the property with the key ‘most popular role’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">erase_annotation</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;most popular role&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">retrieve_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">)[</span><span class="s1">&#39;Properties&#39;</span><span class="p">])</span>
<span class="go">[   [&#39;known for&#39;, &#39;most popular role&#39;, &#39;The Shining&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;The Departed&#39;],</span>
<span class="go">    [&#39;known for&#39;, &#39;&#39;, &#39;Wolf&#39;, {&#39;ROLE_ATTRIBUTE&#39;: &#39;Will Randall&#39;}],</span>
<span class="go">    [&#39;known for&#39;, &#39;best performance&#39;, &#39;Chinatown&#39;]]</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="find-annotation">
<h2>find_annotation<a class="headerlink" href="#find-annotation" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.find_annotation">
<code class="sig-name descname">find_annotation</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">attribute</em>, <em class="sig-param">*</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.find_annotation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="annotation-count">
<h2>annotation_count<a class="headerlink" href="#annotation-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.annotation_count">
<code class="sig-name descname">annotation_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.annotation_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="annotation-item">
<h2>annotation_item<a class="headerlink" href="#annotation-item" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.annotation_item">
<code class="sig-name descname">annotation_item</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">instance</em>, <em class="sig-param">*</em>, <em class="sig-param">key=None</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.annotation_item" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="connection-operations">
<h1>Connection operations<a class="headerlink" href="#connection-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="connection-count">
<h2>connection_count<a class="headerlink" href="#connection-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.connection_count">
<code class="sig-name descname">connection_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.connection_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="attachment-operations">
<h1>Attachment operations<a class="headerlink" href="#attachment-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="attachment-count">
<h2>attachment_count<a class="headerlink" href="#attachment-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attachment_count">
<code class="sig-name descname">attachment_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attachment_count" title="Permalink to this definition">¶</a></dt>
<dd><p>How many attributes of entity have attached outlets?</p>
</dd></dl>

</div>
<div class="section" id="attach-attribute">
<h2>attach_attribute<a class="headerlink" href="#attach-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attach_attribute">
<code class="sig-name descname">attach_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">outlet</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">precedence=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attach_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach an outlet to an entity at a particular attribute.</p>
</dd></dl>

</div>
<div class="section" id="detach-attribute">
<h2>detach_attribute<a class="headerlink" href="#detach-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.detach_attribute">
<code class="sig-name descname">detach_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">precedence=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.detach_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="attribute-attached">
<h2>attribute_attached<a class="headerlink" href="#attribute-attached" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attribute_attached">
<code class="sig-name descname">attribute_attached</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">precedence=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attribute_attached" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="attachment-attribute">
<h2>attachment_attribute<a class="headerlink" href="#attachment-attribute" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attachment_attribute">
<code class="sig-name descname">attachment_attribute</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attachment_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="attachment-precedence">
<h2>attachment_precedence<a class="headerlink" href="#attachment-precedence" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attachment_precedence">
<code class="sig-name descname">attachment_precedence</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attachment_precedence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="attachment-outlet">
<h2>attachment_outlet<a class="headerlink" href="#attachment-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.attachment_outlet">
<code class="sig-name descname">attachment_outlet</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.attachment_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="event-operations">
<h1>Event operations<a class="headerlink" href="#event-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="publish-event">
<h2>publish_event<a class="headerlink" href="#publish-event" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.publish_event">
<code class="sig-name descname">publish_event</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">event=None</em>, <em class="sig-param">attribute=None</em>, <em class="sig-param">instance=None</em>, <em class="sig-param">name=None</em>, <em class="sig-param">key=None</em>, <em class="sig-param">value=None</em>, <em class="sig-param">options=None</em>, <em class="sig-param">parameter=None</em>, <em class="sig-param">index=None</em>, <em class="sig-param">count=None</em>, <em class="sig-param">mode=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.publish_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Publish an event on an entity.</p>
<p>Publish an event on an entity. The parameters are passed to the event, and
can be received by any subscribers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entity</strong> (<em>Entity</em>) – the publisher of the event.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes publishing an event.</p></li>
<li><p><strong>event</strong> (<em>Event</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the event to publish. The default is None: publish <code class="docutils literal notranslate"><span class="pre">Event.NULL</span></code></p></li>
<li><p><strong>attribute</strong> (<a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><em>Attribute</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – the attribute to publish on the event. The default is None,
publish <code class="docutils literal notranslate"><span class="pre">Attribute.NULL</span></code></p></li>
<li><p><strong>instance</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the instance to publish on the event. The default is None, publish
instance 0</p></li>
<li><p><strong>name</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the name to publish on the event. The default is None, publish empty
string</p></li>
<li><p><strong>key</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the key to publish on the event. The default is None, publish empty
string</p></li>
<li><p><strong>value</strong> (<em>int</em><em> or </em><em>float</em><em> or </em><em>bool</em><em> or </em><em>str</em><em> or </em><em>Entity</em><em> or </em><em>list</em><em> or </em><em>dict</em><em> or </em><a class="reference internal" href="#avesterra.avial.Value" title="avesterra.avial.Value"><em>Value</em></a><em> or </em><em>None</em><em>, </em><em>optional</em>) – the value to publish on the event. The default is None, publish empty
string</p></li>
<li><p><strong>options</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the options to publish on the event. The default is None, publish
empty string</p></li>
<li><p><strong>parameter</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the parameter to publish on the event. The default is None, publish
parameter 0</p></li>
<li><p><strong>index</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the index to publish on the event. The default is None, publish
index 0</p></li>
<li><p><strong>count</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the count to publish on the event. The default is None, publish
count 0</p></li>
<li><p><strong>mode</strong> (<em>Mode</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the mode to publish on the event. The default is None, publish
<code class="docutils literal notranslate"><span class="pre">Mode.NULL</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – If <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not permit an event
    to be published, or <code class="docutils literal notranslate"><span class="pre">event</span></code> is not an event, or one of the other
    parameters is invalid.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_outlet" title="avesterra.avial.create_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_outlet()</span></code></a></dt><dd><p>create a new outlet entity, to subscribe to some publishers</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.subscribe_event" title="avesterra.avial.subscribe_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">subscribe_event()</span></code></a></dt><dd><p>an outlet subscribes to a publisher</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a></dt><dd><p>an outlet waits for an event to be published</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.flush_event" title="avesterra.avial.flush_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">flush_event()</span></code></a></dt><dd><p>delete any events waiting on an outlet</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>An example for <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a> requires code in two different
processes, one process for the calls to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, and the
other process for the calls to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>, that receive the event
as it is published. <em>Start by setting up process 1.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a publisher, an entity on which we will publish events. We will
make the publisher a person, a musician who occasionally tweets, but it
could be any kind of entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ye</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Kanye West&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">ye</span><span class="p">)</span>
<span class="go">&#39;&lt;2906857743|167772516|15631586&gt;&#39;</span>
</pre></div>
</div>
<p><em>Now switch to process 2</em>, and set it up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an outlet, an entity that will wait for events. The outlet could
be of any AvesTerra class and subclass. We will make the outlet another
person, a fan of the musician.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ye_fan</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span><span class="s1">&#39;Kanye subscriber&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Subscribe to the publisher. Note that we need to reference the publisher
entity via <code class="xref py py-func docutils literal notranslate"><span class="pre">entity_of()</span></code>, as the variable <code class="docutils literal notranslate"><span class="pre">ye</span></code> in the other process
does not exist in this process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|15631586&gt;&#39;</span><span class="p">),</span> <span class="n">ye_fan</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Define a function to call when an event occurs. The function must
be defined with a signature that includes <code class="docutils literal notranslate"><span class="pre">outlet</span></code>, <code class="docutils literal notranslate"><span class="pre">publisher</span></code>,
<code class="docutils literal notranslate"><span class="pre">event</span></code>, and so on, all 14 parameters of the event. Our function will
just print the parameters, but it could do anything.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_event</span><span class="p">(</span><span class="n">outlet</span><span class="p">,</span> <span class="n">publisher</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">options</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">authorization</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Event:&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Outlet:    </span><span class="si">{outlet}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Publisher: </span><span class="si">{publisher}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Event:     </span><span class="si">{event!s}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Attribute  </span><span class="si">{attribute!s}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Instance:  </span><span class="si">{instance}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Name:      </span><span class="si">{name}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Key:       </span><span class="si">{key}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Value:     </span><span class="si">{value}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Options:   </span><span class="si">{options}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Parameter: </span><span class="si">{parameter}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Index:     </span><span class="si">{index}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Count:     </span><span class="si">{count}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Mode:      </span><span class="si">{mode!s}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Wait for the event, and when it occurs, call <code class="xref py py-func docutils literal notranslate"><span class="pre">print_event()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> does not return, as it waits forever for an event.</p>
<p><em>Switch back to the first prcoess.</em> Now the musician publishes an event, a
tweet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s1">&#39;To my fans: thank you for being loyal and patient&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Nothing happens in this process, <em>so switch once more to process 2.</em></p>
<p>(The call to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> is
repeated for clarity, although we have only called it once, so far.)</p>
<p>As you can see, <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> has now run, printing the outlet
and the publisher, and all the other parameters with None.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
<span class="go">Event:</span>
<span class="go">  Outlet:    &lt;2906857743|167772516|15631587&gt;</span>
<span class="go">  Publisher: &lt;2906857743|167772516|15631586&gt;</span>
<span class="go">  Event:     None</span>
<span class="go">  Attribute  None</span>
<span class="go">  Instance:  None</span>
<span class="go">  Name:      None</span>
<span class="go">  Key:       None</span>
<span class="go">  Value:     To my fans: thank you for being loyal and patient</span>
<span class="go">  Options:   None</span>
<span class="go">  Parameter: None</span>
<span class="go">  Index:     None</span>
<span class="go">  Count:     None</span>
<span class="go">  Mode:      None</span>
</pre></div>
</div>
<p>The published event has only the outlet, publisher, and a value.</p>
<p><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> has now finished. Each call to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>
waits for a single event. So call it again, to wait for another event.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Switch to process 1.</em> Publish an event with some parameters
specified.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Switch to process 2.</em> As before, the call to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> is
repeated. for clarity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">ye_fan</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
<span class="go">Event:</span>
<span class="go">  Outlet:    &lt;2906857743|167772516|15631587&gt;</span>
<span class="go">  Publisher: &lt;2906857743|167772516|15631586&gt;</span>
<span class="go">  Event:     Event.UPDATE</span>
<span class="go">  Attribute  Attribute.AGE</span>
<span class="go">  Instance:  None</span>
<span class="go">  Name:      None</span>
<span class="go">  Key:       None</span>
<span class="go">  Value:     42</span>
<span class="go">  Options:   None</span>
<span class="go">  Parameter: None</span>
<span class="go">  Index:     None</span>
<span class="go">  Count:     None</span>
<span class="go">  Mode:      None</span>
</pre></div>
</div>
<p>Clean up process 2.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">ye_fan</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
<p><em>Switch to process 1.</em> Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="subscribe-event">
<h2>subscribe_event<a class="headerlink" href="#subscribe-event" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.subscribe_event">
<code class="sig-name descname">subscribe_event</code><span class="sig-paren">(</span><em class="sig-param">publisher</em>, <em class="sig-param">outlet</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">event=None</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.subscribe_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscribe outlet to events published by publisher.</p>
<p>Outlet subscribes to events published by publisher, allowing a later
<code class="xref py py-func docutils literal notranslate"><span class="pre">wait()</span></code> to respond to events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>publisher</strong> (<em>Entity</em>) – the entity that will later be publishing events.</p></li>
<li><p><strong>outlet</strong> (<em>Entity</em>) – the entity that will later be listening for published events.</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes subscription.</p></li>
<li><p><strong>event</strong> (<em>Event</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – which events to subscribe to. If supplied, <code class="docutils literal notranslate"><span class="pre">outlet</span></code> will ignore
other events, events that do not include <code class="docutils literal notranslate"><span class="pre">event</span></code>. The default is
None: subscribe to all events on <code class="docutils literal notranslate"><span class="pre">publisher</span></code>.</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em>, </em><em>optional</em>) – the duration of the subscription, in seconds. The default is None: the
subscription lasts forever.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – If <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity, or <code class="docutils literal notranslate"><span class="pre">outlet</span></code> is not an entity, or
    <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not permit event subscription, or <code class="docutils literal notranslate"><span class="pre">timeout</span></code> is
    non-numeric, or <code class="docutils literal notranslate"><span class="pre">event</span></code> is not an event.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_outlet" title="avesterra.avial.create_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_outlet()</span></code></a></dt><dd><p>create a new outlet entity, to subscribe to some publishers</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a></dt><dd><p>a publisher publishes an event for subscribed outlets</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a></dt><dd><p>an outlet waits for an event to be published</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.flush_event" title="avesterra.avial.flush_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">flush_event()</span></code></a></dt><dd><p>delete any events waiting on an outlet</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Usage of <a class="reference internal" href="#avesterra.avial.subscribe_event" title="avesterra.avial.subscribe_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">subscribe_event()</span></code></a> will likely involve at least two processes,
one process for the calls to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a> on the entity that
is publishing—the publisher—and the other process for the calls to
<a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> on the outlet that has subscribed to the publisher. (See
the dual process examples detailed with <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a> and
<a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>.) But to keep
these examples simple, instead of waiting for events, we will just count
them, using <a class="reference internal" href="#avesterra.avial.event_count" title="avesterra.avial.event_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">event_count()</span></code></a>, which we can do from the same process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a publisher, an entity on which we will publish events. We will
make the entity a person, but it could be any kind of entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ye</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Kanye West&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Create an outlet, an entity that will wait for events. The outlet could
be of any AvesTerra class and subclass. We will make the outlet another
person, a fan.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fangirl</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Fangirl&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Subscribe to the publisher.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">ye</span><span class="p">,</span> <span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>So far there are no events on the outlet, as the publisher has published
no events.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Publish an event.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Yo, Taylor, I&#39;m really happy for you. I&#39;mma let you finish&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now there is a single event waiting on <code class="docutils literal notranslate"><span class="pre">fangirl</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Publish another event.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;I did not diss Taylor Swift and I’ve never dissed her…&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Subscribe to a second publisher.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">taylorswift13</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Taylor Swift&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">taylorswift13</span><span class="p">,</span> <span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>The new publisher publishes an event. Now there are three events in
<code class="docutils literal notranslate"><span class="pre">fangirl</span></code>’s queue.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">taylorswift13</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;That moment when Kanye West secretly records your phone call, then Kim posts it on the Internet.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Another outlet can subscribe to the same publisher.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">taytayfan</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Taytayfan&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">taylorswift13</span><span class="p">,</span> <span class="n">taytayfan</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>When Taylor publishes an event, the same event is received by both outlets.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">taylorswift13</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;I actually did grow up on a Christmas tree farm.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">taytayfan</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">taylorswift13</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">taytayfan</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="cancel-event">
<h2>cancel_event<a class="headerlink" href="#cancel-event" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.cancel_event">
<code class="sig-name descname">cancel_event</code><span class="sig-paren">(</span><em class="sig-param">publishee</em>, <em class="sig-param">outlet</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">event=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.cancel_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="flush-event">
<h2>flush_event<a class="headerlink" href="#flush-event" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.flush_event">
<code class="sig-name descname">flush_event</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.flush_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all events waiting on the outlet.</p>
<p>Events may be waiting on the outlet <code class="docutils literal notranslate"><span class="pre">outlet</span></code> because <code class="docutils literal notranslate"><span class="pre">outlet</span></code>
has subscribed to one or more entities, and some of those entities have
published events. Delete all such events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outlet</strong> (<em>Entity</em>) – the entity on which events are waiting</p></li>
<li><p><strong>auth</strong> (<em>Authorization</em>) – an object that authorizes the deleting of the events</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – If <code class="docutils literal notranslate"><span class="pre">outlet</span></code> is not an entity or not an outlet, or <code class="docutils literal notranslate"><span class="pre">auth</span></code> does not
    permit event flushing.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_outlet" title="avesterra.avial.create_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_outlet()</span></code></a></dt><dd><p>create a new outlet entity, to subscribe to some publishees</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.subscribe_event" title="avesterra.avial.subscribe_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">subscribe_event()</span></code></a></dt><dd><p>an outlet subscribes to a publishee</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a></dt><dd><p>a publishee publishes an event for subscribed outlets</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a></dt><dd><p>an outlet waits for an event to be published</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Usage of <a class="reference internal" href="#avesterra.avial.flush_event" title="avesterra.avial.flush_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">flush_event()</span></code></a> will likely involve at least two processes,
one process for the calls to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a> on the entity that
is publishing—the publisher—and the other process for the calls to
<a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> and <a class="reference internal" href="#avesterra.avial.flush_event" title="avesterra.avial.flush_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">flush_event()</span></code></a> on the outlet that has
subscribed to the publisher. (See
the dual process examples detailed with <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a> and
<a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>.) But to keep
these examples simple, we will just count
events, using <a class="reference internal" href="#avesterra.avial.event_count" title="avesterra.avial.event_count"><code class="xref py py-func docutils literal notranslate"><span class="pre">event_count()</span></code></a>, which we can do from the same process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create entities for two musician celebrities.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ye</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Kanye West&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">taylorswift13</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Taylor Swift&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">object_outlet</span><span class="p">(),</span> <span class="n">autosave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Create entity for a fangirl follower of these celebrities.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fangirl</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Fangirl&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Fangirl follows both, subscribing to events they publish.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">ye</span><span class="p">,</span> <span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">taylorswift13</span><span class="p">,</span> <span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>So far there are no events.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Kanye tweets. Then Taylor tweets. Then Kanye tweets again.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Yo, Taylor, I&#39;m really happy for you. I&#39;mma let you finish&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">taylorswift13</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;That moment when Kanye West secretly records your phone call, then Kim posts it on the Internet.&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">MESSAGE</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">value</span><span class="o">=</span><span class="s2">&quot;I did not diss Taylor Swift and I’ve never dissed her…&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Fangirl has three events in her queue.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Fangirl flushes the events. Afterwards she has no events in her queue.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">flush_event</span><span class="p">(</span><span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">event_count</span><span class="p">(</span><span class="n">fangirl</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">ye</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">taylorswift13</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">fangirl</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="wait-event">
<h2>wait_event<a class="headerlink" href="#wait-event" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.wait_event">
<code class="sig-name descname">wait_event</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">*</em>, <em class="sig-param">callback=None</em>, <em class="sig-param">timeout=None</em>, <em class="sig-param">authorization=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.wait_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for an event. Then call <code class="docutils literal notranslate"><span class="pre">callback</span></code>.</p>
<p>Wait for an event, then call the callback, with 14 arguments.
If timeout is specified, and the event does not occur within that duraction,
the function times out, and raises <code class="xref py py-class docutils literal notranslate"><span class="pre">AvialTimeout</span></code>. If timeout is not
specified, the function waits for an event forever.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outlet</strong> (<em>Entity</em>) – the entity waiting for the event. Typically <code class="docutils literal notranslate"><span class="pre">outlet</span></code> has already
subscribed to one or more publishees with <a class="reference internal" href="#avesterra.avial.subscribe_event" title="avesterra.avial.subscribe_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">subscribe_event()</span></code></a>.</p></li>
<li><p><strong>callback</strong> (<em>callable</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>a Python callable with 14 required arguments, as listed below. Most of
these arguments take the values given on the original call to
<a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, the call that created the event. The default is
None: when the event occurs, call no callback function, and instead
just silently proceed.</p>
<dl class="simple">
<dt>outlet</dt><dd><p>the outlet entity to which the event was published</p>
</dd>
<dt>publishee</dt><dd><p>the entity on which the event was pulbished</p>
</dd>
<dt>event</dt><dd><p>the instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code> originally provided to
<a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or None, if no Event instance was provided</p>
</dd>
<dt>attribute</dt><dd><p>the instance of <a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> originally provided to
<a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or None, if no Attribute instance was
provided</p>
</dd>
<dt>instance</dt><dd><p>the instance integer originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>,
or None, if no instance was provided</p>
</dd>
<dt>name</dt><dd><p>the name string originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or
None, if no name was provided</p>
</dd>
<dt>key</dt><dd><p>the key string originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or
None, if no key was provided</p>
</dd>
<dt>value</dt><dd><p>the value (an int, float, bool, str, at.Entity, list, or dict)
originally provded to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or
None, if no value was provided</p>
</dd>
<dt>options</dt><dd><p>the options string originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or
None, if no options was provided</p>
</dd>
<dt>parameter</dt><dd><p>the parameter integer originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>,
or None, if no parameter was provided</p>
</dd>
<dt>index</dt><dd><p>the index integer originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or
None, if no index was provided</p>
</dd>
<dt>count</dt><dd><p>the count integer originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or
None, if no count was provided</p>
</dd>
<dt>mode</dt><dd><p>the instance of Mode originally provided to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>,
or None, if no mode was provided</p>
</dd>
<dt>authorization</dt><dd><p>the instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Authorization</span></code> originally provided to
<a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a>, or None, if no authorization was provided</p>
</dd>
</dl>
</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the maximum duration to wait for an event, in seconds. If no event
occurs within the timeout duration, an <code class="xref py py-class docutils literal notranslate"><span class="pre">AvialTimeout</span></code>
exception is raised. The default is None: wait forever.</p></li>
<li><p><strong>authorization</strong> (<em>Authorization</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – an object authorizing waiting for an event. Authorization is generally
not required for <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AvialTimeout</strong> – if no event has occured before <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds has passed</p></li>
<li><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">outlet</span></code> is not an entity, or an entity but not an outlet, or
    <code class="docutils literal notranslate"><span class="pre">timeout</span></code> is non-numeric, or <code class="docutils literal notranslate"><span class="pre">callback</span></code> is not a Python callable</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_outlet" title="avesterra.avial.create_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_outlet()</span></code></a></dt><dd><p>create a new outlet entity, to subscribe to some publishees</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a></dt><dd><p>a publishee publishes an event for subscribed outlets</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.subscribe_event" title="avesterra.avial.subscribe_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">subscribe_event()</span></code></a></dt><dd><p>an outlet subscribes to a publishee</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>An example for <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> requires code in two different
processes, one process for the calls to <a class="reference internal" href="#avesterra.avial.publish_event" title="avesterra.avial.publish_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">publish_event()</span></code></a> that
publishes the event, and the
other process for the calls to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>, that receive the event
as it is published. <em>Start by setting up process 1.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a publishee, an entity on which we will publish events.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pub</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_registry</span><span class="p">(</span><span class="s1">&#39;Publishee&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">pub</span><span class="p">)</span>
<span class="go">&#39;&lt;2906857743|167772516|11680352&gt;&#39;</span>
</pre></div>
</div>
<p><em>Now switch to process 2</em>, and set it up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an outlet, an entity that will wait for events.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span><span class="s1">&#39;Test subscriber&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">AVESTERRA</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">AVESTERRA</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Subscribe to the publishee. Note that we need to reference the publishee
entity via <code class="xref py py-func docutils literal notranslate"><span class="pre">entity_of()</span></code>, as the variable <code class="docutils literal notranslate"><span class="pre">pub</span></code> in the other process
does not exist in this process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">subscribe_event</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|11680352&gt;&#39;</span><span class="p">),</span> <span class="n">out</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Define a function to call when an event occurs. The function must
be defined with a signature that includes <code class="docutils literal notranslate"><span class="pre">outlet</span></code>, <code class="docutils literal notranslate"><span class="pre">publishee</span></code>,
<code class="docutils literal notranslate"><span class="pre">event</span></code>, and so on, all 14 parameters of the event. Our function will
just print the parameters, but it could do anything.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">print_event</span><span class="p">(</span><span class="n">outlet</span><span class="p">,</span> <span class="n">publishee</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">options</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">authorization</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Event:&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Outlet:    </span><span class="si">{outlet}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Publishee: </span><span class="si">{publishee}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Event:     </span><span class="si">{event!s}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Attribute  </span><span class="si">{attribute!s}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Instance:  </span><span class="si">{instance}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Name:      </span><span class="si">{name}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Key:       </span><span class="si">{key}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Value:     </span><span class="si">{value}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Options:   </span><span class="si">{options}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Parameter: </span><span class="si">{parameter}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Index:     </span><span class="si">{index}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Count:     </span><span class="si">{count}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;  Mode:      </span><span class="si">{mode!s}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Wait for the event, and when it occurs, call <code class="xref py py-func docutils literal notranslate"><span class="pre">print_event()</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
</pre></div>
</div>
<p><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> does not return, as it waits forever for an event.</p>
<p><em>Switch back to process 1.</em> Publish an event.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span><span class="n">pub</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Nothing happens in this process, <em>so switch once more to process 2.</em></p>
<p>(The call to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> is
repeated for clarity, although we have only called it once, so far.)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
<span class="go">Event:</span>
<span class="go">  Outlet:    &lt;2906857743|167772516|508302&gt;</span>
<span class="go">  Publishee: &lt;2906857743|167772516|508061&gt;</span>
<span class="go">  Event:     None</span>
<span class="go">  Attribute  None</span>
<span class="go">  Instance:  None</span>
<span class="go">  Name:      None</span>
<span class="go">  Key:       None</span>
<span class="go">  Value:     None</span>
<span class="go">  Options:   None</span>
<span class="go">  Parameter: None</span>
<span class="go">  Index:     None</span>
<span class="go">  Count:     None</span>
<span class="go">  Mode:      None</span>
</pre></div>
</div>
<p>As you can see, <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> has now run, printing the outlet
and the publishee, and all the other parameters with None.
The published event has nothing on it, except the outlet and the publishee.</p>
<p><a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> has now finished. Each call to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a>
waits for a single event. So call it again, to wait for another event.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Switch to process 1.</em> Publish an event with some parameters
specified.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">publish_event</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">pub</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">event</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Event</span><span class="o">.</span><span class="n">UPDATE</span><span class="p">,</span> <span class="n">attribute</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Attribute</span><span class="o">.</span><span class="n">AGE</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
<p><em>Switch to process 2.</em> As before, the call to <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> is
repeated. for clarity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">)</span>
<span class="go">Event:</span>
<span class="go">  Outlet:    &lt;2906857743|167772516|1088440&gt;</span>
<span class="go">  Publishee: &lt;2906857743|167772516|1088251&gt;</span>
<span class="go">  Event:     Event.UPDATE</span>
<span class="go">  Attribute  Attribute.AGE</span>
<span class="go">  Instance:  None</span>
<span class="go">  Name:      None</span>
<span class="go">  Key:       None</span>
<span class="go">  Value:     20</span>
<span class="go">  Options:   None</span>
<span class="go">  Parameter: None</span>
<span class="go">  Index:     None</span>
<span class="go">  Count:     None</span>
<span class="go">  Mode:      None</span>
</pre></div>
</div>
<p>Wait once more, this time with a short 3 second timeout. Before we can
even switch back to process 1, <a class="reference internal" href="#avesterra.avial.wait_event" title="avesterra.avial.wait_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">wait_event()</span></code></a> times out.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">wait_event</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">print_event</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="go">AvialTimeout: Timeout: Server reported TIMEOUT error: Wait timeout - outlet: &lt;2906857743|167772516|11680353&gt; while waiting on outlet &lt;2906857743|167772516|11680353&gt; with callback=&lt;function print_event at 0x10f288598&gt;, timeout=3</span>
</pre></div>
</div>
<p>Clean up process 2.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
<p><em>Switch to process 1.</em> Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_registry</span><span class="p">(</span><span class="n">pub</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="event-count">
<h2>event_count<a class="headerlink" href="#event-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.event_count">
<code class="sig-name descname">event_count</code><span class="sig-paren">(</span><em class="sig-param">outlet</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.event_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="subscription-count">
<h2>subscription_count<a class="headerlink" href="#subscription-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.subscription_count">
<code class="sig-name descname">subscription_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.subscription_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="outlet-operations">
<h1>Outlet operations<a class="headerlink" href="#outlet-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="create-outlet">
<h2>create_outlet<a class="headerlink" href="#create-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.create_outlet">
<code class="sig-name descname">create_outlet</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">klass</em>, <em class="sig-param">subklass</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">self_connect=False</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.create_outlet" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a new outlet.</p>
</dd></dl>

</div>
<div class="section" id="delete-outlet">
<h2>delete_outlet<a class="headerlink" href="#delete-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.delete_outlet">
<code class="sig-name descname">delete_outlet</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.delete_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="activate-outlet">
<h2>activate_outlet<a class="headerlink" href="#activate-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.activate_outlet">
<code class="sig-name descname">activate_outlet</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.activate_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="deactivate-outlet">
<h2>deactivate_outlet<a class="headerlink" href="#deactivate-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.deactivate_outlet">
<code class="sig-name descname">deactivate_outlet</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.deactivate_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="entity-activated">
<h2>entity_activated<a class="headerlink" href="#entity-activated" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_activated">
<code class="sig-name descname">entity_activated</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_activated" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the entity an outlet?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entity</strong> (<em>Entity</em>) – The entity that may be an outlet</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>whether <code class="docutils literal notranslate"><span class="pre">entity</span></code> is an outlet</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">entity</span></code> is not an entity</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.entity_extinct" title="avesterra.avial.entity_extinct"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_extinct()</span></code></a></dt><dd><p>has the entity been deleted?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_available" title="avesterra.avial.entity_available"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_available()</span></code></a></dt><dd><p>is the entity alive?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.entity_ready" title="avesterra.avial.entity_ready"><code class="xref py py-func docutils literal notranslate"><span class="pre">entity_ready()</span></code></a></dt><dd><p>is the entity ready to be invoked?</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.create_outlet" title="avesterra.avial.create_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_outlet()</span></code></a></dt><dd><p>create a new outlet entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Test outlet&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">AVESTERRA</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">OUTLET</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify that it is an outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_activated</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Create an entity that is not an outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jack</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Jack Nicholson&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">PERSON</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify that it is not an outlet.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">entity_activated</span><span class="p">(</span><span class="n">jack</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">jack</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="adapt-outlet">
<h2>adapt_outlet<a class="headerlink" href="#adapt-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.adapt_outlet">
<code class="sig-name descname">adapt_outlet</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">callback</em>, <em class="sig-param">authorization</em>, <em class="sig-param">*</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.adapt_outlet" title="Permalink to this definition">¶</a></dt>
<dd><p>Fasten a callback to an outlet, to be executed on a later invoke.</p>
<p>Fasten a callback—a Python callable—to an outlet. The callback is
executed sometime in the future, when a method is invoked (via
<code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_method()</span></code>) on a entity that is connected to the outlet.
Whatever is returned from the execution of the callback is passed back
to the original entity.</p>
<p>Multiple callbacks may be adapted to the same outlet, with multiple calls
to <a class="reference internal" href="#avesterra.avial.adapt_outlet" title="avesterra.avial.adapt_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">adapt_outlet()</span></code></a>. But only a single adapter is executed for
any given invocation of a connected entity. And only a single adapter
is executed on an outlet at any one time; execution of a callback blocks
other callbacks (e.g. on other connected entities) until the execution of
the first callback completes.</p>
<p>Typically an entity is connected to an outlet when it is first created, as
specified in the arguments to <a class="reference internal" href="#avesterra.avial.create_entity" title="avesterra.avial.create_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_entity()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outlet</strong> (<em>Entity</em>) – the outlet to which the callback is fastened</p></li>
<li><p><strong>callback</strong> (<em>callable</em>) – <p>a Python callable with 15 positional arguments, as listed below. For
most of these arguments, the amount of the original
<a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a> is provided to the callback, e.g. the value of
the <code class="docutils literal notranslate"><span class="pre">name</span></code> argument is the value of the <code class="docutils literal notranslate"><span class="pre">name</span></code> on the original
call to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>.</p>
<dl class="simple">
<dt>outlet</dt><dd><p>the outlet entity on which the callback was fastened</p>
</dd>
<dt>entity</dt><dd><p>the entity that received the original <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a></p>
</dd>
<dt>auxiliary</dt><dd><p>the auxiliary entity originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>,
or None, if no auxiliary was provided</p>
</dd>
<dt>method</dt><dd><p>the instance of <a class="reference internal" href="#avesterra.avial.Method" title="avesterra.avial.Method"><code class="xref py py-class docutils literal notranslate"><span class="pre">Method</span></code></a> originally provided to
<a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or None, if no method was provided</p>
</dd>
<dt>attribute</dt><dd><p>the instance of <a class="reference internal" href="#avesterra.avial.Attribute" title="avesterra.avial.Attribute"><code class="xref py py-class docutils literal notranslate"><span class="pre">Attribute</span></code></a> originally provided to
<a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or None, if no Attribute instance was
provided</p>
</dd>
<dt>instance</dt><dd><p>the instance integer originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>,
or None, if no instance was provided</p>
</dd>
<dt>name</dt><dd><p>the name string originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or
None, if no name was provided</p>
</dd>
<dt>key</dt><dd><p>the key string originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or
None, if no key was provided</p>
</dd>
<dt>value</dt><dd><p>the value (an int, float, bool, str, Entity, list, or dict)
originally provded to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or
None, if no value was provided</p>
</dd>
<dt>options</dt><dd><p>the options string originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or
None, if no options was provided</p>
</dd>
<dt>parameter</dt><dd><p>the parameter integer originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>,
or None, if no parameter was provided</p>
</dd>
<dt>index</dt><dd><p>the index integer originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or
None, if no index was provided</p>
</dd>
<dt>count</dt><dd><p>the count integer originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or
None, if no count was provided</p>
</dd>
<dt>mode</dt><dd><p>the instance of Mode originally provided to <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>,
or None, if no mode was provided</p>
</dd>
<dt>authorization</dt><dd><p>the instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">Authorization</span></code> originally provided to
<a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, or None, if no authorization was provided</p>
</dd>
</dl>
</p></li>
<li><p><strong>authorization</strong> (<em>Authorization</em>) – an object authorizing the fastening of a callback to an outlet</p></li>
<li><p><strong>timeout</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – the maximum duration to wait for an <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>, in seconds.
If no invoke occurs with the timeout duration, an <code class="xref py py-class docutils literal notranslate"><span class="pre">AvialTimeout</span></code>
exception is raised. The default is None: wait forever.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>None</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AvialTimeout</strong> – if no <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a> has occured before <code class="docutils literal notranslate"><span class="pre">timeout</span></code> seconds has
    passed</p></li>
<li><p><strong>AvialError</strong> – if <code class="docutils literal notranslate"><span class="pre">outlet</span></code> is not an entity, or an entity but not an outlet,
    or <code class="docutils literal notranslate"><span class="pre">timeout</span></code> is non-numeric,
    or <code class="docutils literal notranslate"><span class="pre">authorization</span></code> does not authorize the operation,
    or <code class="docutils literal notranslate"><span class="pre">callback</span></code> is not a Python callable,
    or <code class="docutils literal notranslate"><span class="pre">callback</span></code> raises an exception in its operation.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#avesterra.avial.create_outlet" title="avesterra.avial.create_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_outlet()</span></code></a></dt><dd><p>create a new outlet entity, to subscribe to some publishees</p>
</dd>
<dt><a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a></dt><dd><p>invoke a method on an entity</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>An example for <a class="reference internal" href="#avesterra.avial.adapt_outlet" title="avesterra.avial.adapt_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">adapt_outlet()</span></code></a> requires code in two different
processes, one process for the calls to <code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_event()</span></code> and the other
process for adapter, for the calls to <code class="xref py py-func docutils literal notranslate"><span class="pre">adapt_event()</span></code>. <em>Start by
setting up the adapter, in its own process.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an adapter, an outlet that other entities can use to handle methods.
We will create a very simple homemade adapter. Note that the adapter is
<em>self-connected</em>: it is connected to itself, and handles its own methods.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">homemade</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_outlet</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Homemade echo adapter&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">AVESTERRA</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">ADAPTER</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">auth</span><span class="p">,</span> <span class="n">self_connect</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">homemade</span><span class="p">)</span>
<span class="go">&#39;&lt;2906857743|167772516|15641004&gt;&#39;</span>
</pre></div>
</div>
<p>Now for the adapter code. Normally the adapter will include
error handling, logging, and persistence management. But our adapter does
none of that; it is
very simple. If the invoked entity is the homemade outlet itself, it ends
operation on a <strong>CLEAR</strong> method. If the invoked entity is any other
entity other than the homemade entity itself, it echoes the <strong>value</strong>
parameter on an <strong>ECHO</strong> method, or does nothing otherwise. It ignores
all its paramters, except <strong>outlet</strong>, <strong>entity</strong>, <strong>method</strong>, and
<strong>value</strong>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">still_active</span> <span class="o">=</span> <span class="kc">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">outlet</span><span class="p">,</span> <span class="n">entity</span><span class="p">,</span> <span class="n">auxiliary</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">parameter</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">count</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span>
<span class="gp">... </span>         <span class="n">authorization</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">global</span> <span class="n">still_active</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">outlet</span> <span class="o">==</span> <span class="n">entity</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">CLEAR</span><span class="p">:</span>
<span class="gp">... </span>            <span class="n">still_active</span> <span class="o">=</span> <span class="kc">False</span>
<span class="gp">... </span>            <span class="k">return</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span>
<span class="gp">... </span>    <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">ECHO</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span> <span class="n">value</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="k">return</span>
</pre></div>
</div>
<p>Note that the adapter handles all possible methods.</p>
<p>Now we execute <a class="reference internal" href="#avesterra.avial.adapt_outlet" title="avesterra.avial.adapt_outlet"><code class="xref py py-func docutils literal notranslate"><span class="pre">adapt_outlet()</span></code></a>. It blocks until some entity connected
to our homemade adapter receives an <a class="reference internal" href="#avesterra.avial.invoke_entity" title="avesterra.avial.invoke_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">invoke_entity()</span></code></a>. When it receives
an invocation, it handles it, with the <code class="xref py py-func docutils literal notranslate"><span class="pre">echo()</span></code> function above. Then
it loops, blocking again until the next invocation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="n">still_active</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">av</span><span class="o">.</span><span class="n">adapt_outlet</span><span class="p">(</span><span class="n">homemade</span><span class="p">,</span> <span class="n">echo</span><span class="p">,</span> <span class="n">authorization</span><span class="o">=</span><span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>This process is blocked, <em>so switch to another process and set it up.</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">avesterra.avial</span> <span class="k">as</span> <span class="nn">av</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auth</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">initialize</span><span class="p">()</span>
</pre></div>
</div>
<p>Create an entity, and connect it to our newly created homemade adapter.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">homemade</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">entity_of</span><span class="p">(</span><span class="s1">&#39;&lt;2906857743|167772516|15641004&gt;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echoed</span> <span class="o">=</span> <span class="n">av</span><span class="o">.</span><span class="n">create_entity</span><span class="p">(</span>
<span class="gp">... </span>    <span class="s1">&#39;Counted&#39;</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Class</span><span class="o">.</span><span class="n">OBJECT</span><span class="p">,</span> <span class="n">av</span><span class="o">.</span><span class="n">Subclass</span><span class="o">.</span><span class="n">BUILDING</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">outlet</span><span class="o">=</span><span class="n">homemade</span><span class="p">)</span>
</pre></div>
</div>
<p>Invoke <strong>ECHO</strong> on our new entity, with an integer value. The adapter in
the other process echoes the integer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span><span class="n">echoed</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">ECHO</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mi">27</span><span class="p">)</span>
<span class="go">27</span>
</pre></div>
</div>
<p>Invoke <strong>ECHO</strong>, with a more complex (but jsonifiable) value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span><span class="n">echoed</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">ECHO</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;bar&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">}])</span>
<span class="go">[&#39;abc&#39;, {&#39;foo&#39;: 12, &#39;bar&#39;: 13}]</span>
</pre></div>
</div>
<p>Invoke <strong>ECHO</strong>, with a value that is an entity, in this case the homemade
adapter itself.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span><span class="n">echoed</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">ECHO</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">homemade</span><span class="p">))</span>
<span class="go">&#39;&lt;2906857743|167772516|15641004&gt;&#39;</span>
</pre></div>
</div>
<p>Invoke another method.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span><span class="n">echoed</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">COUNT</span><span class="p">)</span>
</pre></div>
</div>
<p>The <strong>COUNT</strong> method is handled, but nothing is returned.</p>
<p>Delete our entity. Note that we need to delete the entity before we
shut down the adapter, as the adapter is needed to handle the <strong>DELETE</strong>
method within <a class="reference internal" href="#avesterra.avial.delete_entity" title="avesterra.avial.delete_entity"><code class="xref py py-func docutils literal notranslate"><span class="pre">delete_entity()</span></code></a>, in case the adapter needs (e.g.)
delete the persistence for the entity.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_entity</span><span class="p">(</span><span class="n">echoed</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
</pre></div>
</div>
<p>We stop the adapter by invoking <strong>CLEAR</strong> on it.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">invoke_entity</span><span class="p">(</span><span class="n">homemade</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">av</span><span class="o">.</span><span class="n">Method</span><span class="o">.</span><span class="n">CLEAR</span><span class="p">)</span>
</pre></div>
</div>
<p>Clean up this second process.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
<p>Return to the original process where the adapter was running. Now we
discover that it has finished. Handling <strong>CLEAR</strong> caused <strong>still_active</strong>
to be set to False, and the loop exits.</p>
<p>Delete the adapter and clean up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">delete_outlet</span><span class="p">(</span><span class="n">homemade</span><span class="p">,</span> <span class="n">auth</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">av</span><span class="o">.</span><span class="n">finalize</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="reset-outlet">
<h2>reset_outlet<a class="headerlink" href="#reset-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.reset_outlet">
<code class="sig-name descname">reset_outlet</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.reset_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="lock-outlet">
<h2>lock_outlet<a class="headerlink" href="#lock-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.lock_outlet">
<code class="sig-name descname">lock_outlet</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">timeout=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.lock_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="unlock-outlet">
<h2>unlock_outlet<a class="headerlink" href="#unlock-outlet" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.unlock_outlet">
<code class="sig-name descname">unlock_outlet</code><span class="sig-paren">(</span><em class="sig-param">outlet</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.unlock_outlet" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="entity-locked">
<h2>entity_locked<a class="headerlink" href="#entity-locked" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.entity_locked">
<code class="sig-name descname">entity_locked</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.entity_locked" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="data-operations">
<h1>Data operations<a class="headerlink" href="#data-operations" title="Permalink to this headline">¶</a></h1>
<div class="section" id="read-data">
<h2>read_data<a class="headerlink" href="#read-data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.read_data">
<code class="sig-name descname">read_data</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">*</em>, <em class="sig-param">index=None</em>, <em class="sig-param">count=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.read_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="write-data">
<h2>write_data<a class="headerlink" href="#write-data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.write_data">
<code class="sig-name descname">write_data</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">bytez</em>, <em class="sig-param">auth</em>, <em class="sig-param">*</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.write_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="erase-data">
<h2>erase_data<a class="headerlink" href="#erase-data" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.erase_data">
<code class="sig-name descname">erase_data</code><span class="sig-paren">(</span><em class="sig-param">entity</em>, <em class="sig-param">auth</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.erase_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="data-count">
<h2>data_count<a class="headerlink" href="#data-count" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="avesterra.avial.data_count">
<code class="sig-name descname">data_count</code><span class="sig-paren">(</span><em class="sig-param">entity</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.data_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="avesterra.avial.Class">
<em class="property">class </em><code class="sig-name descname">Class</code><a class="headerlink" href="#avesterra.avial.Class" title="Permalink to this definition">¶</a></dt>
<dd><p>AvesTerra class.</p>
</dd></dl>

<dl class="class">
<dt id="avesterra.avial.Subclass">
<em class="property">class </em><code class="sig-name descname">Subclass</code><a class="headerlink" href="#avesterra.avial.Subclass" title="Permalink to this definition">¶</a></dt>
<dd><p>AvesTerra subclass.</p>
</dd></dl>

<dl class="class">
<dt id="avesterra.avial.Method">
<em class="property">class </em><code class="sig-name descname">Method</code><a class="headerlink" href="#avesterra.avial.Method" title="Permalink to this definition">¶</a></dt>
<dd><p>AvesTerra method.</p>
</dd></dl>

<dl class="class">
<dt id="avesterra.avial.Attribute">
<em class="property">class </em><code class="sig-name descname">Attribute</code><a class="headerlink" href="#avesterra.avial.Attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
</dd></dl>

<dl class="class">
<dt id="avesterra.avial.Value">
<em class="property">class </em><code class="sig-name descname">Value</code><span class="sig-paren">(</span><em class="sig-param">type_tag</em>, <em class="sig-param">bytes</em><span class="sig-paren">)</span><a class="headerlink" href="#avesterra.avial.Value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="registry.html" class="btn btn-neutral float-right" title="Registry operations" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="AvesTerra Avial, Python edition" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright © 2015-2020, Georgetown University

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>